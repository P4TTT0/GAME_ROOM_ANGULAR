"use strict";(self.webpackChunkmy_app=self.webpackChunkmy_app||[]).push([[179],{6304:(st,Ee,R)=>{R.d(Ee,{Dh:()=>Pe,GT:()=>fe,cc:()=>ke,on:()=>xe,pX:()=>se,xv:()=>ze});var h=R(8926),k=R(7142);st=R.hmd(st);const re=["ngOnDestroy"],se=(Te,Re,Xe,De={})=>new Proxy(Te,{get:(ye,le)=>Xe.runOutsideAngular(()=>{var _e;if(Te[le])return!(null===(_e=De?.spy)||void 0===_e)&&_e.get&&De.spy.get(le,Te[le]),Te[le];if(re.indexOf(le)>-1)return()=>{};const Oe=Re.toPromise().then(K=>{const z=K&&K[le];return"function"==typeof z?z.bind(K):z&&z.then?z.then(ve=>Xe.run(()=>ve)):Xe.run(()=>z)});return new Proxy(()=>{},{get:(K,z)=>Oe[z],apply:(K,z,ve)=>Oe.then(Fe=>{var _n;const ai=Fe&&Fe(...ve);return!(null===(_n=De?.spy)||void 0===_n)&&_n.apply&&De.spy.apply(le,ve,ai),ai})})})}),fe=(Te,Re)=>{Re.forEach(Xe=>{Object.getOwnPropertyNames(Xe.prototype||Xe).forEach(De=>{Object.defineProperty(Te.prototype,De,Object.getOwnPropertyDescriptor(Xe.prototype||Xe,De))})})};class me{constructor(Re){return Re}}const Pe=new h.OlP("angularfire2.app.options"),ze=new h.OlP("angularfire2.app.name");function xe(Te,Re,Xe){const ye="object"==typeof Xe&&Xe||{};ye.name=ye.name||"string"==typeof Xe&&Xe||"[DEFAULT]";const _e=k.Z.apps.filter(Oe=>Oe&&Oe.name===ye.name)[0]||Re.runOutsideAngular(()=>k.Z.initializeApp(Te,ye));try{JSON.stringify(Te)!==JSON.stringify(_e.options)&&L("error",`${_e.name} Firebase App already initialized with different options${st.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch{}return new me(_e)}const L=(Te,...Re)=>{(0,h.X6Q)()&&typeof console<"u"&&console[Te](...Re)};function ke(Te,Re,Xe,De,ye){const[,le,_e]=globalThis.\u0275AngularfireInstanceCache.find(Oe=>Oe[0]===Te)||[];if(le)return function ce(Te,Re){try{return Te.toString()===Re.toString()}catch{return Te===Re}}(ye,_e)||(Be("error",`${Re} was already initialized on the ${Xe} Firebase App with different settings.${Ze?" You may need to reload as Firebase is not HMR aware.":""}`),Be("warn",{is:ye,was:_e})),le;{const Oe=De();return globalThis.\u0275AngularfireInstanceCache.push([Te,Oe,ye]),Oe}}const Ze=!!st.hot,Be=(Te,...Re)=>{(0,h.X6Q)()&&typeof console<"u"&&console[Te](...Re)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},6878:(st,Ee,R)=>{R.d(Ee,{$:()=>cc,A:()=>U,D:()=>ce,I:()=>ec,J:()=>yr,L:()=>Hr,N:()=>ho,P:()=>Qa,Q:()=>Go,R:()=>Sr,U:()=>za,V:()=>Ga,W:()=>rs,X:()=>cn,Y:()=>hi,Z:()=>uc,_:()=>Tf,a:()=>vc,a0:()=>xy,a1:()=>En,a2:()=>kS,a3:()=>FS,a4:()=>nd,a5:()=>vE,a6:()=>Wa,a7:()=>Fy,a8:()=>fc,a9:()=>wE,aA:()=>z,aB:()=>nu,aC:()=>mr,aD:()=>Hs,aE:()=>wo,aF:()=>aa,aG:()=>As,aH:()=>wn,aL:()=>ea,aO:()=>Is,aa:()=>Ly,ab:()=>LS,ac:()=>EE,ad:()=>Vy,ae:()=>Nf,af:()=>od,ai:()=>Rf,aj:()=>cd,ak:()=>DE,an:()=>Jn,ao:()=>Ka,aq:()=>Vf,ar:()=>yc,as:()=>Fe,at:()=>Xt,au:()=>ct,av:()=>ye,aw:()=>zi,ax:()=>sp,ay:()=>Cr,az:()=>le,b:()=>_c,c:()=>vi,d:()=>Xf,e:()=>Jf,f:()=>tp,g:()=>vr,h:()=>vo,i:()=>Qy,j:()=>np,k:()=>er,l:()=>r_,m:()=>OE,o:()=>Do,p:()=>ze,r:()=>lt,s:()=>_i,u:()=>i_});var h=R(5861),k=R(9058),re=R(534),se=R(7582),fe=R(7879),me=R(4537);const ze={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},U={EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"};const ce=function ne(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-password":"A non-empty password must be provided","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance.","missing-recaptcha-token":"The reCAPTCHA token is missing when sending request to the backend.","invalid-recaptcha-token":"The reCAPTCHA token is invalid when sending request to the backend.","invalid-recaptcha-action":"The reCAPTCHA action is invalid when sending request to the backend.","recaptcha-not-enabled":"reCAPTCHA Enterprise integration is not enabled for this project.","missing-client-type":"The reCAPTCHA client type is missing when sending request to the backend.","missing-recaptcha-version":"The reCAPTCHA version is missing when sending request to the backend.","invalid-req-type":"Invalid request parameters.","invalid-recaptcha-version":"The reCAPTCHA version is invalid when sending request to the backend."}},Ze=function ke(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},Be=new k.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Re=new fe.Yd("@firebase/auth");function De(E,...g){Re.logLevel<=fe.in.ERROR&&Re.error(`Auth (${re.SDK_VERSION}): ${E}`,...g)}function ye(E,...g){throw K(E,...g)}function le(E,...g){return K(E,...g)}function _e(E,g,m){const I=Object.assign(Object.assign({},Ze()),{[g]:m});return new k.LL("auth","Firebase",I).create(g,{appName:E.name})}function Oe(E,g,m){if(!(g instanceof m))throw m.name!==g.constructor.name&&ye(E,"argument-error"),_e(E,"argument-error",`Type of ${g.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function K(E,...g){if("string"!=typeof E){const m=g[0],I=[...g.slice(1)];return I[0]&&(I[0].appName=E.name),E._errorFactory.create(m,...I)}return Be.create(E,...g)}function z(E,g,...m){if(!E)throw K(g,...m)}function ve(E){const g="INTERNAL ASSERTION FAILED: "+E;throw De(g),new Error(g)}function Fe(E,g){E||ve(g)}function _n(){var E;return typeof self<"u"&&(null===(E=self.location)||void 0===E?void 0:E.href)||""}function ai(){return"http:"===gs()||"https:"===gs()}function gs(){var E;return typeof self<"u"&&(null===(E=self.location)||void 0===E?void 0:E.protocol)||null}class ms{constructor(g,m){this.shortDelay=g,this.longDelay=m,Fe(m>g,"Short delay should be less than long delay!"),this.isMobile=(0,k.uI)()||(0,k.b$)()}get(){return function Qi(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(ai()||(0,k.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function jo(E,g){Fe(E.emulator,"Emulator should always be set here");const{url:m}=E.emulator;return g?`${m}${g.startsWith("/")?g.slice(1):g}`:m}class te{static initialize(g,m,I){this.fetchImpl=g,m&&(this.headersImpl=m),I&&(this.responseImpl=I)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:void ve("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:void ve("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:void ve("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const J={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},ue=new ms(3e4,6e4);function X(E,g){return E.tenantId&&!g.tenantId?Object.assign(Object.assign({},g),{tenantId:E.tenantId}):g}function he(E,g,m,I){return Se.apply(this,arguments)}function Se(){return(Se=(0,h.Z)(function*(E,g,m,I,S={}){return ut(E,S,(0,h.Z)(function*(){let M={},B={};I&&("GET"===g?B=I:M={body:JSON.stringify(I)});const Z=(0,k.xO)(Object.assign({key:E.config.apiKey},B)).slice(1),Ne=yield E._getAdditionalHeaders();return Ne["Content-Type"]="application/json",E.languageCode&&(Ne["X-Firebase-Locale"]=E.languageCode),te.fetch()(Ct(E,E.config.apiHost,m,Z),Object.assign({method:g,headers:Ne,referrerPolicy:"no-referrer"},M))}))})).apply(this,arguments)}function ut(E,g,m){return Ht.apply(this,arguments)}function Ht(){return(Ht=(0,h.Z)(function*(E,g,m){E._canInitEmulator=!1;const I=Object.assign(Object.assign({},J),g);try{const S=new qe(E),M=yield Promise.race([m(),S.promise]);S.clearNetworkTimeout();const B=yield M.json();if("needConfirmation"in B)throw tn(E,"account-exists-with-different-credential",B);if(M.ok&&!("errorMessage"in B))return B;{const Z=M.ok?B.errorMessage:B.error.message,[Ne,Ue]=Z.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===Ne)throw tn(E,"credential-already-in-use",B);if("EMAIL_EXISTS"===Ne)throw tn(E,"email-already-in-use",B);if("USER_DISABLED"===Ne)throw tn(E,"user-disabled",B);const Qe=I[Ne]||Ne.toLowerCase().replace(/[_\s]+/g,"-");if(Ue)throw _e(E,Qe,Ue);ye(E,Qe)}}catch(S){if(S instanceof k.ZR)throw S;ye(E,"network-request-failed",{message:String(S)})}})).apply(this,arguments)}function sn(E,g,m,I){return pt.apply(this,arguments)}function pt(){return(pt=(0,h.Z)(function*(E,g,m,I,S={}){const M=yield he(E,g,m,I,S);return"mfaPendingCredential"in M&&ye(E,"multi-factor-auth-required",{_serverResponse:M}),M})).apply(this,arguments)}function Ct(E,g,m,I){const S=`${g}${m}?${I}`;return E.config.emulator?jo(E.config,S):`${E.config.apiScheme}://${S}`}class qe{constructor(g){this.auth=g,this.timer=null,this.promise=new Promise((m,I)=>{this.timer=setTimeout(()=>I(le(this.auth,"network-request-failed")),ue.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function tn(E,g,m){const I={appName:E.name};m.email&&(I.email=m.email),m.phoneNumber&&(I.phoneNumber=m.phoneNumber);const S=le(E,g,I);return S.customData._tokenResponse=m,S}function Br(){return(Br=(0,h.Z)(function*(E,g){return he(E,"POST","/v1/accounts:delete",g)})).apply(this,arguments)}function gr(){return(gr=(0,h.Z)(function*(E,g){return he(E,"POST","/v1/accounts:update",g)})).apply(this,arguments)}function ys(){return(ys=(0,h.Z)(function*(E,g){return he(E,"POST","/v1/accounts:lookup",g)})).apply(this,arguments)}function Ji(E){if(E)try{const g=new Date(Number(E));if(!isNaN(g.getTime()))return g.toUTCString()}catch{}}function Xi(){return(Xi=(0,h.Z)(function*(E,g=!1){const m=(0,k.m9)(E),I=yield m.getIdToken(g),S=xt(I);z(S&&S.exp&&S.auth_time&&S.iat,m.auth,"internal-error");const M="object"==typeof S.firebase?S.firebase:void 0,B=M?.sign_in_provider;return{claims:S,token:I,authTime:Ji(vn(S.auth_time)),issuedAtTime:Ji(vn(S.iat)),expirationTime:Ji(vn(S.exp)),signInProvider:B||null,signInSecondFactor:M?.sign_in_second_factor||null}})).apply(this,arguments)}function vn(E){return 1e3*Number(E)}function xt(E){const[g,m,I]=E.split(".");if(void 0===g||void 0===m||void 0===I)return De("JWT malformed, contained fewer than 3 sections"),null;try{const S=(0,k.tV)(m);return S?JSON.parse(S):(De("Failed to decode base64 JWT payload"),null)}catch(S){return De("Caught error parsing JWT payload as JSON",S?.toString()),null}}function Zn(E,g){return mt.apply(this,arguments)}function mt(){return(mt=(0,h.Z)(function*(E,g,m=!1){if(m)return g;try{return yield g}catch(I){throw I instanceof k.ZR&&function br({code:E}){return"auth/user-disabled"===E||"auth/user-token-expired"===E}(I)&&E.auth.currentUser===E&&(yield E.auth.signOut()),I}})).apply(this,arguments)}class ui{constructor(g){this.user=g,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(g){var m;if(g){const I=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),I}{this.errorBackoff=3e4;const S=(null!==(m=this.user.stsTokenManager.expirationTime)&&void 0!==m?m:0)-Date.now()-3e5;return Math.max(0,S)}}schedule(g=!1){var m=this;if(!this.isRunning)return;const I=this.getInterval(g);this.timerId=setTimeout((0,h.Z)(function*(){yield m.iteration()}),I)}iteration(){var g=this;return(0,h.Z)(function*(){try{yield g.user.getIdToken(!0)}catch(m){return void("auth/network-request-failed"===m?.code&&g.schedule(!0))}g.schedule()})()}}class zt{constructor(g,m){this.createdAt=g,this.lastLoginAt=m,this._initializeTime()}_initializeTime(){this.lastSignInTime=Ji(this.lastLoginAt),this.creationTime=Ji(this.createdAt)}_copy(g){this.createdAt=g.createdAt,this.lastLoginAt=g.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function _s(E){return nn.apply(this,arguments)}function nn(){return nn=(0,h.Z)(function*(E){var g;const m=E.auth,I=yield E.getIdToken(),S=yield Zn(E,function Dr(E,g){return ys.apply(this,arguments)}(m,{idToken:I}));z(S?.users.length,m,"internal-error");const M=S.users[0];E._notifyReloadListener(M);const B=null!==(g=M.providerUserInfo)&&void 0!==g&&g.length?function vs(E){return E.map(g=>{var{providerId:m}=g,I=(0,se._T)(g,["providerId"]);return{providerId:m,uid:I.rawId||"",displayName:I.displayName||null,email:I.email||null,phoneNumber:I.phoneNumber||null,photoURL:I.photoUrl||null}})}(M.providerUserInfo):[],Z=function Ul(E,g){return[...E.filter(I=>!g.some(S=>S.providerId===I.providerId)),...g]}(E.providerData,B),Qe=!!E.isAnonymous&&!(E.email&&M.passwordHash||Z?.length),Ut={uid:M.localId,displayName:M.displayName||null,photoURL:M.photoUrl||null,email:M.email||null,emailVerified:M.emailVerified||!1,phoneNumber:M.phoneNumber||null,tenantId:M.tenantId||null,providerData:Z,metadata:new zt(M.createdAt,M.lastLoginAt),isAnonymous:Qe};Object.assign(E,Ut)}),nn.apply(this,arguments)}function kt(){return(kt=(0,h.Z)(function*(E){const g=(0,k.m9)(E);yield _s(g),yield g.auth._persistUserIfCurrent(g),g.auth._notifyListenersIfCurrent(g)})).apply(this,arguments)}function es(){return(es=(0,h.Z)(function*(E,g){const m=yield ut(E,{},(0,h.Z)(function*(){const I=(0,k.xO)({grant_type:"refresh_token",refresh_token:g}).slice(1),{tokenApiHost:S,apiKey:M}=E.config,B=Ct(E,S,"/v1/token",`key=${M}`),Z=yield E._getAdditionalHeaders();return Z["Content-Type"]="application/x-www-form-urlencoded",te.fetch()(B,{method:"POST",headers:Z,body:I})}));return{accessToken:m.access_token,expiresIn:m.expires_in,refreshToken:m.refresh_token}})).apply(this,arguments)}class Ri{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(g){z(g.idToken,"internal-error"),z(typeof g.idToken<"u","internal-error"),z(typeof g.refreshToken<"u","internal-error");const m="expiresIn"in g&&typeof g.expiresIn<"u"?Number(g.expiresIn):function Tt(E){const g=xt(E);return z(g,"internal-error"),z(typeof g.exp<"u","internal-error"),z(typeof g.iat<"u","internal-error"),Number(g.exp)-Number(g.iat)}(g.idToken);this.updateTokensAndExpiration(g.idToken,g.refreshToken,m)}getToken(g,m=!1){var I=this;return(0,h.Z)(function*(){return z(!I.accessToken||I.refreshToken,g,"user-token-expired"),m||!I.accessToken||I.isExpired?I.refreshToken?(yield I.refresh(g,I.refreshToken),I.accessToken):null:I.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(g,m){var I=this;return(0,h.Z)(function*(){const{accessToken:S,refreshToken:M,expiresIn:B}=yield function lo(E,g){return es.apply(this,arguments)}(g,m);I.updateTokensAndExpiration(S,M,Number(B))})()}updateTokensAndExpiration(g,m,I){this.refreshToken=m||null,this.accessToken=g||null,this.expirationTime=Date.now()+1e3*I}static fromJSON(g,m){const{refreshToken:I,accessToken:S,expirationTime:M}=m,B=new Ri;return I&&(z("string"==typeof I,"internal-error",{appName:g}),B.refreshToken=I),S&&(z("string"==typeof S,"internal-error",{appName:g}),B.accessToken=S),M&&(z("number"==typeof M,"internal-error",{appName:g}),B.expirationTime=M),B}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(g){this.accessToken=g.accessToken,this.refreshToken=g.refreshToken,this.expirationTime=g.expirationTime}_clone(){return Object.assign(new Ri,this.toJSON())}_performRefresh(){return ve("not implemented")}}function jr(E,g){z("string"==typeof E||typeof E>"u","internal-error",{appName:g})}class Kn{constructor(g){var{uid:m,auth:I,stsTokenManager:S}=g,M=(0,se._T)(g,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new ui(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=m,this.auth=I,this.stsTokenManager=S,this.accessToken=S.accessToken,this.displayName=M.displayName||null,this.email=M.email||null,this.emailVerified=M.emailVerified||!1,this.phoneNumber=M.phoneNumber||null,this.photoURL=M.photoURL||null,this.isAnonymous=M.isAnonymous||!1,this.tenantId=M.tenantId||null,this.providerData=M.providerData?[...M.providerData]:[],this.metadata=new zt(M.createdAt||void 0,M.lastLoginAt||void 0)}getIdToken(g){var m=this;return(0,h.Z)(function*(){const I=yield Zn(m,m.stsTokenManager.getToken(m.auth,g));return z(I,m.auth,"internal-error"),m.accessToken!==I&&(m.accessToken=I,yield m.auth._persistUserIfCurrent(m),m.auth._notifyListenersIfCurrent(m)),I})()}getIdTokenResult(g){return function $s(E){return Xi.apply(this,arguments)}(this,g)}reload(){return function fn(E){return kt.apply(this,arguments)}(this)}_assign(g){this!==g&&(z(this.uid===g.uid,this.auth,"internal-error"),this.displayName=g.displayName,this.photoURL=g.photoURL,this.email=g.email,this.emailVerified=g.emailVerified,this.phoneNumber=g.phoneNumber,this.isAnonymous=g.isAnonymous,this.tenantId=g.tenantId,this.providerData=g.providerData.map(m=>Object.assign({},m)),this.metadata._copy(g.metadata),this.stsTokenManager._assign(g.stsTokenManager))}_clone(g){const m=new Kn(Object.assign(Object.assign({},this),{auth:g,stsTokenManager:this.stsTokenManager._clone()}));return m.metadata._copy(this.metadata),m}_onReload(g){z(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=g,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(g){this.reloadListener?this.reloadListener(g):this.reloadUserInfo=g}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(g,m=!1){var I=this;return(0,h.Z)(function*(){let S=!1;g.idToken&&g.idToken!==I.stsTokenManager.accessToken&&(I.stsTokenManager.updateFromServerResponse(g),S=!0),m&&(yield _s(I)),yield I.auth._persistUserIfCurrent(I),S&&I.auth._notifyListenersIfCurrent(I)})()}delete(){var g=this;return(0,h.Z)(function*(){const m=yield g.getIdToken();return yield Zn(g,function Ir(E,g){return Br.apply(this,arguments)}(g.auth,{idToken:m})),g.stsTokenManager.clearRefreshToken(),g.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(g=>Object.assign({},g)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(g,m){var I,S,M,B,Z,Ne,Ue,Qe;const Ut=null!==(I=m.displayName)&&void 0!==I?I:void 0,Wr=null!==(S=m.email)&&void 0!==S?S:void 0,Ns=null!==(M=m.phoneNumber)&&void 0!==M?M:void 0,Ks=null!==(B=m.photoURL)&&void 0!==B?B:void 0,hp=null!==(Z=m.tenantId)&&void 0!==Z?Z:void 0,Ys=null!==(Ne=m._redirectEventId)&&void 0!==Ne?Ne:void 0,Rd=null!==(Ue=m.createdAt)&&void 0!==Ue?Ue:void 0,Od=null!==(Qe=m.lastLoginAt)&&void 0!==Qe?Qe:void 0,{uid:su,emailVerified:ou,isAnonymous:Ei,providerData:au,stsTokenManager:Rs}=m;z(su&&Rs,g,"internal-error");const uu=Ri.fromJSON(this.name,Rs);z("string"==typeof su,g,"internal-error"),jr(Ut,g.name),jr(Wr,g.name),z("boolean"==typeof ou,g,"internal-error"),z("boolean"==typeof Ei,g,"internal-error"),jr(Ns,g.name),jr(Ks,g.name),jr(hp,g.name),jr(Ys,g.name),jr(Rd,g.name),jr(Od,g.name);const cs=new Kn({uid:su,auth:g,email:Wr,emailVerified:ou,displayName:Ut,isAnonymous:Ei,photoURL:Ks,phoneNumber:Ns,tenantId:hp,stsTokenManager:uu,createdAt:Rd,lastLoginAt:Od});return au&&Array.isArray(au)&&(cs.providerData=au.map(Pd=>Object.assign({},Pd))),Ys&&(cs._redirectEventId=Ys),cs}static _fromIdTokenResponse(g,m,I=!1){return(0,h.Z)(function*(){const S=new Ri;S.updateFromServerResponse(m);const M=new Kn({uid:m.localId,auth:g,stsTokenManager:S,isAnonymous:I});return yield _s(M),M})()}}const Oi=new Map;function mr(E){Fe(E instanceof Function,"Expected a class definition");let g=Oi.get(E);return g?(Fe(g instanceof E,"Instance stored in cache mismatched with class"),g):(g=new E,Oi.set(E,g),g)}const ho=(()=>{class E{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,h.Z)(function*(){return!0})()}_set(m,I){var S=this;return(0,h.Z)(function*(){S.storage[m]=I})()}_get(m){var I=this;return(0,h.Z)(function*(){const S=I.storage[m];return void 0===S?null:S})()}_remove(m){var I=this;return(0,h.Z)(function*(){delete I.storage[m]})()}_addListener(m,I){}_removeListener(m,I){}}return E.type="NONE",E})();function Hs(E,g,m){return`firebase:${E}:${g}:${m}`}class F{constructor(g,m,I){this.persistence=g,this.auth=m,this.userKey=I;const{config:S,name:M}=this.auth;this.fullUserKey=Hs(this.userKey,S.apiKey,M),this.fullPersistenceKey=Hs("persistence",S.apiKey,M),this.boundEventHandler=m._onStorageEvent.bind(m),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(g){return this.persistence._set(this.fullUserKey,g.toJSON())}getCurrentUser(){var g=this;return(0,h.Z)(function*(){const m=yield g.persistence._get(g.fullUserKey);return m?Kn._fromJSON(g.auth,m):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(g){var m=this;return(0,h.Z)(function*(){if(m.persistence===g)return;const I=yield m.getCurrentUser();return yield m.removeCurrentUser(),m.persistence=g,I?m.setCurrentUser(I):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(g,m,I="authUser"){return(0,h.Z)(function*(){if(!m.length)return new F(mr(ho),g,I);const S=(yield Promise.all(m.map(function(){var Ue=(0,h.Z)(function*(Qe){if(yield Qe._isAvailable())return Qe});return function(Qe){return Ue.apply(this,arguments)}}()))).filter(Ue=>Ue);let M=S[0]||mr(ho);const B=Hs(I,g.config.apiKey,g.name);let Z=null;for(const Ue of m)try{const Qe=yield Ue._get(B);if(Qe){const Ut=Kn._fromJSON(g,Qe);Ue!==M&&(Z=Ut),M=Ue;break}}catch{}const Ne=S.filter(Ue=>Ue._shouldAllowMigration);return M._shouldAllowMigration&&Ne.length?(M=Ne[0],Z&&(yield M._set(B,Z.toJSON())),yield Promise.all(m.map(function(){var Ue=(0,h.Z)(function*(Qe){if(Qe!==M)try{yield Qe._remove(B)}catch{}});return function(Qe){return Ue.apply(this,arguments)}}())),new F(M,g,I)):new F(M,g,I)})()}}function P(E){const g=E.toLowerCase();if(g.includes("opera/")||g.includes("opr/")||g.includes("opios/"))return"Opera";if(Ke(g))return"IEMobile";if(g.includes("msie")||g.includes("trident/"))return"IE";if(g.includes("edge/"))return"Edge";if(j(g))return"Firefox";if(g.includes("silk/"))return"Silk";if(Bt(g))return"Blackberry";if(ur(g))return"Webos";if(de(g))return"Safari";if((g.includes("chrome/")||W(g))&&!g.includes("edge/"))return"Chrome";if(ct(g))return"Android";{const I=E.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===I?.length)return I[1]}return"Other"}function j(E=(0,k.z$)()){return/firefox\//i.test(E)}function de(E=(0,k.z$)()){const g=E.toLowerCase();return g.includes("safari/")&&!g.includes("chrome/")&&!g.includes("crios/")&&!g.includes("android")}function W(E=(0,k.z$)()){return/crios\//i.test(E)}function Ke(E=(0,k.z$)()){return/iemobile/i.test(E)}function ct(E=(0,k.z$)()){return/android/i.test(E)}function Bt(E=(0,k.z$)()){return/blackberry/i.test(E)}function ur(E=(0,k.z$)()){return/webos/i.test(E)}function Xt(E=(0,k.z$)()){return/iphone|ipad|ipod/i.test(E)||/macintosh/i.test(E)&&/mobile/i.test(E)}function Cr(E=(0,k.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(E)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(E)}function Vt(E=(0,k.z$)()){return Xt(E)||ct(E)||ur(E)||Bt(E)||/windows phone/i.test(E)||Ke(E)}function Ho(E,g=[]){let m;switch(E){case"Browser":m=P((0,k.z$)());break;case"Worker":m=`${P((0,k.z$)())}-${E}`;break;default:m=E}const I=g.length?g.join(","):"FirebaseCore-web";return`${m}/JsCore/${re.SDK_VERSION}/${I}`}function G(){return(G=(0,h.Z)(function*(E){return(yield he(E,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function be(E,g){return et.apply(this,arguments)}function et(){return(et=(0,h.Z)(function*(E,g){return he(E,"GET","/v2/recaptchaConfig",X(E,g))})).apply(this,arguments)}function ot(E){return void 0!==E&&void 0!==E.getResponse}function Et(E){return void 0!==E&&void 0!==E.enterprise}class Ft{constructor(g){if(this.siteKey="",this.emailPasswordEnabled=!1,void 0===g.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=g.recaptchaKey.split("/")[3],this.emailPasswordEnabled=g.recaptchaEnforcementState.some(m=>"EMAIL_PASSWORD_PROVIDER"===m.provider&&"OFF"!==m.enforcementState)}}function at(E){return new Promise((g,m)=>{const I=document.createElement("script");I.setAttribute("src",E),I.onload=g,I.onerror=S=>{const M=le("internal-error");M.customData=S,m(M)},I.type="text/javascript",I.charset="UTF-8",function on(){var E,g;return null!==(g=null===(E=document.getElementsByTagName("head"))||void 0===E?void 0:E[0])&&void 0!==g?g:document}().appendChild(I)})}function Pi(E){return`__${E}${Math.floor(1e6*Math.random())}`}class ki{constructor(g){this.type="recaptcha-enterprise",this.auth=wn(g)}verify(g="verify",m=!1){var I=this;return(0,h.Z)(function*(){function M(){return M=(0,h.Z)(function*(Z){if(!m){if(null==Z.tenantId&&null!=Z._agentRecaptchaConfig)return Z._agentRecaptchaConfig.siteKey;if(null!=Z.tenantId&&void 0!==Z._tenantRecaptchaConfigs[Z.tenantId])return Z._tenantRecaptchaConfigs[Z.tenantId].siteKey}return new Promise(function(){var Ne=(0,h.Z)(function*(Ue,Qe){be(Z,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(Ut=>{if(void 0!==Ut.recaptchaKey){const Wr=new Ft(Ut);return null==Z.tenantId?Z._agentRecaptchaConfig=Wr:Z._tenantRecaptchaConfigs[Z.tenantId]=Wr,Ue(Wr.siteKey)}Qe(new Error("recaptcha Enterprise site key undefined"))}).catch(Ut=>{Qe(Ut)})});return function(Ue,Qe){return Ne.apply(this,arguments)}}())}),M.apply(this,arguments)}function B(Z,Ne,Ue){const Qe=window.grecaptcha;Et(Qe)?Qe.enterprise.ready(()=>{Qe.enterprise.execute(Z,{action:g}).then(Ut=>{Ne(Ut)}).catch(()=>{Ne("NO_RECAPTCHA")})}):Ue(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((Z,Ne)=>{(function S(Z){return M.apply(this,arguments)})(I.auth).then(Ue=>{if(!m&&Et(window.grecaptcha))B(Ue,Z,Ne);else{if(typeof window>"u")return void Ne(new Error("RecaptchaVerifier is only supported in browser"));at("https://www.google.com/recaptcha/enterprise.js?render="+Ue).then(()=>{B(Ue,Z,Ne)}).catch(Qe=>{Ne(Qe)})}}).catch(Ue=>{Ne(Ue)})})})()}}function ci(E,g,m){return $a.apply(this,arguments)}function $a(){return($a=(0,h.Z)(function*(E,g,m,I=!1){const S=new ki(E);let M;try{M=yield S.verify(m)}catch{M=yield S.verify(m,!0)}const B=Object.assign({},g);return Object.assign(B,I?{captchaResp:M}:{captchaResponse:M}),Object.assign(B,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(B,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),B})).apply(this,arguments)}class vf{constructor(g){this.auth=g,this.queue=[]}pushCallback(g,m){const I=M=>new Promise((B,Z)=>{try{B(g(M))}catch(Ne){Z(Ne)}});I.onAbort=m,this.queue.push(I);const S=this.queue.length-1;return()=>{this.queue[S]=()=>Promise.resolve()}}runMiddleware(g){var m=this;return(0,h.Z)(function*(){if(m.auth.currentUser===g)return;const I=[];try{for(const S of m.queue)yield S(g),S.onAbort&&I.push(S.onAbort)}catch(S){I.reverse();for(const M of I)try{M()}catch{}throw m.auth._errorFactory.create("login-blocked",{originalMessage:S?.message})}})()}}class Xu{constructor(g,m,I,S){this.app=g,this.heartbeatServiceProvider=m,this.appCheckServiceProvider=I,this.config=S,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new wf(this),this.idTokenSubscription=new wf(this),this.beforeStateQueue=new vf(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Be,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=g.name,this.clientVersion=S.sdkClientVersion}_initializeWithPersistence(g,m){var I=this;return m&&(this._popupRedirectResolver=mr(m)),this._initializationPromise=this.queue((0,h.Z)(function*(){var S,M;if(!I._deleted&&(I.persistenceManager=yield F.create(I,g),!I._deleted)){if(null!==(S=I._popupRedirectResolver)&&void 0!==S&&S._shouldInitProactively)try{yield I._popupRedirectResolver._initialize(I)}catch{}yield I.initializeCurrentUser(m),I.lastNotifiedUid=(null===(M=I.currentUser)||void 0===M?void 0:M.uid)||null,!I._deleted&&(I._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var g=this;return(0,h.Z)(function*(){if(g._deleted)return;const m=yield g.assertedPersistence.getCurrentUser();if(g.currentUser||m){if(g.currentUser&&m&&g.currentUser.uid===m.uid)return g._currentUser._assign(m),void(yield g.currentUser.getIdToken());yield g._updateCurrentUser(m,!0)}})()}initializeCurrentUser(g){var m=this;return(0,h.Z)(function*(){var I;const S=yield m.assertedPersistence.getCurrentUser();let M=S,B=!1;if(g&&m.config.authDomain){yield m.getOrInitRedirectPersistenceManager();const Z=null===(I=m.redirectUser)||void 0===I?void 0:I._redirectEventId,Ne=M?._redirectEventId,Ue=yield m.tryRedirectSignIn(g);(!Z||Z===Ne)&&Ue?.user&&(M=Ue.user,B=!0)}if(!M)return m.directlySetCurrentUser(null);if(!M._redirectEventId){if(B)try{yield m.beforeStateQueue.runMiddleware(M)}catch(Z){M=S,m._popupRedirectResolver._overrideRedirectResult(m,()=>Promise.reject(Z))}return M?m.reloadAndSetCurrentUserOrClear(M):m.directlySetCurrentUser(null)}return z(m._popupRedirectResolver,m,"argument-error"),yield m.getOrInitRedirectPersistenceManager(),m.redirectUser&&m.redirectUser._redirectEventId===M._redirectEventId?m.directlySetCurrentUser(M):m.reloadAndSetCurrentUserOrClear(M)})()}tryRedirectSignIn(g){var m=this;return(0,h.Z)(function*(){let I=null;try{I=yield m._popupRedirectResolver._completeRedirectFn(m,g,!0)}catch{yield m._setRedirectUser(null)}return I})()}reloadAndSetCurrentUserOrClear(g){var m=this;return(0,h.Z)(function*(){try{yield _s(g)}catch(I){if("auth/network-request-failed"!==I?.code)return m.directlySetCurrentUser(null)}return m.directlySetCurrentUser(g)})()}useDeviceLanguage(){this.languageCode=function hn(){if(typeof navigator>"u")return null;const E=navigator;return E.languages&&E.languages[0]||E.language||null}()}_delete(){var g=this;return(0,h.Z)(function*(){g._deleted=!0})()}updateCurrentUser(g){var m=this;return(0,h.Z)(function*(){const I=g?(0,k.m9)(g):null;return I&&z(I.auth.config.apiKey===m.config.apiKey,m,"invalid-user-token"),m._updateCurrentUser(I&&I._clone(m))})()}_updateCurrentUser(g,m=!1){var I=this;return(0,h.Z)(function*(){if(!I._deleted)return g&&z(I.tenantId===g.tenantId,I,"tenant-id-mismatch"),m||(yield I.beforeStateQueue.runMiddleware(g)),I.queue((0,h.Z)(function*(){yield I.directlySetCurrentUser(g),I.notifyAuthListeners()}))})()}signOut(){var g=this;return(0,h.Z)(function*(){return yield g.beforeStateQueue.runMiddleware(null),(g.redirectPersistenceManager||g._popupRedirectResolver)&&(yield g._setRedirectUser(null)),g._updateCurrentUser(null,!0)})()}setPersistence(g){var m=this;return this.queue((0,h.Z)(function*(){yield m.assertedPersistence.setPersistence(mr(g))}))}initializeRecaptchaConfig(){var g=this;return(0,h.Z)(function*(){const m=yield be(g,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),I=new Ft(m);null==g.tenantId?g._agentRecaptchaConfig=I:g._tenantRecaptchaConfigs[g.tenantId]=I,I.emailPasswordEnabled&&new ki(g).verify()})()}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(g){this._errorFactory=new k.LL("auth","Firebase",g())}onAuthStateChanged(g,m,I){return this.registerStateListener(this.authStateSubscription,g,m,I)}beforeAuthStateChanged(g,m){return this.beforeStateQueue.pushCallback(g,m)}onIdTokenChanged(g,m,I){return this.registerStateListener(this.idTokenSubscription,g,m,I)}toJSON(){var g;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(g=this._currentUser)||void 0===g?void 0:g.toJSON()}}_setRedirectUser(g,m){var I=this;return(0,h.Z)(function*(){const S=yield I.getOrInitRedirectPersistenceManager(m);return null===g?S.removeCurrentUser():S.setCurrentUser(g)})()}getOrInitRedirectPersistenceManager(g){var m=this;return(0,h.Z)(function*(){if(!m.redirectPersistenceManager){const I=g&&mr(g)||m._popupRedirectResolver;z(I,m,"argument-error"),m.redirectPersistenceManager=yield F.create(m,[mr(I._redirectPersistence)],"redirectUser"),m.redirectUser=yield m.redirectPersistenceManager.getCurrentUser()}return m.redirectPersistenceManager})()}_redirectUserForId(g){var m=this;return(0,h.Z)(function*(){var I,S;return m._isInitialized&&(yield m.queue((0,h.Z)(function*(){}))),(null===(I=m._currentUser)||void 0===I?void 0:I._redirectEventId)===g?m._currentUser:(null===(S=m.redirectUser)||void 0===S?void 0:S._redirectEventId)===g?m.redirectUser:null})()}_persistUserIfCurrent(g){var m=this;return(0,h.Z)(function*(){if(g===m.currentUser)return m.queue((0,h.Z)(function*(){return m.directlySetCurrentUser(g)}))})()}_notifyListenersIfCurrent(g){g===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var g,m;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const I=null!==(m=null===(g=this.currentUser)||void 0===g?void 0:g.uid)&&void 0!==m?m:null;this.lastNotifiedUid!==I&&(this.lastNotifiedUid=I,this.authStateSubscription.next(this.currentUser))}registerStateListener(g,m,I,S){if(this._deleted)return()=>{};const M="function"==typeof m?m:m.next.bind(m),B=this._isInitialized?Promise.resolve():this._initializationPromise;return z(B,this,"internal-error"),B.then(()=>M(this.currentUser)),"function"==typeof m?g.addObserver(m,I,S):g.addObserver(m)}directlySetCurrentUser(g){var m=this;return(0,h.Z)(function*(){m.currentUser&&m.currentUser!==g&&m._currentUser._stopProactiveRefresh(),g&&m.isProactiveRefreshEnabled&&g._startProactiveRefresh(),m.currentUser=g,g?yield m.assertedPersistence.setCurrentUser(g):yield m.assertedPersistence.removeCurrentUser()})()}queue(g){return this.operations=this.operations.then(g,g),this.operations}get assertedPersistence(){return z(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(g){!g||this.frameworks.includes(g)||(this.frameworks.push(g),this.frameworks.sort(),this.clientVersion=Ho(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var g=this;return(0,h.Z)(function*(){var m;const I={"X-Client-Version":g.clientVersion};g.app.options.appId&&(I["X-Firebase-gmpid"]=g.app.options.appId);const S=yield null===(m=g.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===m?void 0:m.getHeartbeatsHeader();S&&(I["X-Firebase-Client"]=S);const M=yield g._getAppCheckToken();return M&&(I["X-Firebase-AppCheck"]=M),I})()}_getAppCheckToken(){var g=this;return(0,h.Z)(function*(){var m;const I=yield null===(m=g.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===m?void 0:m.getToken();return I?.error&&function Xe(E,...g){Re.logLevel<=fe.in.WARN&&Re.warn(`Auth (${re.SDK_VERSION}): ${E}`,...g)}(`Error while retrieving App Check token: ${I.error}`),I?.token})()}}function wn(E){return(0,k.m9)(E)}class wf{constructor(g){this.auth=g,this.observer=null,this.addObserver=(0,k.ne)(m=>this.observer=m)}get next(){return z(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function ec(E,g,m){const I=wn(E);z(I._canInitEmulator,I,"emulator-config-failed"),z(/^https?:\/\//.test(g),I,"invalid-emulator-scheme");const S=!!m?.disableWarnings,M=tc(g),{host:B,port:Z}=function nc(E){const g=tc(E),m=/(\/\/)?([^?#/]+)/.exec(E.substr(g.length));if(!m)return{host:"",port:null};const I=m[2].split("@").pop()||"",S=/^(\[[^\]]+\])(:|$)/.exec(I);if(S){const M=S[1];return{host:M,port:If(I.substr(M.length+1))}}{const[M,B]=I.split(":");return{host:M,port:If(B)}}}(g);I.config.emulator={url:`${M}//${B}${null===Z?"":`:${Z}`}/`},I.settings.appVerificationDisabledForTesting=!0,I.emulatorConfig=Object.freeze({host:B,port:Z,protocol:M.replace(":",""),options:Object.freeze({disableWarnings:S})}),S||function Sy(){function E(){const g=document.createElement("p"),m=g.style;g.innerText="Running in emulator mode. Do not use with production credentials.",m.position="fixed",m.width="100%",m.backgroundColor="#ffffff",m.border=".1em solid #000000",m.color="#b50000",m.bottom="0px",m.left="0px",m.margin="0px",m.zIndex="10000",m.textAlign="center",g.classList.add("firebase-emulator-warning"),document.body.appendChild(g)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",E):E())}()}function tc(E){const g=E.indexOf(":");return g<0?"":E.substr(0,g+1)}function If(E){if(!E)return null;const g=Number(E);return isNaN(g)?null:g}class yr{constructor(g,m){this.providerId=g,this.signInMethod=m}toJSON(){return ve("not implemented")}_getIdTokenResponse(g){return ve("not implemented")}_linkToIdToken(g,m){return ve("not implemented")}_getReauthenticationResolver(g){return ve("not implemented")}}function jl(E,g){return $l.apply(this,arguments)}function $l(){return($l=(0,h.Z)(function*(E,g){return he(E,"POST","/v1/accounts:resetPassword",X(E,g))})).apply(this,arguments)}function Ay(E,g){return Df.apply(this,arguments)}function Df(){return(Df=(0,h.Z)(function*(E,g){return he(E,"POST","/v1/accounts:update",g)})).apply(this,arguments)}function $r(){return($r=(0,h.Z)(function*(E,g){return he(E,"POST","/v1/accounts:update",X(E,g))})).apply(this,arguments)}function rc(E,g){return Hl.apply(this,arguments)}function Hl(){return(Hl=(0,h.Z)(function*(E,g){return sn(E,"POST","/v1/accounts:signInWithPassword",X(E,g))})).apply(this,arguments)}function ic(E,g){return zl.apply(this,arguments)}function zl(){return(zl=(0,h.Z)(function*(E,g){return he(E,"POST","/v1/accounts:sendOobCode",X(E,g))})).apply(this,arguments)}function Gl(){return(Gl=(0,h.Z)(function*(E,g){return ic(E,g)})).apply(this,arguments)}function ql(E,g){return Wl.apply(this,arguments)}function Wl(){return(Wl=(0,h.Z)(function*(E,g){return ic(E,g)})).apply(this,arguments)}function Ha(E,g){return Zl.apply(this,arguments)}function Zl(){return(Zl=(0,h.Z)(function*(E,g){return ic(E,g)})).apply(this,arguments)}function sc(){return(sc=(0,h.Z)(function*(E,g){return ic(E,g)})).apply(this,arguments)}function jt(){return(jt=(0,h.Z)(function*(E,g){return sn(E,"POST","/v1/accounts:signInWithEmailLink",X(E,g))})).apply(this,arguments)}function Qn(){return(Qn=(0,h.Z)(function*(E,g){return sn(E,"POST","/v1/accounts:signInWithEmailLink",X(E,g))})).apply(this,arguments)}class ns extends yr{constructor(g,m,I,S=null){super("password",I),this._email=g,this._password=m,this._tenantId=S}static _fromEmailAndPassword(g,m){return new ns(g,m,"password")}static _fromEmailAndCode(g,m,I=null){return new ns(g,m,"emailLink",I)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(g){const m="string"==typeof g?JSON.parse(g):g;if(m?.email&&m?.password){if("password"===m.signInMethod)return this._fromEmailAndPassword(m.email,m.password);if("emailLink"===m.signInMethod)return this._fromEmailAndCode(m.email,m.password,m.tenantId)}return null}_getIdTokenResponse(g){var m=this;return(0,h.Z)(function*(){var I;switch(m.signInMethod){case"password":const S={returnSecureToken:!0,email:m._email,password:m._password,clientType:"CLIENT_TYPE_WEB"};if(null!==(I=g._getRecaptchaConfig())&&void 0!==I&&I.emailPasswordEnabled){const M=yield ci(g,S,"signInWithPassword");return rc(g,M)}return rc(g,S).catch(function(){var M=(0,h.Z)(function*(B){if("auth/missing-recaptcha-token"===B.code){console.log("Sign-in with email address and password is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const Z=yield ci(g,S,"signInWithPassword");return rc(g,Z)}return Promise.reject(B)});return function(B){return M.apply(this,arguments)}}());case"emailLink":return function Kl(E,g){return jt.apply(this,arguments)}(g,{email:m._email,oobCode:m._password});default:ye(g,"internal-error")}})()}_linkToIdToken(g,m){var I=this;return(0,h.Z)(function*(){switch(I.signInMethod){case"password":return Ay(g,{idToken:m,returnSecureToken:!0,email:I._email,password:I._password});case"emailLink":return function Yn(E,g){return Qn.apply(this,arguments)}(g,{idToken:m,email:I._email,oobCode:I._password});default:ye(g,"internal-error")}})()}_getReauthenticationResolver(g){return this._getIdTokenResponse(g)}}function bn(E,g){return oc.apply(this,arguments)}function oc(){return(oc=(0,h.Z)(function*(E,g){return sn(E,"POST","/v1/accounts:signInWithIdp",X(E,g))})).apply(this,arguments)}class Hr extends yr{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(g){const m=new Hr(g.providerId,g.signInMethod);return g.idToken||g.accessToken?(g.idToken&&(m.idToken=g.idToken),g.accessToken&&(m.accessToken=g.accessToken),g.nonce&&!g.pendingToken&&(m.nonce=g.nonce),g.pendingToken&&(m.pendingToken=g.pendingToken)):g.oauthToken&&g.oauthTokenSecret?(m.accessToken=g.oauthToken,m.secret=g.oauthTokenSecret):ye("argument-error"),m}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(g){const m="string"==typeof g?JSON.parse(g):g,{providerId:I,signInMethod:S}=m,M=(0,se._T)(m,["providerId","signInMethod"]);if(!I||!S)return null;const B=new Hr(I,S);return B.idToken=M.idToken||void 0,B.accessToken=M.accessToken||void 0,B.secret=M.secret,B.nonce=M.nonce,B.pendingToken=M.pendingToken||null,B}_getIdTokenResponse(g){return bn(g,this.buildRequest())}_linkToIdToken(g,m){const I=this.buildRequest();return I.idToken=m,bn(g,I)}_getReauthenticationResolver(g){const m=this.buildRequest();return m.autoCreate=!1,bn(g,m)}buildRequest(){const g={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)g.pendingToken=this.pendingToken;else{const m={};this.idToken&&(m.id_token=this.idToken),this.accessToken&&(m.access_token=this.accessToken),this.secret&&(m.oauth_token_secret=this.secret),m.providerId=this.providerId,this.nonce&&!this.pendingToken&&(m.nonce=this.nonce),g.postBody=(0,k.xO)(m)}return g}}function Ql(){return(Ql=(0,h.Z)(function*(E,g){return he(E,"POST","/v1/accounts:sendVerificationCode",X(E,g))})).apply(this,arguments)}function Le(){return(Le=(0,h.Z)(function*(E,g){return sn(E,"POST","/v1/accounts:signInWithPhoneNumber",X(E,g))})).apply(this,arguments)}function un(){return(un=(0,h.Z)(function*(E,g){const m=yield sn(E,"POST","/v1/accounts:signInWithPhoneNumber",X(E,g));if(m.temporaryProof)throw tn(E,"account-exists-with-different-credential",m);return m})).apply(this,arguments)}const Fi={USER_NOT_FOUND:"user-not-found"};function Hn(){return(Hn=(0,h.Z)(function*(E,g){return sn(E,"POST","/v1/accounts:signInWithPhoneNumber",X(E,Object.assign(Object.assign({},g),{operation:"REAUTH"})),Fi)})).apply(this,arguments)}class li extends yr{constructor(g){super("phone","phone"),this.params=g}static _fromVerification(g,m){return new li({verificationId:g,verificationCode:m})}static _fromTokenResponse(g,m){return new li({phoneNumber:g,temporaryProof:m})}_getIdTokenResponse(g){return function pn(E,g){return Le.apply(this,arguments)}(g,this._makeVerificationRequest())}_linkToIdToken(g,m){return function It(E,g){return un.apply(this,arguments)}(g,Object.assign({idToken:m},this._makeVerificationRequest()))}_getReauthenticationResolver(g){return function zo(E,g){return Hn.apply(this,arguments)}(g,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:g,phoneNumber:m,verificationId:I,verificationCode:S}=this.params;return g&&m?{temporaryProof:g,phoneNumber:m}:{sessionInfo:I,code:S}}toJSON(){const g={providerId:this.providerId};return this.params.phoneNumber&&(g.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(g.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(g.verificationCode=this.params.verificationCode),this.params.verificationId&&(g.verificationId=this.params.verificationId),g}static fromJSON(g){"string"==typeof g&&(g=JSON.parse(g));const{verificationId:m,verificationCode:I,phoneNumber:S,temporaryProof:M}=g;return I||m||S||M?new li({verificationId:m,verificationCode:I,phoneNumber:S,temporaryProof:M}):null}}class di{constructor(g){var m,I,S,M,B,Z;const Ne=(0,k.zd)((0,k.pd)(g)),Ue=null!==(m=Ne.apiKey)&&void 0!==m?m:null,Qe=null!==(I=Ne.oobCode)&&void 0!==I?I:null,Ut=function Cn(E){switch(E){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(S=Ne.mode)&&void 0!==S?S:null);z(Ue&&Qe&&Ut,"argument-error"),this.apiKey=Ue,this.operation=Ut,this.code=Qe,this.continueUrl=null!==(M=Ne.continueUrl)&&void 0!==M?M:null,this.languageCode=null!==(B=Ne.languageCode)&&void 0!==B?B:null,this.tenantId=null!==(Z=Ne.tenantId)&&void 0!==Z?Z:null}static parseLink(g){const m=function po(E){const g=(0,k.zd)((0,k.pd)(E)).link,m=g?(0,k.zd)((0,k.pd)(g)).deep_link_id:null,I=(0,k.zd)((0,k.pd)(E)).deep_link_id;return(I?(0,k.zd)((0,k.pd)(I)).link:null)||I||m||g||E}(g);try{return new di(m)}catch{return null}}}let Go=(()=>{class E{constructor(){this.providerId=E.PROVIDER_ID}static credential(m,I){return ns._fromEmailAndPassword(m,I)}static credentialWithLink(m,I){const S=di.parseLink(I);return z(S,"argument-error"),ns._fromEmailAndCode(m,S.code,S.tenantId)}}return E.PROVIDER_ID="password",E.EMAIL_PASSWORD_SIGN_IN_METHOD="password",E.EMAIL_LINK_SIGN_IN_METHOD="emailLink",E})();class Es{constructor(g){this.providerId=g,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(g){this.defaultLanguageCode=g}setCustomParameters(g){return this.customParameters=g,this}getCustomParameters(){return this.customParameters}}class Li extends Es{constructor(){super(...arguments),this.scopes=[]}addScope(g){return this.scopes.includes(g)||this.scopes.push(g),this}getScopes(){return[...this.scopes]}}class cn extends Li{static credentialFromJSON(g){const m="string"==typeof g?JSON.parse(g):g;return z("providerId"in m&&"signInMethod"in m,"argument-error"),Hr._fromParams(m)}credential(g){return this._credential(Object.assign(Object.assign({},g),{nonce:g.rawNonce}))}_credential(g){return z(g.idToken||g.accessToken,"argument-error"),Hr._fromParams(Object.assign(Object.assign({},g),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(g){return cn.oauthCredentialFromTaggedObject(g)}static credentialFromError(g){return cn.oauthCredentialFromTaggedObject(g.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{oauthIdToken:m,oauthAccessToken:I,oauthTokenSecret:S,pendingToken:M,nonce:B,providerId:Z}=g;if(!I&&!S&&!m&&!M||!Z)return null;try{return new cn(Z)._credential({idToken:m,accessToken:I,nonce:B,pendingToken:M})}catch{return null}}}let za=(()=>{class E extends Li{constructor(){super("facebook.com")}static credential(m){return Hr._fromParams({providerId:E.PROVIDER_ID,signInMethod:E.FACEBOOK_SIGN_IN_METHOD,accessToken:m})}static credentialFromResult(m){return E.credentialFromTaggedObject(m)}static credentialFromError(m){return E.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m||!("oauthAccessToken"in m)||!m.oauthAccessToken)return null;try{return E.credential(m.oauthAccessToken)}catch{return null}}}return E.FACEBOOK_SIGN_IN_METHOD="facebook.com",E.PROVIDER_ID="facebook.com",E})(),Ga=(()=>{class E extends Li{constructor(){super("google.com"),this.addScope("profile")}static credential(m,I){return Hr._fromParams({providerId:E.PROVIDER_ID,signInMethod:E.GOOGLE_SIGN_IN_METHOD,idToken:m,accessToken:I})}static credentialFromResult(m){return E.credentialFromTaggedObject(m)}static credentialFromError(m){return E.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{oauthIdToken:I,oauthAccessToken:S}=m;if(!I&&!S)return null;try{return E.credential(I,S)}catch{return null}}}return E.GOOGLE_SIGN_IN_METHOD="google.com",E.PROVIDER_ID="google.com",E})(),rs=(()=>{class E extends Li{constructor(){super("github.com")}static credential(m){return Hr._fromParams({providerId:E.PROVIDER_ID,signInMethod:E.GITHUB_SIGN_IN_METHOD,accessToken:m})}static credentialFromResult(m){return E.credentialFromTaggedObject(m)}static credentialFromError(m){return E.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m||!("oauthAccessToken"in m)||!m.oauthAccessToken)return null;try{return E.credential(m.oauthAccessToken)}catch{return null}}}return E.GITHUB_SIGN_IN_METHOD="github.com",E.PROVIDER_ID="github.com",E})();class Is extends yr{constructor(g,m){super(g,g),this.pendingToken=m}_getIdTokenResponse(g){return bn(g,this.buildRequest())}_linkToIdToken(g,m){const I=this.buildRequest();return I.idToken=m,bn(g,I)}_getReauthenticationResolver(g){const m=this.buildRequest();return m.autoCreate=!1,bn(g,m)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(g){const m="string"==typeof g?JSON.parse(g):g,{providerId:I,signInMethod:S,pendingToken:M}=m;return I&&S&&M&&I===S?new Is(I,M):null}static _create(g,m){return new Is(g,m)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class hi extends Es{constructor(g){z(g.startsWith("saml."),"argument-error"),super(g)}static credentialFromResult(g){return hi.samlCredentialFromTaggedObject(g)}static credentialFromError(g){return hi.samlCredentialFromTaggedObject(g.customData||{})}static credentialFromJSON(g){const m=Is.fromJSON(g);return z(m,"argument-error"),m}static samlCredentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{pendingToken:m,providerId:I}=g;if(!m||!I)return null;try{return Is._create(I,m)}catch{return null}}}let uc=(()=>{class E extends Li{constructor(){super("twitter.com")}static credential(m,I){return Hr._fromParams({providerId:E.PROVIDER_ID,signInMethod:E.TWITTER_SIGN_IN_METHOD,oauthToken:m,oauthTokenSecret:I})}static credentialFromResult(m){return E.credentialFromTaggedObject(m)}static credentialFromError(m){return E.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{oauthAccessToken:I,oauthTokenSecret:S}=m;if(!I||!S)return null;try{return E.credential(I,S)}catch{return null}}}return E.TWITTER_SIGN_IN_METHOD="twitter.com",E.PROVIDER_ID="twitter.com",E})();function mo(E,g){return St.apply(this,arguments)}function St(){return(St=(0,h.Z)(function*(E,g){return sn(E,"POST","/v1/accounts:signUp",X(E,g))})).apply(this,arguments)}class Vi{constructor(g){this.user=g.user,this.providerId=g.providerId,this._tokenResponse=g._tokenResponse,this.operationType=g.operationType}static _fromIdTokenResponse(g,m,I,S=!1){return(0,h.Z)(function*(){const M=yield Kn._fromIdTokenResponse(g,I,S),B=Jl(I);return new Vi({user:M,providerId:B,_tokenResponse:I,operationType:m})})()}static _forOperation(g,m,I){return(0,h.Z)(function*(){yield g._updateTokensIfNecessary(I,!0);const S=Jl(I);return new Vi({user:g,providerId:S,_tokenResponse:I,operationType:m})})()}}function Jl(E){return E.providerId?E.providerId:"phoneNumber"in E?"phone":null}function Tf(E){return fi.apply(this,arguments)}function fi(){return(fi=(0,h.Z)(function*(E){var g;const m=wn(E);if(yield m._initializationPromise,null!==(g=m.currentUser)&&void 0!==g&&g.isAnonymous)return new Vi({user:m.currentUser,providerId:null,operationType:"signIn"});const I=yield mo(m,{returnSecureToken:!0}),S=yield Vi._fromIdTokenResponse(m,"signIn",I,!0);return yield m._updateCurrentUser(S.user),S})).apply(this,arguments)}class qo extends k.ZR{constructor(g,m,I,S){var M;super(m.code,m.message),this.operationType=I,this.user=S,Object.setPrototypeOf(this,qo.prototype),this.customData={appName:g.name,tenantId:null!==(M=g.tenantId)&&void 0!==M?M:void 0,_serverResponse:m.customData._serverResponse,operationType:I}}static _fromErrorAndOperation(g,m,I,S){return new qo(g,m,I,S)}}function Wo(E,g,m,I){return("reauthenticate"===g?m._getReauthenticationResolver(E):m._getIdTokenResponse(E)).catch(M=>{throw"auth/multi-factor-auth-required"===M.code?qo._fromErrorAndOperation(E,M,g,I):M})}function Zo(E){return new Set(E.map(({providerId:g})=>g).filter(g=>!!g))}function Jn(E,g){return Sf.apply(this,arguments)}function Sf(){return Sf=(0,h.Z)(function*(E,g){const m=(0,k.m9)(E);yield Ko(!0,m,g);const{providerUserInfo:I}=yield function _t(E,g){return gr.apply(this,arguments)}(m.auth,{idToken:yield m.getIdToken(),deleteProvider:[g]}),S=Zo(I||[]);return m.providerData=m.providerData.filter(M=>S.has(M.providerId)),S.has("phone")||(m.phoneNumber=null),yield m.auth._persistUserIfCurrent(m),m}),Sf.apply(this,arguments)}function _r(E,g){return cr.apply(this,arguments)}function cr(){return(cr=(0,h.Z)(function*(E,g,m=!1){const I=yield Zn(E,g._linkToIdToken(E.auth,yield E.getIdToken()),m);return Vi._forOperation(E,"link",I)})).apply(this,arguments)}function Ko(E,g,m){return Ds.apply(this,arguments)}function Ds(){return(Ds=(0,h.Z)(function*(E,g,m){yield _s(g);const S=!1===E?"provider-already-linked":"no-such-provider";z(Zo(g.providerData).has(m)===E,g.auth,S)})).apply(this,arguments)}function qa(E,g){return pi.apply(this,arguments)}function pi(){return(pi=(0,h.Z)(function*(E,g,m=!1){const{auth:I}=E,S="reauthenticate";try{const M=yield Zn(E,Wo(I,S,g,E),m);z(M.idToken,I,"internal-error");const B=xt(M.idToken);z(B,I,"internal-error");const{sub:Z}=B;return z(E.uid===Z,I,"user-mismatch"),Vi._forOperation(E,S,M)}catch(M){throw"auth/user-not-found"===M?.code&&ye(I,"user-mismatch"),M}})).apply(this,arguments)}function Xl(E,g){return ed.apply(this,arguments)}function ed(){return(ed=(0,h.Z)(function*(E,g,m=!1){const I="signIn",S=yield Wo(E,I,g),M=yield Vi._fromIdTokenResponse(E,I,S);return m||(yield E._updateCurrentUser(M.user)),M})).apply(this,arguments)}function cc(E,g){return Af.apply(this,arguments)}function Af(){return(Af=(0,h.Z)(function*(E,g){return Xl(wn(E),g)})).apply(this,arguments)}function xy(E,g){return Mf.apply(this,arguments)}function Mf(){return(Mf=(0,h.Z)(function*(E,g){const m=(0,k.m9)(E);return yield Ko(!1,m,g.providerId),_r(m,g)})).apply(this,arguments)}function En(E,g){return Ny.apply(this,arguments)}function Ny(){return(Ny=(0,h.Z)(function*(E,g){return qa((0,k.m9)(E),g)})).apply(this,arguments)}function Ry(){return(Ry=(0,h.Z)(function*(E,g){return sn(E,"POST","/v1/accounts:signInWithCustomToken",X(E,g))})).apply(this,arguments)}function kS(E,g){return Oy.apply(this,arguments)}function Oy(){return Oy=(0,h.Z)(function*(E,g){const m=wn(E),I=yield function PS(E,g){return Ry.apply(this,arguments)}(m,{token:g,returnSecureToken:!0}),S=yield Vi._fromIdTokenResponse(m,"signIn",I);return yield m._updateCurrentUser(S.user),S}),Oy.apply(this,arguments)}class td{constructor(g,m){this.factorId=g,this.uid=m.mfaEnrollmentId,this.enrollmentTime=new Date(m.enrolledAt).toUTCString(),this.displayName=m.displayName}static _fromServerResponse(g,m){return"phoneInfo"in m?Py._fromServerResponse(g,m):"totpInfo"in m?xf._fromServerResponse(g,m):ye(g,"internal-error")}}class Py extends td{constructor(g){super("phone",g),this.phoneNumber=g.phoneInfo}static _fromServerResponse(g,m){return new Py(m)}}class xf extends td{constructor(g){super("totp",g)}static _fromServerResponse(g,m){return new xf(m)}}function lc(E,g,m){var I;z((null===(I=m.url)||void 0===I?void 0:I.length)>0,E,"invalid-continue-uri"),z(typeof m.dynamicLinkDomain>"u"||m.dynamicLinkDomain.length>0,E,"invalid-dynamic-link-domain"),g.continueUrl=m.url,g.dynamicLinkDomain=m.dynamicLinkDomain,g.canHandleCodeInApp=m.handleCodeInApp,m.iOS&&(z(m.iOS.bundleId.length>0,E,"missing-ios-bundle-id"),g.iOSBundleId=m.iOS.bundleId),m.android&&(z(m.android.packageName.length>0,E,"missing-android-pkg-name"),g.androidInstallApp=m.android.installApp,g.androidMinimumVersionCode=m.android.minimumVersion,g.androidPackageName=m.android.packageName)}function FS(E,g,m){return ky.apply(this,arguments)}function ky(){return ky=(0,h.Z)(function*(E,g,m){var I;const S=wn(E),M={requestType:"PASSWORD_RESET",email:g,clientType:"CLIENT_TYPE_WEB"};if(null!==(I=S._getRecaptchaConfig())&&void 0!==I&&I.emailPasswordEnabled){const B=yield ci(S,M,"getOobCode",!0);m&&lc(S,B,m),yield ql(S,B)}else m&&lc(S,M,m),yield ql(S,M).catch(function(){var B=(0,h.Z)(function*(Z){if("auth/missing-recaptcha-token"!==Z.code)return Promise.reject(Z);{console.log("Password resets are protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the password reset flow.");const Ne=yield ci(S,M,"getOobCode",!0);m&&lc(S,Ne,m),yield ql(S,Ne)}});return function(Z){return B.apply(this,arguments)}}())}),ky.apply(this,arguments)}function nd(E,g,m){return dc.apply(this,arguments)}function dc(){return(dc=(0,h.Z)(function*(E,g,m){yield jl((0,k.m9)(E),{oobCode:g,newPassword:m})})).apply(this,arguments)}function vE(E,g){return hc.apply(this,arguments)}function hc(){return hc=(0,h.Z)(function*(E,g){yield function _E(E,g){return $r.apply(this,arguments)}((0,k.m9)(E),{oobCode:g})}),hc.apply(this,arguments)}function Wa(E,g){return zs.apply(this,arguments)}function zs(){return(zs=(0,h.Z)(function*(E,g){const m=(0,k.m9)(E),I=yield jl(m,{oobCode:g}),S=I.requestType;switch(z(S,m,"internal-error"),S){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":z(I.newEmail,m,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":z(I.mfaInfo,m,"internal-error");default:z(I.email,m,"internal-error")}let M=null;return I.mfaInfo&&(M=td._fromServerResponse(wn(m),I.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===I.requestType?I.newEmail:I.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===I.requestType?I.email:I.newEmail)||null,multiFactorInfo:M},operation:S}})).apply(this,arguments)}function Fy(E,g){return rd.apply(this,arguments)}function rd(){return(rd=(0,h.Z)(function*(E,g){const{data:m}=yield Wa((0,k.m9)(E),g);return m.email})).apply(this,arguments)}function fc(E,g,m){return id.apply(this,arguments)}function id(){return id=(0,h.Z)(function*(E,g,m){var I;const S=wn(E),M={returnSecureToken:!0,email:g,password:m,clientType:"CLIENT_TYPE_WEB"};let B;if(null!==(I=S._getRecaptchaConfig())&&void 0!==I&&I.emailPasswordEnabled){const Ue=yield ci(S,M,"signUpPassword");B=mo(S,Ue)}else B=mo(S,M).catch(function(){var Ue=(0,h.Z)(function*(Qe){if("auth/missing-recaptcha-token"===Qe.code){console.log("Sign-up is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-up flow.");const Ut=yield ci(S,M,"signUpPassword");return mo(S,Ut)}return Promise.reject(Qe)});return function(Qe){return Ue.apply(this,arguments)}}());const Z=yield B.catch(Ue=>Promise.reject(Ue)),Ne=yield Vi._fromIdTokenResponse(S,"signIn",Z);return yield S._updateCurrentUser(Ne.user),Ne}),id.apply(this,arguments)}function wE(E,g,m){return cc((0,k.m9)(E),Go.credential(g,m))}function Ly(E,g,m){return pc.apply(this,arguments)}function pc(){return pc=(0,h.Z)(function*(E,g,m){var I;const S=wn(E),M={requestType:"EMAIL_SIGNIN",email:g,clientType:"CLIENT_TYPE_WEB"};function B(Z,Ne){z(Ne.handleCodeInApp,S,"argument-error"),Ne&&lc(S,Z,Ne)}if(null!==(I=S._getRecaptchaConfig())&&void 0!==I&&I.emailPasswordEnabled){const Z=yield ci(S,M,"getOobCode",!0);B(Z,m),yield Ha(S,Z)}else B(M,m),yield Ha(S,M).catch(function(){var Z=(0,h.Z)(function*(Ne){if("auth/missing-recaptcha-token"!==Ne.code)return Promise.reject(Ne);{console.log("Email link sign-in is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const Ue=yield ci(S,M,"getOobCode",!0);B(Ue,m),yield Ha(S,Ue)}});return function(Ne){return Z.apply(this,arguments)}}())}),pc.apply(this,arguments)}function LS(E,g){const m=di.parseLink(g);return"EMAIL_SIGNIN"===m?.operation}function EE(E,g,m){return Ui.apply(this,arguments)}function Ui(){return(Ui=(0,h.Z)(function*(E,g,m){const I=(0,k.m9)(E),S=Go.credentialWithLink(g,m||_n());return z(S._tenantId===(I.tenantId||null),I,"tenant-id-mismatch"),cc(I,S)})).apply(this,arguments)}function Fn(){return(Fn=(0,h.Z)(function*(E,g){return he(E,"POST","/v1/accounts:createAuthUri",X(E,g))})).apply(this,arguments)}function Vy(E,g){return Uy.apply(this,arguments)}function Uy(){return Uy=(0,h.Z)(function*(E,g){const I={identifier:g,continueUri:ai()?_n():"http://localhost"},{signinMethods:S}=yield function sd(E,g){return Fn.apply(this,arguments)}((0,k.m9)(E),I);return S||[]}),Uy.apply(this,arguments)}function Nf(E,g){return Za.apply(this,arguments)}function Za(){return Za=(0,h.Z)(function*(E,g){const m=(0,k.m9)(E),S={requestType:"VERIFY_EMAIL",idToken:yield E.getIdToken()};g&&lc(m.auth,S,g);const{email:M}=yield function bf(E,g){return Gl.apply(this,arguments)}(m.auth,S);M!==E.email&&(yield E.reload())}),Za.apply(this,arguments)}function od(E,g,m){return ad.apply(this,arguments)}function ad(){return ad=(0,h.Z)(function*(E,g,m){const I=(0,k.m9)(E),M={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield E.getIdToken(),newEmail:g};m&&lc(I.auth,M,m);const{email:B}=yield function Cf(E,g){return sc.apply(this,arguments)}(I.auth,M);B!==E.email&&(yield E.reload())}),ad.apply(this,arguments)}function ud(){return(ud=(0,h.Z)(function*(E,g){return he(E,"POST","/v1/accounts:update",g)})).apply(this,arguments)}function Rf(E,g){return Of.apply(this,arguments)}function Of(){return Of=(0,h.Z)(function*(E,{displayName:g,photoURL:m}){if(void 0===g&&void 0===m)return;const I=(0,k.m9)(E),M={idToken:yield I.getIdToken(),displayName:g,photoUrl:m,returnSecureToken:!0},B=yield Zn(I,function IE(E,g){return ud.apply(this,arguments)}(I.auth,M));I.displayName=B.displayName||null,I.photoURL=B.photoUrl||null;const Z=I.providerData.find(({providerId:Ne})=>"password"===Ne);Z&&(Z.displayName=I.displayName,Z.photoURL=I.photoURL),yield I._updateTokensIfNecessary(B)}),Of.apply(this,arguments)}function cd(E,g){return bE((0,k.m9)(E),g,null)}function DE(E,g){return bE((0,k.m9)(E),null,g)}function bE(E,g,m){return By.apply(this,arguments)}function By(){return(By=(0,h.Z)(function*(E,g,m){const{auth:I}=E,M={idToken:yield E.getIdToken(),returnSecureToken:!0};g&&(M.email=g),m&&(M.password=m);const B=yield Zn(E,Ay(I,M));yield E._updateTokensIfNecessary(B,!0)})).apply(this,arguments)}class Yo{constructor(g,m,I={}){this.isNewUser=g,this.providerId=m,this.profile=I}}class jy extends Yo{constructor(g,m,I,S){super(g,m,I),this.username=S}}class gc extends Yo{constructor(g,m){super(g,"facebook.com",m)}}class Pf extends jy{constructor(g,m){super(g,"github.com",m,"string"==typeof m?.login?m?.login:null)}}class kf extends Yo{constructor(g,m){super(g,"google.com",m)}}class ld extends jy{constructor(g,m,I){super(g,"twitter.com",m,I)}}function Ka(E){const{user:g,_tokenResponse:m}=E;return g.isAnonymous&&!m?{providerId:null,isNewUser:!1,profile:null}:function CE(E){var g,m;if(!E)return null;const{providerId:I}=E,S=E.rawUserInfo?JSON.parse(E.rawUserInfo):{},M=E.isNewUser||"identitytoolkit#SignupNewUserResponse"===E.kind;if(!I&&E?.idToken){const B=null===(m=null===(g=xt(E.idToken))||void 0===g?void 0:g.firebase)||void 0===m?void 0:m.sign_in_provider;if(B)return new Yo(M,"anonymous"!==B&&"custom"!==B?B:null)}if(!I)return null;switch(I){case"facebook.com":return new gc(M,S);case"github.com":return new Pf(M,S);case"google.com":return new kf(M,S);case"twitter.com":return new ld(M,S,E.screenName||null);case"custom":case"anonymous":return new Yo(M,null);default:return new Yo(M,I,S)}}(m)}class gi{constructor(g,m,I){this.type=g,this.credential=m,this.auth=I}static _fromIdtoken(g,m){return new gi("enroll",g,m)}static _fromMfaPendingCredential(g){return new gi("signin",g)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(g){var m,I;if(g?.multiFactorSession){if(null!==(m=g.multiFactorSession)&&void 0!==m&&m.pendingCredential)return gi._fromMfaPendingCredential(g.multiFactorSession.pendingCredential);if(null!==(I=g.multiFactorSession)&&void 0!==I&&I.idToken)return gi._fromIdtoken(g.multiFactorSession.idToken)}return null}}class zn{constructor(g,m,I){this.session=g,this.hints=m,this.signInResolver=I}static _fromError(g,m){const I=wn(g),S=m.customData._serverResponse,M=(S.mfaInfo||[]).map(Z=>td._fromServerResponse(I,Z));z(S.mfaPendingCredential,I,"internal-error");const B=gi._fromMfaPendingCredential(S.mfaPendingCredential);return new zn(B,M,function(){var Z=(0,h.Z)(function*(Ne){const Ue=yield Ne._process(I,B);delete S.mfaInfo,delete S.mfaPendingCredential;const Qe=Object.assign(Object.assign({},S),{idToken:Ue.idToken,refreshToken:Ue.refreshToken});switch(m.operationType){case"signIn":const Ut=yield Vi._fromIdTokenResponse(I,m.operationType,Qe);return yield I._updateCurrentUser(Ut.user),Ut;case"reauthenticate":return z(m.user,I,"internal-error"),Vi._forOperation(m.user,m.operationType,Qe);default:ye(I,"internal-error")}});return function(Ne){return Z.apply(this,arguments)}}())}resolveSignIn(g){var m=this;return(0,h.Z)(function*(){return m.signInResolver(g)})()}}function Vf(E,g){var m;const I=(0,k.m9)(E),S=g;return z(g.customData.operationType,I,"argument-error"),z(null===(m=S.customData._serverResponse)||void 0===m?void 0:m.mfaPendingCredential,I,"argument-error"),zn._fromError(I,S)}class hd{constructor(g){this.user=g,this.enrolledFactors=[],g._onReload(m=>{m.mfaInfo&&(this.enrolledFactors=m.mfaInfo.map(I=>td._fromServerResponse(g.auth,I)))})}static _fromUser(g){return new hd(g)}getSession(){var g=this;return(0,h.Z)(function*(){return gi._fromIdtoken(yield g.user.getIdToken(),g.user.auth)})()}enroll(g,m){var I=this;return(0,h.Z)(function*(){const S=g,M=yield I.getSession(),B=yield Zn(I.user,S._process(I.user.auth,M,m));return yield I.user._updateTokensIfNecessary(B),I.user.reload()})()}unenroll(g){var m=this;return(0,h.Z)(function*(){const I="string"==typeof g?g:g.uid,S=yield m.user.getIdToken();try{const M=yield Zn(m.user,function Gy(E,g){return he(E,"POST","/v2/accounts/mfaEnrollment:withdraw",X(E,g))}(m.user.auth,{idToken:S,mfaEnrollmentId:I}));m.enrolledFactors=m.enrolledFactors.filter(({uid:B})=>B!==I),yield m.user._updateTokensIfNecessary(M),yield m.user.reload()}catch(M){throw M}})()}}const ji=new WeakMap;function yc(E){const g=(0,k.m9)(E);return ji.has(g)||ji.set(g,hd._fromUser(g)),ji.get(g)}const Xo="__sak";class fd{constructor(g,m){this.storageRetriever=g,this.type=m}_isAvailable(){try{return this.storage?(this.storage.setItem(Xo,"1"),this.storage.removeItem(Xo),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(g,m){return this.storage.setItem(g,JSON.stringify(m)),Promise.resolve()}_get(g){const m=this.storage.getItem(g);return Promise.resolve(m?JSON.parse(m):null)}_remove(g){return this.storage.removeItem(g),Promise.resolve()}get storage(){return this.storageRetriever()}}const _c=(()=>{class E extends fd{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(m,I)=>this.onStorageEvent(m,I),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function qy(){const E=(0,k.z$)();return de(E)||Xt(E)}()&&function ws(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=Vt(),this._shouldAllowMigration=!0}forAllChangedKeys(m){for(const I of Object.keys(this.listeners)){const S=this.storage.getItem(I),M=this.localCache[I];S!==M&&m(I,M,S)}}onStorageEvent(m,I=!1){if(!m.key)return void this.forAllChangedKeys((Z,Ne,Ue)=>{this.notifyListeners(Z,Ue)});const S=m.key;if(I?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const Z=this.storage.getItem(S);if(m.newValue!==Z)null!==m.newValue?this.storage.setItem(S,m.newValue):this.storage.removeItem(S);else if(this.localCache[S]===m.newValue&&!I)return}const M=()=>{const Z=this.storage.getItem(S);!I&&this.localCache[S]===Z||this.notifyListeners(S,Z)},B=this.storage.getItem(S);!function Tr(){return(0,k.w1)()&&10===document.documentMode}()||B===m.newValue||m.newValue===m.oldValue?M():setTimeout(M,10)}notifyListeners(m,I){this.localCache[m]=I;const S=this.listeners[m];if(S)for(const M of Array.from(S))M(I&&JSON.parse(I))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((m,I,S)=>{this.onStorageEvent(new StorageEvent("storage",{key:m,oldValue:I,newValue:S}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(m,I){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[m]||(this.listeners[m]=new Set,this.localCache[m]=this.storage.getItem(m)),this.listeners[m].add(I)}_removeListener(m,I){this.listeners[m]&&(this.listeners[m].delete(I),0===this.listeners[m].size&&delete this.listeners[m]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(m,I){var S=()=>super._set,M=this;return(0,h.Z)(function*(){yield S().call(M,m,I),M.localCache[m]=JSON.stringify(I)})()}_get(m){var I=()=>super._get,S=this;return(0,h.Z)(function*(){const M=yield I().call(S,m);return S.localCache[m]=JSON.stringify(M),M})()}_remove(m){var I=()=>super._remove,S=this;return(0,h.Z)(function*(){yield I().call(S,m),delete S.localCache[m]})()}}return E.type="LOCAL",E})(),vc=(()=>{class E extends fd{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(m,I){}_removeListener(m,I){}}return E.type="SESSION",E})();let Ky=(()=>{class E{constructor(m){this.eventTarget=m,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(m){const I=this.receivers.find(M=>M.isListeningto(m));if(I)return I;const S=new E(m);return this.receivers.push(S),S}isListeningto(m){return this.eventTarget===m}handleEvent(m){var I=this;return(0,h.Z)(function*(){const S=m,{eventId:M,eventType:B,data:Z}=S.data,Ne=I.handlersMap[B];if(!Ne?.size)return;S.ports[0].postMessage({status:"ack",eventId:M,eventType:B});const Ue=Array.from(Ne).map(function(){var Ut=(0,h.Z)(function*(Wr){return Wr(S.origin,Z)});return function(Wr){return Ut.apply(this,arguments)}}()),Qe=yield function Zy(E){return Promise.all(E.map(function(){var g=(0,h.Z)(function*(m){try{return{fulfilled:!0,value:yield m}}catch(I){return{fulfilled:!1,reason:I}}});return function(m){return g.apply(this,arguments)}}()))}(Ue);S.ports[0].postMessage({status:"done",eventId:M,eventType:B,response:Qe})})()}_subscribe(m,I){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[m]||(this.handlersMap[m]=new Set),this.handlersMap[m].add(I)}_unsubscribe(m,I){this.handlersMap[m]&&I&&this.handlersMap[m].delete(I),(!I||0===this.handlersMap[m].size)&&delete this.handlersMap[m],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return E.receivers=[],E})();function ea(E="",g=10){let m="";for(let I=0;I<g;I++)m+=Math.floor(10*Math.random());return E+m}class Ya{constructor(g){this.target=g,this.handlers=new Set}removeMessageHandler(g){g.messageChannel&&(g.messageChannel.port1.removeEventListener("message",g.onMessage),g.messageChannel.port1.close()),this.handlers.delete(g)}_send(g,m,I=50){var S=this;return(0,h.Z)(function*(){const M=typeof MessageChannel<"u"?new MessageChannel:null;if(!M)throw new Error("connection_unavailable");let B,Z;return new Promise((Ne,Ue)=>{const Qe=ea("",20);M.port1.start();const Ut=setTimeout(()=>{Ue(new Error("unsupported_event"))},I);Z={messageChannel:M,onMessage(Wr){const Ns=Wr;if(Ns.data.eventId===Qe)switch(Ns.data.status){case"ack":clearTimeout(Ut),B=setTimeout(()=>{Ue(new Error("timeout"))},3e3);break;case"done":clearTimeout(B),Ne(Ns.data.response);break;default:clearTimeout(Ut),clearTimeout(B),Ue(new Error("invalid_response"))}}},S.handlers.add(Z),M.port1.addEventListener("message",Z.onMessage),S.target.postMessage({eventType:g,eventId:Qe,data:m},[M.port2])}).finally(()=>{Z&&S.removeMessageHandler(Z)})})()}}function Ln(){return window}function jf(){return typeof Ln().WorkerGlobalScope<"u"&&"function"==typeof Ln().importScripts}function gd(){return(gd=(0,h.Z)(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const md="firebaseLocalStorageDb",Tn="firebaseLocalStorage",wc="fbase_key";class $i{constructor(g){this.request=g}toPromise(){return new Promise((g,m)=>{this.request.addEventListener("success",()=>{g(this.request.result)}),this.request.addEventListener("error",()=>{m(this.request.error)})})}}function yi(E,g){return E.transaction([Tn],g?"readwrite":"readonly").objectStore(Tn)}function Ec(){const E=indexedDB.open(md,1);return new Promise((g,m)=>{E.addEventListener("error",()=>{m(E.error)}),E.addEventListener("upgradeneeded",()=>{const I=E.result;try{I.createObjectStore(Tn,{keyPath:wc})}catch(S){m(S)}}),E.addEventListener("success",(0,h.Z)(function*(){const I=E.result;I.objectStoreNames.contains(Tn)?g(I):(I.close(),yield function yd(){const E=indexedDB.deleteDatabase(md);return new $i(E).toPromise()}(),g(yield Ec()))}))})}function Hf(E,g,m){return _d.apply(this,arguments)}function _d(){return(_d=(0,h.Z)(function*(E,g,m){const I=yi(E,!0).put({[wc]:g,value:m});return new $i(I).toPromise()})).apply(this,arguments)}function gn(){return(gn=(0,h.Z)(function*(E,g){const m=yi(E,!1).get(g),I=yield new $i(m).toPromise();return void 0===I?null:I.value})).apply(this,arguments)}function is(E,g){const m=yi(E,!0).delete(g);return new $i(m).toPromise()}const Qy=(()=>{class E{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var m=this;return(0,h.Z)(function*(){return m.db||(m.db=yield Ec()),m.db})()}_withRetries(m){var I=this;return(0,h.Z)(function*(){let S=0;for(;;)try{const M=yield I._openDb();return yield m(M)}catch(M){if(S++>3)throw M;I.db&&(I.db.close(),I.db=void 0)}})()}initializeServiceWorkerMessaging(){var m=this;return(0,h.Z)(function*(){return jf()?m.initializeReceiver():m.initializeSender()})()}initializeReceiver(){var m=this;return(0,h.Z)(function*(){m.receiver=Ky._getInstance(function $t(){return jf()?self:null}()),m.receiver._subscribe("keyChanged",function(){var I=(0,h.Z)(function*(S,M){return{keyProcessed:(yield m._poll()).includes(M.key)}});return function(S,M){return I.apply(this,arguments)}}()),m.receiver._subscribe("ping",function(){var I=(0,h.Z)(function*(S,M){return["keyChanged"]});return function(S,M){return I.apply(this,arguments)}}())})()}initializeSender(){var m=this;return(0,h.Z)(function*(){var I,S;if(m.activeServiceWorker=yield function Yy(){return gd.apply(this,arguments)}(),!m.activeServiceWorker)return;m.sender=new Ya(m.activeServiceWorker);const M=yield m.sender._send("ping",{},800);M&&null!==(I=M[0])&&void 0!==I&&I.fulfilled&&null!==(S=M[0])&&void 0!==S&&S.value.includes("keyChanged")&&(m.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(m){var I=this;return(0,h.Z)(function*(){if(I.sender&&I.activeServiceWorker&&function ge(){var E;return(null===(E=navigator?.serviceWorker)||void 0===E?void 0:E.controller)||null}()===I.activeServiceWorker)try{yield I.sender._send("keyChanged",{key:m},I.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,h.Z)(function*(){try{if(!indexedDB)return!1;const m=yield Ec();return yield Hf(m,Xo,"1"),yield is(m,Xo),!0}catch{}return!1})()}_withPendingWrite(m){var I=this;return(0,h.Z)(function*(){I.pendingWrites++;try{yield m()}finally{I.pendingWrites--}})()}_set(m,I){var S=this;return(0,h.Z)(function*(){return S._withPendingWrite((0,h.Z)(function*(){return yield S._withRetries(M=>Hf(M,m,I)),S.localCache[m]=I,S.notifyServiceWorker(m)}))})()}_get(m){var I=this;return(0,h.Z)(function*(){const S=yield I._withRetries(M=>function vd(E,g){return gn.apply(this,arguments)}(M,m));return I.localCache[m]=S,S})()}_remove(m){var I=this;return(0,h.Z)(function*(){return I._withPendingWrite((0,h.Z)(function*(){return yield I._withRetries(S=>is(S,m)),delete I.localCache[m],I.notifyServiceWorker(m)}))})()}_poll(){var m=this;return(0,h.Z)(function*(){const I=yield m._withRetries(B=>{const Z=yi(B,!1).getAll();return new $i(Z).toPromise()});if(!I)return[];if(0!==m.pendingWrites)return[];const S=[],M=new Set;for(const{fbase_key:B,value:Z}of I)M.add(B),JSON.stringify(m.localCache[B])!==JSON.stringify(Z)&&(m.notifyListeners(B,Z),S.push(B));for(const B of Object.keys(m.localCache))m.localCache[B]&&!M.has(B)&&(m.notifyListeners(B,null),S.push(B));return S})()}notifyListeners(m,I){this.localCache[m]=I;const S=this.listeners[m];if(S)for(const M of Array.from(S))M(I)}startPolling(){var m=this;this.stopPolling(),this.pollTimer=setInterval((0,h.Z)(function*(){return m._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(m,I){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[m]||(this.listeners[m]=new Set,this._get(m)),this.listeners[m].add(I)}_removeListener(m,I){this.listeners[m]&&(this.listeners[m].delete(I),0===this.listeners[m].size&&delete this.listeners[m]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return E.type="LOCAL",E})(),Ic=1e12;class Wf{constructor(g){this.auth=g,this.counter=Ic,this._widgets=new Map}render(g,m){const I=this.counter;return this._widgets.set(I,new AE(g,this.auth.name,m||{})),this.counter++,I}reset(g){var m;const I=g||Ic;null===(m=this._widgets.get(I))||void 0===m||m.delete(),this._widgets.delete(I)}getResponse(g){var m;return(null===(m=this._widgets.get(g||Ic))||void 0===m?void 0:m.getResponse())||""}execute(g){var m=this;return(0,h.Z)(function*(){var I;return null===(I=m._widgets.get(g||Ic))||void 0===I||I.execute(),""})()}}class AE{constructor(g,m,I){this.params=I,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const S="string"==typeof g?document.getElementById(g):g;z(S,"argument-error",{appName:m}),this.container=S,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function e_(E){const g=[],m="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let I=0;I<E;I++)g.push(m.charAt(Math.floor(62*Math.random())));return g.join("")}(50);const{callback:g,"expired-callback":m}=this.params;if(g)try{g(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,m)try{m()}catch{}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const ta=Pi("rcb"),Zf=new ms(3e4,6e4);class Ed{constructor(){var g;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!(null===(g=Ln().grecaptcha)||void 0===g||!g.render)}load(g,m=""){return z(function t_(E){return E.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(E)}(m),g,"argument-error"),this.shouldResolveImmediately(m)&&ot(Ln().grecaptcha)?Promise.resolve(Ln().grecaptcha):new Promise((I,S)=>{const M=Ln().setTimeout(()=>{S(le(g,"network-request-failed"))},Zf.get());Ln()[ta]=()=>{Ln().clearTimeout(M),delete Ln()[ta];const Z=Ln().grecaptcha;if(!Z||!ot(Z))return void S(le(g,"internal-error"));const Ne=Z.render;Z.render=(Ue,Qe)=>{const Ut=Ne(Ue,Qe);return this.counter++,Ut},this.hostLanguage=m,I(Z)},at(`https://www.google.com/recaptcha/api.js??${(0,k.xO)({onload:ta,render:"explicit",hl:m})}`).catch(()=>{clearTimeout(M),S(le(g,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(g){var m;return!(null===(m=Ln().grecaptcha)||void 0===m||!m.render)&&(g===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class Kf{load(g){return(0,h.Z)(function*(){return new Wf(g)})()}clearedOneInstance(){}}const n_="recaptcha",ME={theme:"light",type:"image"};class Sr{constructor(g,m=Object.assign({},ME),I){this.parameters=m,this.type=n_,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=wn(I),this.isInvisible="invisible"===this.parameters.size,z(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const S="string"==typeof g?document.getElementById(g):g;z(S,this.auth,"argument-error"),this.container=S,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new Kf:new Ed,this.validateStartingState()}verify(){var g=this;return(0,h.Z)(function*(){g.assertNotDestroyed();const m=yield g.render(),I=g.getAssertedRecaptcha();return I.getResponse(m)||new Promise(M=>{const B=Z=>{Z&&(g.tokenChangeListeners.delete(B),M(Z))};g.tokenChangeListeners.add(B),g.isInvisible&&I.execute(m)})})()}render(){try{this.assertNotDestroyed()}catch(g){return Promise.reject(g)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(g=>{throw this.renderPromise=null,g})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(g=>{this.container.removeChild(g)})}validateStartingState(){z(!this.parameters.sitekey,this.auth,"argument-error"),z(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),z(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(g){return m=>{if(this.tokenChangeListeners.forEach(I=>I(m)),"function"==typeof g)g(m);else if("string"==typeof g){const I=Ln()[g];"function"==typeof I&&I(m)}}}assertNotDestroyed(){z(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var g=this;return(0,h.Z)(function*(){if(yield g.init(),!g.widgetId){let m=g.container;if(!g.isInvisible){const I=document.createElement("div");m.appendChild(I),m=I}g.widgetId=g.getAssertedRecaptcha().render(m,g.parameters)}return g.widgetId})()}init(){var g=this;return(0,h.Z)(function*(){z(ai()&&!jf(),g.auth,"internal-error"),yield function na(){let E=null;return new Promise(g=>{"complete"!==document.readyState?(E=()=>g(),window.addEventListener("load",E)):g()}).catch(g=>{throw E&&window.removeEventListener("load",E),g})}(),g.recaptcha=yield g._recaptchaLoader.load(g.auth,g.auth.languageCode||void 0);const m=yield function ie(E){return G.apply(this,arguments)}(g.auth);z(m,g.auth,"internal-error"),g.parameters.sitekey=m})()}getAssertedRecaptcha(){return z(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class mn{constructor(g,m){this.verificationId=g,this.onConfirmation=m}confirm(g){const m=li._fromVerification(this.verificationId,g);return this.onConfirmation(m)}}function _i(E,g,m){return qs.apply(this,arguments)}function qs(){return(qs=(0,h.Z)(function*(E,g,m){const I=wn(E),S=yield yo(I,g,(0,k.m9)(m));return new mn(S,M=>cc(I,M))})).apply(this,arguments)}function r_(E,g,m){return On.apply(this,arguments)}function On(){return(On=(0,h.Z)(function*(E,g,m){const I=(0,k.m9)(E);yield Ko(!1,I,"phone");const S=yield yo(I.auth,g,(0,k.m9)(m));return new mn(S,M=>xy(I,M))})).apply(this,arguments)}function lt(E,g,m){return Ar.apply(this,arguments)}function Ar(){return(Ar=(0,h.Z)(function*(E,g,m){const I=(0,k.m9)(E),S=yield yo(I.auth,g,(0,k.m9)(m));return new mn(S,M=>En(I,M))})).apply(this,arguments)}function yo(E,g,m){return ss.apply(this,arguments)}function ss(){return ss=(0,h.Z)(function*(E,g,m){var I;const S=yield m.verify();try{let M;if(z("string"==typeof S,E,"argument-error"),z(m.type===n_,E,"argument-error"),M="string"==typeof g?{phoneNumber:g}:g,"session"in M){const B=M.session;if("phoneNumber"in M)return z("enroll"===B.type,E,"internal-error"),(yield function Uf(E,g){return he(E,"POST","/v2/accounts/mfaEnrollment:start",X(E,g))}(E,{idToken:B.credential,phoneEnrollmentInfo:{phoneNumber:M.phoneNumber,recaptchaToken:S}})).phoneSessionInfo.sessionInfo;{z("signin"===B.type,E,"internal-error");const Z=(null===(I=M.multiFactorHint)||void 0===I?void 0:I.uid)||M.multiFactorUid;return z(Z,E,"missing-multi-factor-info"),(yield function Jy(E,g){return he(E,"POST","/v2/accounts/mfaSignIn:start",X(E,g))}(E,{mfaPendingCredential:B.credential,mfaEnrollmentId:Z,phoneSignInInfo:{recaptchaToken:S}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:B}=yield function My(E,g){return Ql.apply(this,arguments)}(E,{phoneNumber:M.phoneNumber,recaptchaToken:S});return B}}finally{m._reset()}}),ss.apply(this,arguments)}function i_(E,g){return ra.apply(this,arguments)}function ra(){return(ra=(0,h.Z)(function*(E,g){yield _r((0,k.m9)(E),g)})).apply(this,arguments)}let Qa=(()=>{class E{constructor(m){this.providerId=E.PROVIDER_ID,this.auth=wn(m)}verifyPhoneNumber(m,I){return yo(this.auth,m,(0,k.m9)(I))}static credential(m,I){return li._fromVerification(m,I)}static credentialFromResult(m){return E.credentialFromTaggedObject(m)}static credentialFromError(m){return E.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{phoneNumber:I,temporaryProof:S}=m;return I&&S?li._fromTokenResponse(I,S):null}}return E.PROVIDER_ID="phone",E.PHONE_SIGN_IN_METHOD="phone",E})();function os(E,g){return g?mr(g):(z(E._popupRedirectResolver,E,"argument-error"),E._popupRedirectResolver)}class Cs extends yr{constructor(g){super("custom","custom"),this.params=g}_getIdTokenResponse(g){return bn(g,this._buildIdpRequest())}_linkToIdToken(g,m){return bn(g,this._buildIdpRequest(m))}_getReauthenticationResolver(g){return bn(g,this._buildIdpRequest())}_buildIdpRequest(g){const m={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return g&&(m.idToken=g),m}}function Zt(E){return Xl(E.auth,new Cs(E),E.bypassAuthState)}function Yf(E){const{auth:g,user:m}=E;return z(m,g,"internal-error"),qa(m,new Cs(E),E.bypassAuthState)}function s_(E){return Ts.apply(this,arguments)}function Ts(){return(Ts=(0,h.Z)(function*(E){const{auth:g,user:m}=E;return z(m,g,"internal-error"),_r(m,new Cs(E),E.bypassAuthState)})).apply(this,arguments)}class as{constructor(g,m,I,S,M=!1){this.auth=g,this.resolver=I,this.user=S,this.bypassAuthState=M,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(m)?m:[m]}execute(){var g=this;return new Promise(function(){var m=(0,h.Z)(function*(I,S){g.pendingPromise={resolve:I,reject:S};try{g.eventManager=yield g.resolver._initialize(g.auth),yield g.onExecution(),g.eventManager.registerConsumer(g)}catch(M){g.reject(M)}});return function(I,S){return m.apply(this,arguments)}}())}onAuthEvent(g){var m=this;return(0,h.Z)(function*(){const{urlResponse:I,sessionId:S,postBody:M,tenantId:B,error:Z,type:Ne}=g;if(Z)return void m.reject(Z);const Ue={auth:m.auth,requestUri:I,sessionId:S,tenantId:B||void 0,postBody:M||void 0,user:m.user,bypassAuthState:m.bypassAuthState};try{m.resolve(yield m.getIdpTask(Ne)(Ue))}catch(Qe){m.reject(Qe)}})()}onError(g){this.reject(g)}getIdpTask(g){switch(g){case"signInViaPopup":case"signInViaRedirect":return Zt;case"linkViaPopup":case"linkViaRedirect":return s_;case"reauthViaPopup":case"reauthViaRedirect":return Yf;default:ye(this.auth,"internal-error")}}resolve(g){Fe(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(g),this.unregisterAndCleanUp()}reject(g){Fe(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(g),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Qf=new ms(2e3,1e4);function vi(E,g,m){return Ja.apply(this,arguments)}function Ja(){return(Ja=(0,h.Z)(function*(E,g,m){const I=wn(E);Oe(E,g,Es);const S=os(I,m);return new Xa(I,"signInViaPopup",g,S).executeNotNull()})).apply(this,arguments)}function Jf(E,g,m){return Id.apply(this,arguments)}function Id(){return(Id=(0,h.Z)(function*(E,g,m){const I=(0,k.m9)(E);Oe(I.auth,g,Es);const S=os(I.auth,m);return new Xa(I.auth,"reauthViaPopup",g,S,I).executeNotNull()})).apply(this,arguments)}function Xf(E,g,m){return ep.apply(this,arguments)}function ep(){return(ep=(0,h.Z)(function*(E,g,m){const I=(0,k.m9)(E);Oe(I.auth,g,Es);const S=os(I.auth,m);return new Xa(I.auth,"linkViaPopup",g,S,I).executeNotNull()})).apply(this,arguments)}let Xa=(()=>{class E extends as{constructor(m,I,S,M,B){super(m,I,M,B),this.provider=S,this.authWindow=null,this.pollId=null,E.currentPopupAction&&E.currentPopupAction.cancel(),E.currentPopupAction=this}executeNotNull(){var m=this;return(0,h.Z)(function*(){const I=yield m.execute();return z(I,m.auth,"internal-error"),I})()}onExecution(){var m=this;return(0,h.Z)(function*(){Fe(1===m.filter.length,"Popup operations only handle one event");const I=ea();m.authWindow=yield m.resolver._openPopup(m.auth,m.provider,m.filter[0],I),m.authWindow.associatedEvent=I,m.resolver._originValidation(m.auth).catch(S=>{m.reject(S)}),m.resolver._isIframeWebStorageSupported(m.auth,S=>{S||m.reject(le(m.auth,"web-storage-unsupported"))}),m.pollUserCancellation()})()}get eventId(){var m;return(null===(m=this.authWindow)||void 0===m?void 0:m.associatedEvent)||null}cancel(){this.reject(le(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,E.currentPopupAction=null}pollUserCancellation(){const m=()=>{var I,S;this.pollId=null!==(S=null===(I=this.authWindow)||void 0===I?void 0:I.window)&&void 0!==S&&S.closed?window.setTimeout(()=>{this.pollId=null,this.reject(le(this.auth,"popup-closed-by-user"))},8e3):window.setTimeout(m,Qf.get())};m()}}return E.currentPopupAction=null,E})();const _o="pendingRedirect",Ss=new Map;class Dd extends as{constructor(g,m,I=!1){super(g,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],m,void 0,I),this.eventId=null}execute(){var g=()=>super.execute,m=this;return(0,h.Z)(function*(){let I=Ss.get(m.auth._key());if(!I){try{const M=(yield function Ws(E,g){return ia.apply(this,arguments)}(m.resolver,m.auth))?yield g().call(m):null;I=()=>Promise.resolve(M)}catch(S){I=()=>Promise.reject(S)}Ss.set(m.auth._key(),I)}return m.bypassAuthState||Ss.set(m.auth._key(),()=>Promise.resolve(null)),I()})()}onAuthEvent(g){var m=()=>super.onAuthEvent,I=this;return(0,h.Z)(function*(){if("signInViaRedirect"===g.type)return m().call(I,g);if("unknown"!==g.type){if(g.eventId){const S=yield I.auth._redirectUserForId(g.eventId);if(S)return I.user=S,m().call(I,g);I.resolve(null)}}else I.resolve(null)})()}onExecution(){return(0,h.Z)(function*(){})()}cleanUp(){}}function ia(){return(ia=(0,h.Z)(function*(E,g){const m=zr(g),I=Mr(E);if(!(yield I._isAvailable()))return!1;const S="true"===(yield I._get(m));return yield I._remove(m),S})).apply(this,arguments)}function sa(E,g){return oa.apply(this,arguments)}function oa(){return(oa=(0,h.Z)(function*(E,g){return Mr(E)._set(zr(g),"true")})).apply(this,arguments)}function As(){Ss.clear()}function aa(E,g){Ss.set(E._key(),g)}function Mr(E){return mr(E._redirectPersistence)}function zr(E){return Hs(_o,E.config.apiKey,E.name)}function tp(E,g,m){return function Vn(E,g,m){return Sn.apply(this,arguments)}(E,g,m)}function Sn(){return(Sn=(0,h.Z)(function*(E,g,m){const I=wn(E);Oe(E,g,Es),yield I._initializationPromise;const S=os(I,m);return yield sa(S,I),S._openRedirect(I,g,"signInViaRedirect")})).apply(this,arguments)}function vo(E,g,m){return function Dc(E,g,m){return Gr.apply(this,arguments)}(E,g,m)}function Gr(){return(Gr=(0,h.Z)(function*(E,g,m){const I=(0,k.m9)(E);Oe(I.auth,g,Es),yield I.auth._initializationPromise;const S=os(I.auth,m);yield sa(S,I.auth);const M=yield xr(I);return S._openRedirect(I.auth,g,"reauthViaRedirect",M)})).apply(this,arguments)}function vr(E,g,m){return function eu(E,g,m){return tu.apply(this,arguments)}(E,g,m)}function tu(){return(tu=(0,h.Z)(function*(E,g,m){const I=(0,k.m9)(E);Oe(I.auth,g,Es),yield I.auth._initializationPromise;const S=os(I.auth,m);yield Ko(!1,I,g.providerId),yield sa(S,I.auth);const M=yield xr(I);return S._openRedirect(I.auth,g,"linkViaRedirect",M)})).apply(this,arguments)}function np(E,g){return Hi.apply(this,arguments)}function Hi(){return(Hi=(0,h.Z)(function*(E,g){return yield wn(E)._initializationPromise,wo(E,g,!1)})).apply(this,arguments)}function wo(E,g){return In.apply(this,arguments)}function In(){return(In=(0,h.Z)(function*(E,g,m=!1){const I=wn(E),S=os(I,g),B=yield new Dd(I,S,m).execute();return B&&!m&&(delete B.user._redirectEventId,yield I._persistUserIfCurrent(B.user),yield I._setRedirectUser(null,g)),B})).apply(this,arguments)}function xr(E){return bd.apply(this,arguments)}function bd(){return(bd=(0,h.Z)(function*(E){const g=ea(`${E.uid}:::`);return E._redirectEventId=g,yield E.auth._setRedirectUser(E),yield E.auth._persistUserIfCurrent(E),g})).apply(this,arguments)}class nu{constructor(g){this.auth=g,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(g){this.consumers.add(g),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,g)&&(this.sendToConsumer(this.queuedRedirectEvent,g),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(g){this.consumers.delete(g)}onEvent(g){if(this.hasEventBeenHandled(g))return!1;let m=!1;return this.consumers.forEach(I=>{this.isEventForConsumer(g,I)&&(m=!0,this.sendToConsumer(g,I),this.saveEventToCache(g))}),this.hasHandledPotentialRedirect||!function Xn(E){switch(E.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return ip(E);default:return!1}}(g)||(this.hasHandledPotentialRedirect=!0,m||(this.queuedRedirectEvent=g,m=!0)),m}sendToConsumer(g,m){var I;if(g.error&&!ip(g)){const S=(null===(I=g.error.code)||void 0===I?void 0:I.split("auth/")[1])||"internal-error";m.onError(le(this.auth,S))}else m.onAuthEvent(g)}isEventForConsumer(g,m){const I=null===m.eventId||!!g.eventId&&g.eventId===m.eventId;return m.filter.includes(g.type)&&I}hasEventBeenHandled(g){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(ua(g))}saveEventToCache(g){this.cachedEventUids.add(ua(g)),this.lastProcessedEventTime=Date.now()}}function ua(E){return[E.type,E.eventId,E.sessionId,E.tenantId].filter(g=>g).join("-")}function ip({type:E,error:g}){return"unknown"===E&&"auth/no-auth-event"===g?.code}function sp(E){return bc.apply(this,arguments)}function bc(){return(bc=(0,h.Z)(function*(E,g={}){return he(E,"GET","/v1/projects",g)})).apply(this,arguments)}const vt=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,ru=/^https?/;function us(){return(us=(0,h.Z)(function*(E){if(E.config.emulator)return;const{authorizedDomains:g}=yield sp(E);for(const m of g)try{if(ca(m))return}catch{}ye(E,"unauthorized-domain")})).apply(this,arguments)}function ca(E){const g=_n(),{protocol:m,hostname:I}=new URL(g);if(E.startsWith("chrome-extension://")){const B=new URL(E);return""===B.hostname&&""===I?"chrome-extension:"===m&&E.replace("chrome-extension://","")===g.replace("chrome-extension://",""):"chrome-extension:"===m&&B.hostname===I}if(!ru.test(m))return!1;if(vt.test(E))return I===E;const S=E.replace(/\./g,"\\.");return new RegExp("^(.+\\."+S+"|"+S+")$","i").test(I)}const la=new ms(3e4,6e4);function lr(){const E=Ln().___jsl;if(E?.H)for(const g of Object.keys(E.H))if(E.H[g].r=E.H[g].r||[],E.H[g].L=E.H[g].L||[],E.H[g].r=[...E.H[g].L],E.CP)for(let m=0;m<E.CP.length;m++)E.CP[m]=null}let Eo=null;const xE=new ms(5e3,15e3),ap="__/auth/iframe",o_="emulator/auth/iframe",NE={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},a_=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function RE(E){const g=E.config;z(g.authDomain,E,"auth-domain-config-required");const m=g.emulator?jo(g,o_):`https://${E.config.authDomain}/${ap}`,I={apiKey:g.apiKey,appName:E.name,v:re.SDK_VERSION},S=a_.get(E.config.apiHost);S&&(I.eid=S);const M=E._getFrameworks();return M.length&&(I.fw=M.join(",")),`${m}?${(0,k.xO)(I).slice(1)}`}function Td(){return Td=(0,h.Z)(function*(E){const g=yield function qr(E){return Eo=Eo||function Cd(E){return new Promise((g,m)=>{var I,S,M;function B(){lr(),gapi.load("gapi.iframes",{callback:()=>{g(gapi.iframes.getContext())},ontimeout:()=>{lr(),m(le(E,"network-request-failed"))},timeout:la.get()})}if(null!==(S=null===(I=Ln().gapi)||void 0===I?void 0:I.iframes)&&void 0!==S&&S.Iframe)g(gapi.iframes.getContext());else{if(null===(M=Ln().gapi)||void 0===M||!M.load){const Z=Pi("iframefcb");return Ln()[Z]=()=>{gapi.load?B():m(le(E,"network-request-failed"))},at(`https://apis.google.com/js/api.js?onload=${Z}`).catch(Ne=>m(Ne))}B()}}).catch(g=>{throw Eo=null,g})}(E),Eo}(E),m=Ln().gapi;return z(m,E,"internal-error"),g.open({where:document.body,url:RE(E),messageHandlersFilter:m.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:NE,dontclear:!0},I=>new Promise(function(){var S=(0,h.Z)(function*(M,B){yield I.restyle({setHideOnLeave:!1});const Z=le(E,"network-request-failed"),Ne=Ln().setTimeout(()=>{B(Z)},xE.get());function Ue(){Ln().clearTimeout(Ne),M(I)}I.ping(Ue).then(Ue,()=>{B(Z)})});return function(M,B){return S.apply(this,arguments)}}()))}),Td.apply(this,arguments)}const Ms={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class wi{constructor(g){this.window=g,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}const Zs="__/auth/handler",up="emulator/auth/handler",Io=encodeURIComponent("fac");function zi(E,g,m,I,S,M){return Cc.apply(this,arguments)}function Cc(){return(Cc=(0,h.Z)(function*(E,g,m,I,S,M){z(E.config.authDomain,E,"auth-domain-config-required"),z(E.config.apiKey,E,"invalid-api-key");const B={apiKey:E.config.apiKey,appName:E.name,authType:m,redirectUrl:I,v:re.SDK_VERSION,eventId:S};if(g instanceof Es){g.setDefaultLanguage(E.languageCode),B.providerId=g.providerId||"",(0,k.xb)(g.getCustomParameters())||(B.customParameters=JSON.stringify(g.getCustomParameters()));for(const[Qe,Ut]of Object.entries(M||{}))B[Qe]=Ut}if(g instanceof Li){const Qe=g.getScopes().filter(Ut=>""!==Ut);Qe.length>0&&(B.scopes=Qe.join(","))}E.tenantId&&(B.tid=E.tenantId);const Z=B;for(const Qe of Object.keys(Z))void 0===Z[Qe]&&delete Z[Qe];const Ne=yield E._getAppCheckToken(),Ue=Ne?`#${Io}=${encodeURIComponent(Ne)}`:"";return`${function Sd({config:E}){return E.emulator?jo(E,up):`https://${E.authDomain}/${Zs}`}(E)}?${(0,k.xO)(Z).slice(1)}${Ue}`})).apply(this,arguments)}const Ad="webStorageSupport",er=class cp{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=vc,this._completeRedirectFn=wo,this._overrideRedirectResult=aa}_openPopup(g,m,I,S){var M=this;return(0,h.Z)(function*(){var B;Fe(null===(B=M.eventManagers[g._key()])||void 0===B?void 0:B.manager,"_initialize() not called before _openPopup()");const Z=yield zi(g,m,I,_n(),S);return function l_(E,g,m,I=500,S=600){const M=Math.max((window.screen.availHeight-S)/2,0).toString(),B=Math.max((window.screen.availWidth-I)/2,0).toString();let Z="";const Ne=Object.assign(Object.assign({},Ms),{width:I.toString(),height:S.toString(),top:M,left:B}),Ue=(0,k.z$)().toLowerCase();m&&(Z=W(Ue)?"_blank":m),j(Ue)&&(g=g||"http://localhost",Ne.scrollbars="yes");const Qe=Object.entries(Ne).reduce((Wr,[Ns,Ks])=>`${Wr}${Ns}=${Ks},`,"");if(function dt(E=(0,k.z$)()){var g;return Xt(E)&&!(null===(g=window.navigator)||void 0===g||!g.standalone)}(Ue)&&"_self"!==Z)return function dr(E,g){const m=document.createElement("a");m.href=E,m.target=g;const I=document.createEvent("MouseEvent");I.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),m.dispatchEvent(I)}(g||"",Z),new wi(null);const Ut=window.open(g||"",Z,Qe);z(Ut,E,"popup-blocked");try{Ut.focus()}catch{}return new wi(Ut)}(g,Z,ea())})()}_openRedirect(g,m,I,S){var M=this;return(0,h.Z)(function*(){return yield M._originValidation(g),function Bf(E){Ln().location.href=E}(yield zi(g,m,I,_n(),S)),new Promise(()=>{})})()}_initialize(g){const m=g._key();if(this.eventManagers[m]){const{manager:S,promise:M}=this.eventManagers[m];return S?Promise.resolve(S):(Fe(M,"If manager is not set, promise should be"),M)}const I=this.initAndGetManager(g);return this.eventManagers[m]={promise:I},I.catch(()=>{delete this.eventManagers[m]}),I}initAndGetManager(g){var m=this;return(0,h.Z)(function*(){const I=yield function u_(E){return Td.apply(this,arguments)}(g),S=new nu(g);return I.register("authEvent",M=>(z(M?.authEvent,g,"invalid-auth-event"),{status:S.onEvent(M.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),m.eventManagers[g._key()]={manager:S},m.iframes[g._key()]=I,S})()}_isIframeWebStorageSupported(g,m){this.iframes[g._key()].send(Ad,{type:Ad},S=>{var M;const B=null===(M=S?.[0])||void 0===M?void 0:M[Ad];void 0!==B&&m(!!B),ye(g,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(g){const m=g._key();return this.originValidationPromises[m]||(this.originValidationPromises[m]=function op(E){return us.apply(this,arguments)}(g)),this.originValidationPromises[m]}get _shouldInitProactively(){return Vt()||de()||Xt()}};class Tc{constructor(g){this.factorId=g}_process(g,m,I){switch(m.type){case"enroll":return this._finalizeEnroll(g,m.credential,I);case"signin":return this._finalizeSignIn(g,m.credential);default:return ve("unexpected MultiFactorSessionType")}}}class xs extends Tc{constructor(g){super("phone"),this.credential=g}static _fromCredential(g){return new xs(g)}_finalizeEnroll(g,m,I){return function Jo(E,g){return he(E,"POST","/v2/accounts/mfaEnrollment:finalize",X(E,g))}(g,{idToken:m,displayName:I,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(g,m){return function SE(E,g){return he(E,"POST","/v2/accounts/mfaSignIn:finalize",X(E,g))}(g,{mfaPendingCredential:m,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let OE=(()=>{class E{constructor(){}static assertion(m){return xs._fromCredential(m)}}return E.FACTOR_ID="phone",E})();var lp="@firebase/auth";class h_{constructor(g){this.auth=g,this.internalListeners=new Map}getUid(){var g;return this.assertAuthConfigured(),(null===(g=this.auth.currentUser)||void 0===g?void 0:g.uid)||null}getToken(g){var m=this;return(0,h.Z)(function*(){return m.assertAuthConfigured(),yield m.auth._initializationPromise,m.auth.currentUser?{accessToken:yield m.auth.currentUser.getIdToken(g)}:null})()}addAuthTokenListener(g){if(this.assertAuthConfigured(),this.internalListeners.has(g))return;const m=this.auth.onIdTokenChanged(I=>{g(I?.stsTokenManager.accessToken||null)});this.internalListeners.set(g,m),this.updateProactiveRefresh()}removeAuthTokenListener(g){this.assertAuthConfigured();const m=this.internalListeners.get(g);m&&(this.internalListeners.delete(g),m(),this.updateProactiveRefresh())}assertAuthConfigured(){z(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}const iu=(0,k.Pz)("authIdTokenMaxAge")||300;let Nd=null;const xc=E=>function(){var g=(0,h.Z)(function*(m){const I=m&&(yield m.getIdTokenResult()),S=I&&((new Date).getTime()-Date.parse(I.issuedAtTime))/1e3;if(S&&S>iu)return;const M=I?.token;Nd!==M&&(Nd=M,yield fetch(E,{method:M?"POST":"DELETE",headers:M?{Authorization:`Bearer ${M}`}:{}}))});return function(m){return g.apply(this,arguments)}}();function Do(E=(0,re.getApp)()){const g=(0,re._getProvider)(E,"auth");if(g.isInitialized())return g.getImmediate();const m=function ts(E,g){const m=(0,re._getProvider)(E,"auth");if(m.isInitialized()){const S=m.getImmediate(),M=m.getOptions();if((0,k.vZ)(M,g??{}))return S;ye(S,"already-initialized")}return m.initialize({options:g})}(E,{popupRedirectResolver:er,persistence:[Qy,_c,vc]}),I=(0,k.Pz)("authTokenSyncURL");if(I){const M=xc(I);(function dd(E,g,m){(0,k.m9)(E).beforeAuthStateChanged(g,m)})(m,M,()=>M(m.currentUser)),function Hy(E,g,m,I){(0,k.m9)(E).onIdTokenChanged(g,m,I)}(m,B=>M(B))}const S=(0,k.q4)("auth");return S&&ec(m,`http://${S}`),m}!function Mc(E){(0,re._registerComponent)(new me.wA("auth",(g,{options:m})=>{const I=g.getProvider("app").getImmediate(),S=g.getProvider("heartbeat"),M=g.getProvider("app-check-internal"),{apiKey:B,authDomain:Z}=I.options;z(B&&!B.includes(":"),"invalid-api-key",{appName:I.name});const Ne={apiKey:B,authDomain:Z,clientPlatform:E,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Ho(E)},Ue=new Xu(I,S,M,Ne);return function Ef(E,g){const m=g?.persistence||[],I=(Array.isArray(m)?m:[m]).map(mr);g?.errorMap&&E._updateErrorMap(g.errorMap),E._initializeWithPersistence(I,g?.popupRedirectResolver)}(Ue,m),Ue},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((g,m,I)=>{g.getProvider("auth-internal").initialize()})),(0,re._registerComponent)(new me.wA("auth-internal",g=>{const m=wn(g.getProvider("auth").getImmediate());return new h_(m)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,re.registerVersion)(lp,"0.23.2",function xd(E){switch(E){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(E)),(0,re.registerVersion)(lp,"0.23.2","esm2017")}("Browser")},9058:(st,Ee,R)=>{R.d(Ee,{$s:()=>mr,BH:()=>_e,L:()=>xe,LL:()=>Se,P0:()=>De,Pz:()=>le,Sg:()=>Oe,UG:()=>ve,US:()=>me,ZB:()=>ne,ZR:()=>he,aH:()=>ye,b$:()=>ai,eu:()=>J,hl:()=>te,jU:()=>Fe,m9:()=>Hs,ne:()=>Zn,pd:()=>xt,q4:()=>Xe,r3:()=>_t,ru:()=>_n,tV:()=>L,uI:()=>z,vZ:()=>Ji,w1:()=>Qi,xO:()=>Xi,xb:()=>Dr,z$:()=>K,zI:()=>ue,zd:()=>vn});const se=function(F){const P=[];let j=0;for(let de=0;de<F.length;de++){let W=F.charCodeAt(de);W<128?P[j++]=W:W<2048?(P[j++]=W>>6|192,P[j++]=63&W|128):55296==(64512&W)&&de+1<F.length&&56320==(64512&F.charCodeAt(de+1))?(W=65536+((1023&W)<<10)+(1023&F.charCodeAt(++de)),P[j++]=W>>18|240,P[j++]=W>>12&63|128,P[j++]=W>>6&63|128,P[j++]=63&W|128):(P[j++]=W>>12|224,P[j++]=W>>6&63|128,P[j++]=63&W|128)}return P},me={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(F,P){if(!Array.isArray(F))throw Error("encodeByteArray takes an array as a parameter");this.init_();const j=P?this.byteToCharMapWebSafe_:this.byteToCharMap_,de=[];for(let W=0;W<F.length;W+=3){const Ke=F[W],ct=W+1<F.length,Bt=ct?F[W+1]:0,ur=W+2<F.length,Xt=ur?F[W+2]:0;let Tr=(15&Bt)<<2|Xt>>6,Vt=63&Xt;ur||(Vt=64,ct||(Tr=64)),de.push(j[Ke>>2],j[(3&Ke)<<4|Bt>>4],j[Tr],j[Vt])}return de.join("")},encodeString(F,P){return this.HAS_NATIVE_SUPPORT&&!P?btoa(F):this.encodeByteArray(se(F),P)},decodeString(F,P){return this.HAS_NATIVE_SUPPORT&&!P?atob(F):function(F){const P=[];let j=0,de=0;for(;j<F.length;){const W=F[j++];if(W<128)P[de++]=String.fromCharCode(W);else if(W>191&&W<224){const Ke=F[j++];P[de++]=String.fromCharCode((31&W)<<6|63&Ke)}else if(W>239&&W<365){const ur=((7&W)<<18|(63&F[j++])<<12|(63&F[j++])<<6|63&F[j++])-65536;P[de++]=String.fromCharCode(55296+(ur>>10)),P[de++]=String.fromCharCode(56320+(1023&ur))}else{const Ke=F[j++],ct=F[j++];P[de++]=String.fromCharCode((15&W)<<12|(63&Ke)<<6|63&ct)}}return P.join("")}(this.decodeStringToByteArray(F,P))},decodeStringToByteArray(F,P){this.init_();const j=P?this.charToByteMapWebSafe_:this.charToByteMap_,de=[];for(let W=0;W<F.length;){const Ke=j[F.charAt(W++)],Bt=W<F.length?j[F.charAt(W)]:0;++W;const Xt=W<F.length?j[F.charAt(W)]:64;++W;const dt=W<F.length?j[F.charAt(W)]:64;if(++W,null==Ke||null==Bt||null==Xt||null==dt)throw new Pe;de.push(Ke<<2|Bt>>4),64!==Xt&&(de.push(Bt<<4&240|Xt>>2),64!==dt&&de.push(Xt<<6&192|dt))}return de},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let F=0;F<this.ENCODED_VALS.length;F++)this.byteToCharMap_[F]=this.ENCODED_VALS.charAt(F),this.charToByteMap_[this.byteToCharMap_[F]]=F,this.byteToCharMapWebSafe_[F]=this.ENCODED_VALS_WEBSAFE.charAt(F),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[F]]=F,F>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(F)]=F,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(F)]=F)}}};class Pe extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const xe=function(F){return function(F){const P=se(F);return me.encodeByteArray(P,!0)}(F).replace(/\./g,"")},L=function(F){try{return me.decodeString(F,!0)}catch(P){console.error("base64Decode failed: ",P)}return null};function ne(F,P){if(!(P instanceof Object))return P;switch(P.constructor){case Date:return new Date(P.getTime());case Object:void 0===F&&(F={});break;case Array:F=[];break;default:return P}for(const j in P)!P.hasOwnProperty(j)||!ke(j)||(F[j]=ne(F[j],P[j]));return F}function ke(F){return"__proto__"!==F}const Re=()=>{try{return function ce(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const F=process.env.__FIREBASE_DEFAULTS__;return F?JSON.parse(F):void 0})()||(()=>{if(typeof document>"u")return;let F;try{F=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const P=F&&L(F[1]);return P&&JSON.parse(P)})()}catch(F){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${F}`)}},Xe=F=>{var P,j;return null===(j=null===(P=Re())||void 0===P?void 0:P.emulatorHosts)||void 0===j?void 0:j[F]},De=F=>{const P=Xe(F);if(!P)return;const j=P.lastIndexOf(":");if(j<=0||j+1===P.length)throw new Error(`Invalid host ${P} with no separate hostname and port!`);const de=parseInt(P.substring(j+1),10);return"["===P[0]?[P.substring(1,j-1),de]:[P.substring(0,j),de]},ye=()=>{var F;return null===(F=Re())||void 0===F?void 0:F.config},le=F=>{var P;return null===(P=Re())||void 0===P?void 0:P[`_${F}`]};class _e{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((P,j)=>{this.resolve=P,this.reject=j})}wrapCallback(P){return(j,de)=>{j?this.reject(j):this.resolve(de),"function"==typeof P&&(this.promise.catch(()=>{}),1===P.length?P(j):P(j,de))}}}function Oe(F,P){if(F.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const de=P||"demo-project",W=F.iat||0,Ke=F.sub||F.user_id;if(!Ke)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const ct=Object.assign({iss:`https://securetoken.google.com/${de}`,aud:de,iat:W,exp:W+3600,auth_time:W,sub:Ke,user_id:Ke,firebase:{sign_in_provider:"custom",identities:{}}},F);return[xe(JSON.stringify({alg:"none",type:"JWT"})),xe(JSON.stringify(ct)),""].join(".")}function K(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function z(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(K())}function ve(){var F;const P=null===(F=Re())||void 0===F?void 0:F.forceEnvironment;if("node"===P)return!0;if("browser"===P)return!1;try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}function Fe(){return"object"==typeof self&&self.self===self}function _n(){const F="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof F&&void 0!==F.id}function ai(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function Qi(){const F=K();return F.indexOf("MSIE ")>=0||F.indexOf("Trident/")>=0}function te(){try{return"object"==typeof indexedDB}catch{return!1}}function J(){return new Promise((F,P)=>{try{let j=!0;const de="validate-browser-context-for-indexeddb-analytics-module",W=self.indexedDB.open(de);W.onsuccess=()=>{W.result.close(),j||self.indexedDB.deleteDatabase(de),F(!0)},W.onupgradeneeded=()=>{j=!1},W.onerror=()=>{var Ke;P((null===(Ke=W.error)||void 0===Ke?void 0:Ke.message)||"")}}catch(j){P(j)}})}function ue(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}class he extends Error{constructor(P,j,de){super(j),this.code=P,this.customData=de,this.name="FirebaseError",Object.setPrototypeOf(this,he.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Se.prototype.create)}}class Se{constructor(P,j,de){this.service=P,this.serviceName=j,this.errors=de}create(P,...j){const de=j[0]||{},W=`${this.service}/${P}`,Ke=this.errors[P],ct=Ke?function ut(F,P){return F.replace(Ht,(j,de)=>{const W=P[de];return null!=W?String(W):`<${de}?>`})}(Ke,de):"Error";return new he(W,`${this.serviceName}: ${ct} (${W}).`,de)}}const Ht=/\{\$([^}]+)}/g;function _t(F,P){return Object.prototype.hasOwnProperty.call(F,P)}function Dr(F){for(const P in F)if(Object.prototype.hasOwnProperty.call(F,P))return!1;return!0}function Ji(F,P){if(F===P)return!0;const j=Object.keys(F),de=Object.keys(P);for(const W of j){if(!de.includes(W))return!1;const Ke=F[W],ct=P[W];if($o(Ke)&&$o(ct)){if(!Ji(Ke,ct))return!1}else if(Ke!==ct)return!1}for(const W of de)if(!j.includes(W))return!1;return!0}function $o(F){return null!==F&&"object"==typeof F}function Xi(F){const P=[];for(const[j,de]of Object.entries(F))Array.isArray(de)?de.forEach(W=>{P.push(encodeURIComponent(j)+"="+encodeURIComponent(W))}):P.push(encodeURIComponent(j)+"="+encodeURIComponent(de));return P.length?"&"+P.join("&"):""}function vn(F){const P={};return F.replace(/^\?/,"").split("&").forEach(de=>{if(de){const[W,Ke]=de.split("=");P[decodeURIComponent(W)]=decodeURIComponent(Ke)}}),P}function xt(F){const P=F.indexOf("?");if(!P)return"";const j=F.indexOf("#",P);return F.substring(P,j>0?j:void 0)}function Zn(F,P){const j=new mt(F,P);return j.subscribe.bind(j)}class mt{constructor(P,j){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=j,this.task.then(()=>{P(this)}).catch(de=>{this.error(de)})}next(P){this.forEachObserver(j=>{j.next(P)})}error(P){this.forEachObserver(j=>{j.error(P)}),this.close(P)}complete(){this.forEachObserver(P=>{P.complete()}),this.close()}subscribe(P,j,de){let W;if(void 0===P&&void 0===j&&void 0===de)throw new Error("Missing Observer.");W=function ui(F,P){if("object"!=typeof F||null===F)return!1;for(const j of P)if(j in F&&"function"==typeof F[j])return!0;return!1}(P,["next","error","complete"])?P:{next:P,error:j,complete:de},void 0===W.next&&(W.next=zt),void 0===W.error&&(W.error=zt),void 0===W.complete&&(W.complete=zt);const Ke=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?W.error(this.finalError):W.complete()}catch{}}),this.observers.push(W),Ke}unsubscribeOne(P){void 0===this.observers||void 0===this.observers[P]||(delete this.observers[P],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(P){if(!this.finalized)for(let j=0;j<this.observers.length;j++)this.sendOne(j,P)}sendOne(P,j){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[P])try{j(this.observers[P])}catch(de){typeof console<"u"&&console.error&&console.error(de)}})}close(P){this.finalized||(this.finalized=!0,void 0!==P&&(this.finalError=P),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function zt(){}const Ri=1e3,jr=2,Kn=144e5,Oi=.5;function mr(F,P=Ri,j=jr){const de=P*Math.pow(j,F),W=Math.round(Oi*de*(Math.random()-.5)*2);return Math.min(Kn,de+W)}function Hs(F){return F&&F._delegate?F._delegate:F}},5739:(st,Ee,R)=>{var h=R(8926);let k=null;function re(){return k}class fe{}const me=new h.OlP("DocumentToken");let Pe=(()=>{var t;class e{historyGo(r){throw new Error("Not implemented")}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=h.Yz7({token:t,factory:function(){return(0,h.f3M)(xe)},providedIn:"platform"}),e})();const ze=new h.OlP("Location Initialized");let xe=(()=>{var t;class e extends Pe{constructor(){super(),this._doc=(0,h.f3M)(me),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return re().getBaseHref(this._doc)}onPopState(r){const i=re().getGlobalEventTarget(this._doc,"window");return i.addEventListener("popstate",r,!1),()=>i.removeEventListener("popstate",r)}onHashChange(r){const i=re().getGlobalEventTarget(this._doc,"window");return i.addEventListener("hashchange",r,!1),()=>i.removeEventListener("hashchange",r)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(r){this._location.pathname=r}pushState(r,i,a){this._history.pushState(r,i,a)}replaceState(r,i,a){this._history.replaceState(r,i,a)}forward(){this._history.forward()}back(){this._history.back()}historyGo(r=0){this._history.go(r)}getState(){return this._history.state}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=h.Yz7({token:t,factory:function(){return new t},providedIn:"platform"}),e})();function L(t,e){if(0==t.length)return e;if(0==e.length)return t;let n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,2==n?t+e.substring(1):1==n?t+e:t+"/"+e}function U(t){const e=t.match(/#|\?|$/),n=e&&e.index||t.length;return t.slice(0,n-("/"===t[n-1]?1:0))+t.slice(n)}function ne(t){return t&&"?"!==t[0]?"?"+t:t}let ke=(()=>{var t;class e{historyGo(r){throw new Error("Not implemented")}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=h.Yz7({token:t,factory:function(){return(0,h.f3M)(Ze)},providedIn:"root"}),e})();const ce=new h.OlP("appBaseHref");let Ze=(()=>{var t;class e extends ke{constructor(r,i){super(),this._platformLocation=r,this._removeListenerFns=[],this._baseHref=i??this._platformLocation.getBaseHrefFromDOM()??(0,h.f3M)(me).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(r){this._removeListenerFns.push(this._platformLocation.onPopState(r),this._platformLocation.onHashChange(r))}getBaseHref(){return this._baseHref}prepareExternalUrl(r){return L(this._baseHref,r)}path(r=!1){const i=this._platformLocation.pathname+ne(this._platformLocation.search),a=this._platformLocation.hash;return a&&r?`${i}${a}`:i}pushState(r,i,a,c){const f=this.prepareExternalUrl(a+ne(c));this._platformLocation.pushState(r,i,f)}replaceState(r,i,a,c){const f=this.prepareExternalUrl(a+ne(c));this._platformLocation.replaceState(r,i,f)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(r=0){this._platformLocation.historyGo?.(r)}}return(t=e).\u0275fac=function(r){return new(r||t)(h.LFG(Pe),h.LFG(ce,8))},t.\u0275prov=h.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),e})(),Be=(()=>{var t;class e extends ke{constructor(r,i){super(),this._platformLocation=r,this._baseHref="",this._removeListenerFns=[],null!=i&&(this._baseHref=i)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(r){this._removeListenerFns.push(this._platformLocation.onPopState(r),this._platformLocation.onHashChange(r))}getBaseHref(){return this._baseHref}path(r=!1){let i=this._platformLocation.hash;return null==i&&(i="#"),i.length>0?i.substring(1):i}prepareExternalUrl(r){const i=L(this._baseHref,r);return i.length>0?"#"+i:i}pushState(r,i,a,c){let f=this.prepareExternalUrl(a+ne(c));0==f.length&&(f=this._platformLocation.pathname),this._platformLocation.pushState(r,i,f)}replaceState(r,i,a,c){let f=this.prepareExternalUrl(a+ne(c));0==f.length&&(f=this._platformLocation.pathname),this._platformLocation.replaceState(r,i,f)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(r=0){this._platformLocation.historyGo?.(r)}}return(t=e).\u0275fac=function(r){return new(r||t)(h.LFG(Pe),h.LFG(ce,8))},t.\u0275prov=h.Yz7({token:t,factory:t.\u0275fac}),e})(),Te=(()=>{var t;class e{constructor(r){this._subject=new h.vpe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=r;const i=this._locationStrategy.getBaseHref();this._basePath=function ye(t){if(new RegExp("^(https?:)?//").test(t)){const[,n]=t.split(/\/\/[^\/]+/);return n}return t}(U(De(i))),this._locationStrategy.onPopState(a=>{this._subject.emit({url:this.path(!0),pop:!0,state:a.state,type:a.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(r=!1){return this.normalize(this._locationStrategy.path(r))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(r,i=""){return this.path()==this.normalize(r+ne(i))}normalize(r){return e.stripTrailingSlash(function Xe(t,e){if(!t||!e.startsWith(t))return e;const n=e.substring(t.length);return""===n||["/",";","?","#"].includes(n[0])?n:e}(this._basePath,De(r)))}prepareExternalUrl(r){return r&&"/"!==r[0]&&(r="/"+r),this._locationStrategy.prepareExternalUrl(r)}go(r,i="",a=null){this._locationStrategy.pushState(a,"",r,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(r+ne(i)),a)}replaceState(r,i="",a=null){this._locationStrategy.replaceState(a,"",r,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(r+ne(i)),a)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(r=0){this._locationStrategy.historyGo?.(r)}onUrlChange(r){return this._urlChangeListeners.push(r),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(i=>{this._notifyUrlChangeListeners(i.url,i.state)})),()=>{const i=this._urlChangeListeners.indexOf(r);this._urlChangeListeners.splice(i,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(r="",i){this._urlChangeListeners.forEach(a=>a(r,i))}subscribe(r,i,a){return this._subject.subscribe({next:r,error:i,complete:a})}}return(t=e).normalizeQueryParams=ne,t.joinWithSlash=L,t.stripTrailingSlash=U,t.\u0275fac=function(r){return new(r||t)(h.LFG(ke))},t.\u0275prov=h.Yz7({token:t,factory:function(){return function Re(){return new Te((0,h.LFG)(ke))}()},providedIn:"root"}),e})();function De(t){return t.replace(/\/index.html$/,"")}var K=function(t){return t[t.Format=0]="Format",t[t.Standalone=1]="Standalone",t}(K||{}),z=function(t){return t[t.Narrow=0]="Narrow",t[t.Abbreviated=1]="Abbreviated",t[t.Wide=2]="Wide",t[t.Short=3]="Short",t}(z||{}),ve=function(t){return t[t.Short=0]="Short",t[t.Medium=1]="Medium",t[t.Long=2]="Long",t[t.Full=3]="Full",t}(ve||{}),Fe=function(t){return t[t.Decimal=0]="Decimal",t[t.Group=1]="Group",t[t.List=2]="List",t[t.PercentSign=3]="PercentSign",t[t.PlusSign=4]="PlusSign",t[t.MinusSign=5]="MinusSign",t[t.Exponential=6]="Exponential",t[t.SuperscriptingExponent=7]="SuperscriptingExponent",t[t.PerMille=8]="PerMille",t[t.Infinity=9]="Infinity",t[t.NaN=10]="NaN",t[t.TimeSeparator=11]="TimeSeparator",t[t.CurrencyDecimal=12]="CurrencyDecimal",t[t.CurrencyGroup=13]="CurrencyGroup",t}(Fe||{});function J(t,e){return _t((0,h.cg1)(t)[h.wAp.DateFormat],e)}function ue(t,e){return _t((0,h.cg1)(t)[h.wAp.TimeFormat],e)}function X(t,e){return _t((0,h.cg1)(t)[h.wAp.DateTimeFormat],e)}function he(t,e){const n=(0,h.cg1)(t),r=n[h.wAp.NumberSymbols][e];if(typeof r>"u"){if(e===Fe.CurrencyDecimal)return n[h.wAp.NumberSymbols][Fe.Decimal];if(e===Fe.CurrencyGroup)return n[h.wAp.NumberSymbols][Fe.Group]}return r}function qe(t){if(!t[h.wAp.ExtraData])throw new Error(`Missing extra locale data for the locale "${t[h.wAp.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function _t(t,e){for(let n=e;n>-1;n--)if(typeof t[n]<"u")return t[n];throw new Error("Locale data API: locale data undefined")}function gr(t){const[e,n]=t.split(":");return{hours:+e,minutes:+n}}const $o=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,$s={},Xi=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;var vn=function(t){return t[t.Short=0]="Short",t[t.ShortGMT=1]="ShortGMT",t[t.Long=2]="Long",t[t.Extended=3]="Extended",t}(vn||{}),xt=function(t){return t[t.FullYear=0]="FullYear",t[t.Month=1]="Month",t[t.Date=2]="Date",t[t.Hours=3]="Hours",t[t.Minutes=4]="Minutes",t[t.Seconds=5]="Seconds",t[t.FractionalSeconds=6]="FractionalSeconds",t[t.Day=7]="Day",t}(xt||{}),Tt=function(t){return t[t.DayPeriods=0]="DayPeriods",t[t.Days=1]="Days",t[t.Months=2]="Months",t[t.Eras=3]="Eras",t}(Tt||{});function Zn(t,e,n,r){let i=function P(t){if(de(t))return t;if("number"==typeof t&&!isNaN(t))return new Date(t);if("string"==typeof t){if(t=t.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(t)){const[i,a=1,c=1]=t.split("-").map(f=>+f);return mt(i,a-1,c)}const n=parseFloat(t);if(!isNaN(t-n))return new Date(n);let r;if(r=t.match($o))return function j(t){const e=new Date(0);let n=0,r=0;const i=t[8]?e.setUTCFullYear:e.setFullYear,a=t[8]?e.setUTCHours:e.setHours;t[9]&&(n=Number(t[9]+t[10]),r=Number(t[9]+t[11])),i.call(e,Number(t[1]),Number(t[2])-1,Number(t[3]));const c=Number(t[4]||0)-n,f=Number(t[5]||0)-r,y=Number(t[6]||0),v=Math.floor(1e3*parseFloat("0."+(t[7]||0)));return a.call(e,c,f,y,v),e}(r)}const e=new Date(t);if(!de(e))throw new Error(`Unable to convert "${t}" into a date`);return e}(t);e=br(n,e)||e;let f,c=[];for(;e;){if(f=Xi.exec(e),!f){c.push(e);break}{c=c.concat(f.slice(1));const b=c.pop();if(!b)break;e=b}}let y=i.getTimezoneOffset();r&&(y=ho(r,y),i=function F(t,e,n){const r=n?-1:1,i=t.getTimezoneOffset();return function Hs(t,e){return(t=new Date(t.getTime())).setMinutes(t.getMinutes()+e),t}(t,r*(ho(e,i)-i))}(i,r,!0));let v="";return c.forEach(b=>{const T=function _f(t){if(mr[t])return mr[t];let e;switch(t){case"G":case"GG":case"GGG":e=kt(Tt.Eras,z.Abbreviated);break;case"GGGG":e=kt(Tt.Eras,z.Wide);break;case"GGGGG":e=kt(Tt.Eras,z.Narrow);break;case"y":e=nn(xt.FullYear,1,0,!1,!0);break;case"yy":e=nn(xt.FullYear,2,0,!0,!0);break;case"yyy":e=nn(xt.FullYear,3,0,!1,!0);break;case"yyyy":e=nn(xt.FullYear,4,0,!1,!0);break;case"Y":e=Oi(1);break;case"YY":e=Oi(2,!0);break;case"YYY":e=Oi(3);break;case"YYYY":e=Oi(4);break;case"M":case"L":e=nn(xt.Month,1,1);break;case"MM":case"LL":e=nn(xt.Month,2,1);break;case"MMM":e=kt(Tt.Months,z.Abbreviated);break;case"MMMM":e=kt(Tt.Months,z.Wide);break;case"MMMMM":e=kt(Tt.Months,z.Narrow);break;case"LLL":e=kt(Tt.Months,z.Abbreviated,K.Standalone);break;case"LLLL":e=kt(Tt.Months,z.Wide,K.Standalone);break;case"LLLLL":e=kt(Tt.Months,z.Narrow,K.Standalone);break;case"w":e=Kn(1);break;case"ww":e=Kn(2);break;case"W":e=Kn(1,!0);break;case"d":e=nn(xt.Date,1);break;case"dd":e=nn(xt.Date,2);break;case"c":case"cc":e=nn(xt.Day,1);break;case"ccc":e=kt(Tt.Days,z.Abbreviated,K.Standalone);break;case"cccc":e=kt(Tt.Days,z.Wide,K.Standalone);break;case"ccccc":e=kt(Tt.Days,z.Narrow,K.Standalone);break;case"cccccc":e=kt(Tt.Days,z.Short,K.Standalone);break;case"E":case"EE":case"EEE":e=kt(Tt.Days,z.Abbreviated);break;case"EEEE":e=kt(Tt.Days,z.Wide);break;case"EEEEE":e=kt(Tt.Days,z.Narrow);break;case"EEEEEE":e=kt(Tt.Days,z.Short);break;case"a":case"aa":case"aaa":e=kt(Tt.DayPeriods,z.Abbreviated);break;case"aaaa":e=kt(Tt.DayPeriods,z.Wide);break;case"aaaaa":e=kt(Tt.DayPeriods,z.Narrow);break;case"b":case"bb":case"bbb":e=kt(Tt.DayPeriods,z.Abbreviated,K.Standalone,!0);break;case"bbbb":e=kt(Tt.DayPeriods,z.Wide,K.Standalone,!0);break;case"bbbbb":e=kt(Tt.DayPeriods,z.Narrow,K.Standalone,!0);break;case"B":case"BB":case"BBB":e=kt(Tt.DayPeriods,z.Abbreviated,K.Format,!0);break;case"BBBB":e=kt(Tt.DayPeriods,z.Wide,K.Format,!0);break;case"BBBBB":e=kt(Tt.DayPeriods,z.Narrow,K.Format,!0);break;case"h":e=nn(xt.Hours,1,-12);break;case"hh":e=nn(xt.Hours,2,-12);break;case"H":e=nn(xt.Hours,1);break;case"HH":e=nn(xt.Hours,2);break;case"m":e=nn(xt.Minutes,1);break;case"mm":e=nn(xt.Minutes,2);break;case"s":e=nn(xt.Seconds,1);break;case"ss":e=nn(xt.Seconds,2);break;case"S":e=nn(xt.FractionalSeconds,1);break;case"SS":e=nn(xt.FractionalSeconds,2);break;case"SSS":e=nn(xt.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":e=vs(vn.Short);break;case"ZZZZZ":e=vs(vn.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":e=vs(vn.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":e=vs(vn.Long);break;default:return null}return mr[t]=e,e}(b);v+=T?T(i,n,y):"''"===b?"'":b.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),v}function mt(t,e,n){const r=new Date(0);return r.setFullYear(t,e,n),r.setHours(0,0,0),r}function br(t,e){const n=function ai(t){return(0,h.cg1)(t)[h.wAp.LocaleId]}(t);if($s[n]=$s[n]||{},$s[n][e])return $s[n][e];let r="";switch(e){case"shortDate":r=J(t,ve.Short);break;case"mediumDate":r=J(t,ve.Medium);break;case"longDate":r=J(t,ve.Long);break;case"fullDate":r=J(t,ve.Full);break;case"shortTime":r=ue(t,ve.Short);break;case"mediumTime":r=ue(t,ve.Medium);break;case"longTime":r=ue(t,ve.Long);break;case"fullTime":r=ue(t,ve.Full);break;case"short":const i=br(t,"shortTime"),a=br(t,"shortDate");r=ui(X(t,ve.Short),[i,a]);break;case"medium":const c=br(t,"mediumTime"),f=br(t,"mediumDate");r=ui(X(t,ve.Medium),[c,f]);break;case"long":const y=br(t,"longTime"),v=br(t,"longDate");r=ui(X(t,ve.Long),[y,v]);break;case"full":const b=br(t,"fullTime"),T=br(t,"fullDate");r=ui(X(t,ve.Full),[b,T])}return r&&($s[n][e]=r),r}function ui(t,e){return e&&(t=t.replace(/\{([^}]+)}/g,function(n,r){return null!=e&&r in e?e[r]:n})),t}function zt(t,e,n="-",r,i){let a="";(t<0||i&&t<=0)&&(i?t=1-t:(t=-t,a=n));let c=String(t);for(;c.length<e;)c="0"+c;return r&&(c=c.slice(c.length-e)),a+c}function nn(t,e,n=0,r=!1,i=!1){return function(a,c){let f=function fn(t,e){switch(t){case xt.FullYear:return e.getFullYear();case xt.Month:return e.getMonth();case xt.Date:return e.getDate();case xt.Hours:return e.getHours();case xt.Minutes:return e.getMinutes();case xt.Seconds:return e.getSeconds();case xt.FractionalSeconds:return e.getMilliseconds();case xt.Day:return e.getDay();default:throw new Error(`Unknown DateType value "${t}".`)}}(t,a);if((n>0||f>-n)&&(f+=n),t===xt.Hours)0===f&&-12===n&&(f=12);else if(t===xt.FractionalSeconds)return function _s(t,e){return zt(t,3).substring(0,e)}(f,e);const y=he(c,Fe.MinusSign);return zt(f,e,y,r,i)}}function kt(t,e,n=K.Format,r=!1){return function(i,a){return function Ul(t,e,n,r,i,a){switch(n){case Tt.Months:return function hn(t,e,n){const r=(0,h.cg1)(t),a=_t([r[h.wAp.MonthsFormat],r[h.wAp.MonthsStandalone]],e);return _t(a,n)}(e,i,r)[t.getMonth()];case Tt.Days:return function Qi(t,e,n){const r=(0,h.cg1)(t),a=_t([r[h.wAp.DaysFormat],r[h.wAp.DaysStandalone]],e);return _t(a,n)}(e,i,r)[t.getDay()];case Tt.DayPeriods:const c=t.getHours(),f=t.getMinutes();if(a){const v=function tn(t){const e=(0,h.cg1)(t);return qe(e),(e[h.wAp.ExtraData][2]||[]).map(r=>"string"==typeof r?gr(r):[gr(r[0]),gr(r[1])])}(e),b=function Ir(t,e,n){const r=(0,h.cg1)(t);qe(r);const a=_t([r[h.wAp.ExtraData][0],r[h.wAp.ExtraData][1]],e)||[];return _t(a,n)||[]}(e,i,r),T=v.findIndex(N=>{if(Array.isArray(N)){const[O,$]=N,Q=c>=O.hours&&f>=O.minutes,ae=c<$.hours||c===$.hours&&f<$.minutes;if(O.hours<$.hours){if(Q&&ae)return!0}else if(Q||ae)return!0}else if(N.hours===c&&N.minutes===f)return!0;return!1});if(-1!==T)return b[T]}return function gs(t,e,n){const r=(0,h.cg1)(t),a=_t([r[h.wAp.DayPeriodsFormat],r[h.wAp.DayPeriodsStandalone]],e);return _t(a,n)}(e,i,r)[c<12?0:1];case Tt.Eras:return function ms(t,e){return _t((0,h.cg1)(t)[h.wAp.Eras],e)}(e,r)[t.getFullYear()<=0?0:1];default:throw new Error(`unexpected translation type ${n}`)}}(i,a,t,e,n,r)}}function vs(t){return function(e,n,r){const i=-1*r,a=he(n,Fe.MinusSign),c=i>0?Math.floor(i/60):Math.ceil(i/60);switch(t){case vn.Short:return(i>=0?"+":"")+zt(c,2,a)+zt(Math.abs(i%60),2,a);case vn.ShortGMT:return"GMT"+(i>=0?"+":"")+zt(c,1,a);case vn.Long:return"GMT"+(i>=0?"+":"")+zt(c,2,a)+":"+zt(Math.abs(i%60),2,a);case vn.Extended:return 0===r?"Z":(i>=0?"+":"")+zt(c,2,a)+":"+zt(Math.abs(i%60),2,a);default:throw new Error(`Unknown zone width "${t}"`)}}}const lo=0,es=4;function jr(t){return mt(t.getFullYear(),t.getMonth(),t.getDate()+(es-t.getDay()))}function Kn(t,e=!1){return function(n,r){let i;if(e){const a=new Date(n.getFullYear(),n.getMonth(),1).getDay()-1,c=n.getDate();i=1+Math.floor((c+a)/7)}else{const a=jr(n),c=function Ri(t){const e=mt(t,lo,1).getDay();return mt(t,0,1+(e<=es?es:es+7)-e)}(a.getFullYear()),f=a.getTime()-c.getTime();i=1+Math.round(f/6048e5)}return zt(i,t,he(r,Fe.MinusSign))}}function Oi(t,e=!1){return function(n,r){return zt(jr(n).getFullYear(),t,he(r,Fe.MinusSign),e)}}const mr={};function ho(t,e){t=t.replace(/:/g,"");const n=Date.parse("Jan 01, 1970 00:00:00 "+t)/6e4;return isNaN(n)?e:n}function de(t){return t instanceof Date&&!isNaN(t.valueOf())}const ja=/\s+/,Bl=[];let ki=(()=>{var t;class e{constructor(r,i,a,c){this._iterableDiffers=r,this._keyValueDiffers=i,this._ngEl=a,this._renderer=c,this.initialClasses=Bl,this.stateMap=new Map}set klass(r){this.initialClasses=null!=r?r.trim().split(ja):Bl}set ngClass(r){this.rawClass="string"==typeof r?r.trim().split(ja):r}ngDoCheck(){for(const i of this.initialClasses)this._updateState(i,!0);const r=this.rawClass;if(Array.isArray(r)||r instanceof Set)for(const i of r)this._updateState(i,!0);else if(null!=r)for(const i of Object.keys(r))this._updateState(i,!!r[i]);this._applyStateDiff()}_updateState(r,i){const a=this.stateMap.get(r);void 0!==a?(a.enabled!==i&&(a.changed=!0,a.enabled=i),a.touched=!0):this.stateMap.set(r,{enabled:i,changed:!0,touched:!0})}_applyStateDiff(){for(const r of this.stateMap){const i=r[0],a=r[1];a.changed?(this._toggleClass(i,a.enabled),a.changed=!1):a.touched||(a.enabled&&this._toggleClass(i,!1),this.stateMap.delete(i)),a.touched=!1}}_toggleClass(r,i){(r=r.trim()).length>0&&r.split(ja).forEach(a=>{i?this._renderer.addClass(this._ngEl.nativeElement,a):this._renderer.removeClass(this._ngEl.nativeElement,a)})}}return(t=e).\u0275fac=function(r){return new(r||t)(h.Y36(h.ZZ4),h.Y36(h.aQg),h.Y36(h.SBq),h.Y36(h.Qsj))},t.\u0275dir=h.lG2({type:t,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0}),e})();class vf{constructor(e,n,r,i){this.$implicit=e,this.ngForOf=n,this.index=r,this.count=i}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Xu=(()=>{var t;class e{set ngForOf(r){this._ngForOf=r,this._ngForOfDirty=!0}set ngForTrackBy(r){this._trackByFn=r}get ngForTrackBy(){return this._trackByFn}constructor(r,i,a){this._viewContainer=r,this._template=i,this._differs=a,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(r){r&&(this._template=r)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const r=this._ngForOf;!this._differ&&r&&(this._differ=this._differs.find(r).create(this.ngForTrackBy))}if(this._differ){const r=this._differ.diff(this._ngForOf);r&&this._applyChanges(r)}}_applyChanges(r){const i=this._viewContainer;r.forEachOperation((a,c,f)=>{if(null==a.previousIndex)i.createEmbeddedView(this._template,new vf(a.item,this._ngForOf,-1,-1),null===f?void 0:f);else if(null==f)i.remove(null===c?void 0:c);else if(null!==c){const y=i.get(c);i.move(y,f),wn(y,a)}});for(let a=0,c=i.length;a<c;a++){const y=i.get(a).context;y.index=a,y.count=c,y.ngForOf=this._ngForOf}r.forEachIdentityChange(a=>{wn(i.get(a.currentIndex),a)})}static ngTemplateContextGuard(r,i){return!0}}return(t=e).\u0275fac=function(r){return new(r||t)(h.Y36(h.s_b),h.Y36(h.Rgc),h.Y36(h.ZZ4))},t.\u0275dir=h.lG2({type:t,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),e})();function wn(t,e){t.context.$implicit=e.item}let ts=(()=>{var t;class e{constructor(r,i){this._viewContainer=r,this._context=new Ef,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=i}set ngIf(r){this._context.$implicit=this._context.ngIf=r,this._updateView()}set ngIfThen(r){ec("ngIfThen",r),this._thenTemplateRef=r,this._thenViewRef=null,this._updateView()}set ngIfElse(r){ec("ngIfElse",r),this._elseTemplateRef=r,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(r,i){return!0}}return(t=e).\u0275fac=function(r){return new(r||t)(h.Y36(h.s_b),h.Y36(h.Rgc))},t.\u0275dir=h.lG2({type:t,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),e})();class Ef{constructor(){this.$implicit=null,this.ngIf=null}}function ec(t,e){if(e&&!e.createEmbeddedView)throw new Error(`${t} must be a TemplateRef, but received '${(0,h.AaK)(e)}'.`)}const Cf=new h.OlP("DATE_PIPE_DEFAULT_TIMEZONE"),sc=new h.OlP("DATE_PIPE_DEFAULT_OPTIONS");let Kl=(()=>{var t;class e{constructor(r,i,a){this.locale=r,this.defaultTimezone=i,this.defaultOptions=a}transform(r,i,a,c){if(null==r||""===r||r!=r)return null;try{return Zn(r,i??this.defaultOptions?.dateFormat??"mediumDate",c||this.locale,a??this.defaultOptions?.timezone??this.defaultTimezone??void 0)}catch(f){throw function $r(t,e){return new h.vHH(2100,!1)}()}}}return(t=e).\u0275fac=function(r){return new(r||t)(h.Y36(h.soG,16),h.Y36(Cf,24),h.Y36(sc,24))},t.\u0275pipe=h.Yjl({name:"date",type:t,pure:!0,standalone:!0}),e})(),Fi=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275mod=h.oAB({type:t}),t.\u0275inj=h.cJS({}),e})();function di(t){return"server"===t}let Li=(()=>{var t;class e{}return(t=e).\u0275prov=(0,h.Yz7)({token:t,providedIn:"root",factory:()=>new cn((0,h.LFG)(me),window)}),e})();class cn{constructor(e,n){this.document=e,this.window=n,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(!this.supportsScrolling())return;const n=function za(t,e){const n=t.getElementById(e)||t.getElementsByName(e)[0];if(n)return n;if("function"==typeof t.createTreeWalker&&t.body&&"function"==typeof t.body.attachShadow){const r=t.createTreeWalker(t.body,NodeFilter.SHOW_ELEMENT);let i=r.currentNode;for(;i;){const a=i.shadowRoot;if(a){const c=a.getElementById(e)||a.querySelector(`[name="${e}"]`);if(c)return c}i=r.nextNode()}}return null}(this.document,e);n&&(this.scrollToElement(n),n.focus())}setHistoryScrollRestoration(e){this.supportsScrolling()&&(this.window.history.scrollRestoration=e)}scrollToElement(e){const n=e.getBoundingClientRect(),r=n.left+this.window.pageXOffset,i=n.top+this.window.pageYOffset,a=this.offset();this.window.scrollTo(r-a[0],i-a[1])}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}class kf extends fe{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class ld extends kf{static makeCurrent(){!function se(t){k||(k=t)}(new ld)}onAndCancel(e,n,r){return e.addEventListener(n,r),()=>{e.removeEventListener(n,r)}}dispatchEvent(e,n){e.dispatchEvent(n)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,n){return(n=n||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,n){return"window"===n?window:"document"===n?e:"body"===n?e.body:null}getBaseHref(e){const n=function $y(){return Ka=Ka||document.querySelector("base"),Ka?Ka.getAttribute("href"):null}();return null==n?null:function Hy(t){mc=mc||document.createElement("a"),mc.setAttribute("href",t);const e=mc.pathname;return"/"===e.charAt(0)?e:`/${e}`}(n)}resetBaseElement(){Ka=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return function fo(t,e){e=encodeURIComponent(e);for(const n of t.split(";")){const r=n.indexOf("="),[i,a]=-1==r?[n,""]:[n.slice(0,r),n.slice(r+1)];if(i.trim()===e)return decodeURIComponent(a)}return null}(document.cookie,e)}}let mc,Ka=null,TE=(()=>{var t;class e{build(){return new XMLHttpRequest}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=h.Yz7({token:t,factory:t.\u0275fac}),e})();const Bi=new h.OlP("EventManagerPlugins");let Ff=(()=>{var t;class e{constructor(r,i){this._zone=i,this._eventNameToPlugin=new Map,r.forEach(a=>{a.manager=this}),this._plugins=r.slice().reverse()}addEventListener(r,i,a){return this._findPluginFor(i).addEventListener(r,i,a)}getZone(){return this._zone}_findPluginFor(r){let i=this._eventNameToPlugin.get(r);if(i)return i;if(i=this._plugins.find(c=>c.supports(r)),!i)throw new h.vHH(5101,!1);return this._eventNameToPlugin.set(r,i),i}}return(t=e).\u0275fac=function(r){return new(r||t)(h.LFG(Bi),h.LFG(h.R0b))},t.\u0275prov=h.Yz7({token:t,factory:t.\u0275fac}),e})();class Lf{constructor(e){this._doc=e}}const rn="ng-app-id";let Qo=(()=>{var t;class e{constructor(r,i,a,c={}){this.doc=r,this.appId=i,this.nonce=a,this.platformId=c,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=di(c),this.resetHostNodes()}addStyles(r){for(const i of r)1===this.changeUsageCount(i,1)&&this.onStyleAdded(i)}removeStyles(r){for(const i of r)this.changeUsageCount(i,-1)<=0&&this.onStyleRemoved(i)}ngOnDestroy(){const r=this.styleNodesInDOM;r&&(r.forEach(i=>i.remove()),r.clear());for(const i of this.getAllStyles())this.onStyleRemoved(i);this.resetHostNodes()}addHost(r){this.hostNodes.add(r);for(const i of this.getAllStyles())this.addStyleToHost(r,i)}removeHost(r){this.hostNodes.delete(r)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(r){for(const i of this.hostNodes)this.addStyleToHost(i,r)}onStyleRemoved(r){const i=this.styleRef;i.get(r)?.elements?.forEach(a=>a.remove()),i.delete(r)}collectServerRenderedStyles(){const r=this.doc.head?.querySelectorAll(`style[${rn}="${this.appId}"]`);if(r?.length){const i=new Map;return r.forEach(a=>{null!=a.textContent&&i.set(a.textContent,a)}),i}return null}changeUsageCount(r,i){const a=this.styleRef;if(a.has(r)){const c=a.get(r);return c.usage+=i,c.usage}return a.set(r,{usage:i,elements:[]}),i}getStyleElement(r,i){const a=this.styleNodesInDOM,c=a?.get(i);if(c?.parentNode===r)return a.delete(i),c.removeAttribute(rn),c;{const f=this.doc.createElement("style");return this.nonce&&f.setAttribute("nonce",this.nonce),f.textContent=i,this.platformIsServer&&f.setAttribute(rn,this.appId),f}}addStyleToHost(r,i){const a=this.getStyleElement(r,i);r.appendChild(a);const c=this.styleRef,f=c.get(i)?.elements;f?f.push(a):c.set(i,{elements:[a],usage:1})}resetHostNodes(){const r=this.hostNodes;r.clear(),r.add(this.doc.head)}}return(t=e).\u0275fac=function(r){return new(r||t)(h.LFG(me),h.LFG(h.AFp),h.LFG(h.Ojb,8),h.LFG(h.Lbi))},t.\u0275prov=h.Yz7({token:t,factory:t.\u0275fac}),e})();const gi={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},zn=/%COMP%/g,zy=new h.OlP("RemoveStylesOnCompDestroy",{providedIn:"root",factory:()=>!1});function ji(t,e){return e.map(n=>n.replace(zn,t))}let yc=(()=>{var t;class e{constructor(r,i,a,c,f,y,v,b=null){this.eventManager=r,this.sharedStylesHost=i,this.appId=a,this.removeStylesOnCompDestroy=c,this.doc=f,this.platformId=y,this.ngZone=v,this.nonce=b,this.rendererByCompId=new Map,this.platformIsServer=di(y),this.defaultRenderer=new Xo(r,f,v,this.platformIsServer)}createRenderer(r,i){if(!r||!i)return this.defaultRenderer;this.platformIsServer&&i.encapsulation===h.ifc.ShadowDom&&(i={...i,encapsulation:h.ifc.Emulated});const a=this.getOrCreateRenderer(r,i);return a instanceof _c?a.applyToHost(r):a instanceof ht&&a.applyStyles(),a}getOrCreateRenderer(r,i){const a=this.rendererByCompId;let c=a.get(i.id);if(!c){const f=this.doc,y=this.ngZone,v=this.eventManager,b=this.sharedStylesHost,T=this.removeStylesOnCompDestroy,N=this.platformIsServer;switch(i.encapsulation){case h.ifc.Emulated:c=new _c(v,b,i,this.appId,T,f,y,N);break;case h.ifc.ShadowDom:return new Wy(v,b,r,i,f,y,this.nonce,N);default:c=new ht(v,b,i,T,f,y,N)}a.set(i.id,c)}return c}ngOnDestroy(){this.rendererByCompId.clear()}}return(t=e).\u0275fac=function(r){return new(r||t)(h.LFG(Ff),h.LFG(Qo),h.LFG(h.AFp),h.LFG(zy),h.LFG(me),h.LFG(h.Lbi),h.LFG(h.R0b),h.LFG(h.Ojb))},t.\u0275prov=h.Yz7({token:t,factory:t.\u0275fac}),e})();class Xo{constructor(e,n,r,i){this.eventManager=e,this.doc=n,this.ngZone=r,this.platformIsServer=i,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(e,n){return n?this.doc.createElementNS(gi[n]||n,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,n){(pd(e)?e.content:e).appendChild(n)}insertBefore(e,n,r){e&&(pd(e)?e.content:e).insertBefore(n,r)}removeChild(e,n){e&&e.removeChild(n)}selectRootElement(e,n){let r="string"==typeof e?this.doc.querySelector(e):e;if(!r)throw new h.vHH(-5104,!1);return n||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,n,r,i){if(i){n=i+":"+n;const a=gi[i];a?e.setAttributeNS(a,n,r):e.setAttribute(n,r)}else e.setAttribute(n,r)}removeAttribute(e,n,r){if(r){const i=gi[r];i?e.removeAttributeNS(i,n):e.removeAttribute(`${r}:${n}`)}else e.removeAttribute(n)}addClass(e,n){e.classList.add(n)}removeClass(e,n){e.classList.remove(n)}setStyle(e,n,r,i){i&(h.JOm.DashCase|h.JOm.Important)?e.style.setProperty(n,r,i&h.JOm.Important?"important":""):e.style[n]=r}removeStyle(e,n,r){r&h.JOm.DashCase?e.style.removeProperty(n):e.style[n]=""}setProperty(e,n,r){e[n]=r}setValue(e,n){e.nodeValue=n}listen(e,n,r){if("string"==typeof e&&!(e=re().getGlobalEventTarget(this.doc,e)))throw new Error(`Unsupported event target ${e} for event ${n}`);return this.eventManager.addEventListener(e,n,this.decoratePreventDefault(r))}decoratePreventDefault(e){return n=>{if("__ngUnwrap__"===n)return e;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>e(n)):e(n))&&n.preventDefault()}}}function pd(t){return"TEMPLATE"===t.tagName&&void 0!==t.content}class Wy extends Xo{constructor(e,n,r,i,a,c,f,y){super(e,a,c,y),this.sharedStylesHost=n,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const v=ji(i.id,i.styles);for(const b of v){const T=document.createElement("style");f&&T.setAttribute("nonce",f),T.textContent=b,this.shadowRoot.appendChild(T)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,n){return super.appendChild(this.nodeOrShadowRoot(e),n)}insertBefore(e,n,r){return super.insertBefore(this.nodeOrShadowRoot(e),n,r)}removeChild(e,n){return super.removeChild(this.nodeOrShadowRoot(e),n)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class ht extends Xo{constructor(e,n,r,i,a,c,f,y){super(e,a,c,f),this.sharedStylesHost=n,this.removeStylesOnCompDestroy=i,this.styles=y?ji(y,r.styles):r.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}}class _c extends ht{constructor(e,n,r,i,a,c,f,y){const v=i+"-"+r.id;super(e,n,r,a,c,f,y,v),this.contentAttr=function Gy(t){return"_ngcontent-%COMP%".replace(zn,t)}(v),this.hostAttr=function hd(t){return"_nghost-%COMP%".replace(zn,t)}(v)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,n){const r=super.createElement(e,n);return super.setAttribute(r,this.contentAttr,""),r}}let VS=(()=>{var t;class e extends Lf{constructor(r){super(r)}supports(r){return!0}addEventListener(r,i,a){return r.addEventListener(i,a,!1),()=>this.removeEventListener(r,i,a)}removeEventListener(r,i,a){return r.removeEventListener(i,a)}}return(t=e).\u0275fac=function(r){return new(r||t)(h.LFG(me))},t.\u0275prov=h.Yz7({token:t,factory:t.\u0275fac}),e})();const vc=["alt","control","meta","shift"],Zy={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Ky={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey};let ea=(()=>{var t;class e extends Lf{constructor(r){super(r)}supports(r){return null!=e.parseEventName(r)}addEventListener(r,i,a){const c=e.parseEventName(i),f=e.eventCallback(c.fullKey,a,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>re().onAndCancel(r,c.domEventName,f))}static parseEventName(r){const i=r.toLowerCase().split("."),a=i.shift();if(0===i.length||"keydown"!==a&&"keyup"!==a)return null;const c=e._normalizeKey(i.pop());let f="",y=i.indexOf("code");if(y>-1&&(i.splice(y,1),f="code."),vc.forEach(b=>{const T=i.indexOf(b);T>-1&&(i.splice(T,1),f+=b+".")}),f+=c,0!=i.length||0===c.length)return null;const v={};return v.domEventName=a,v.fullKey=f,v}static matchEventFullKeyCode(r,i){let a=Zy[r.key]||r.key,c="";return i.indexOf("code.")>-1&&(a=r.code,c="code."),!(null==a||!a)&&(a=a.toLowerCase()," "===a?a="space":"."===a&&(a="dot"),vc.forEach(f=>{f!==a&&(0,Ky[f])(r)&&(c+=f+".")}),c+=a,c===i)}static eventCallback(r,i,a){return c=>{e.matchEventFullKeyCode(c,r)&&a.runGuarded(()=>i(c))}}static _normalizeKey(r){return"esc"===r?"escape":r}}return(t=e).\u0275fac=function(r){return new(r||t)(h.LFG(me))},t.\u0275prov=h.Yz7({token:t,factory:t.\u0275fac}),e})();const md=(0,h.eFA)(h._c5,"browser",[{provide:h.Lbi,useValue:"browser"},{provide:h.g9A,useValue:function Yy(){ld.makeCurrent()},multi:!0},{provide:me,useFactory:function ge(){return(0,h.RDi)(document),document},deps:[]}]),$f=new h.OlP(""),Tn=[{provide:h.rWj,useClass:class dd{addToWindow(e){h.dqk.getAngularTestability=(r,i=!0)=>{const a=e.findTestabilityInTree(r,i);if(null==a)throw new h.vHH(5103,!1);return a},h.dqk.getAllAngularTestabilities=()=>e.getAllTestabilities(),h.dqk.getAllAngularRootElements=()=>e.getAllRootElements(),h.dqk.frameworkStabilizers||(h.dqk.frameworkStabilizers=[]),h.dqk.frameworkStabilizers.push(r=>{const i=h.dqk.getAllAngularTestabilities();let a=i.length,c=!1;const f=function(y){c=c||y,a--,0==a&&r(c)};i.forEach(y=>{y.whenStable(f)})})}findTestabilityInTree(e,n,r){return null==n?null:e.getTestability(n)??(r?re().isShadowRoot(n)?this.findTestabilityInTree(e,n.host,!0):this.findTestabilityInTree(e,n.parentElement,!0):null)}},deps:[]},{provide:h.lri,useClass:h.dDg,deps:[h.R0b,h.eoX,h.rWj]},{provide:h.dDg,useClass:h.dDg,deps:[h.R0b,h.eoX,h.rWj]}],wc=[{provide:h.zSh,useValue:"root"},{provide:h.qLn,useFactory:function gd(){return new h.qLn},deps:[]},{provide:Bi,useClass:VS,multi:!0,deps:[me,h.R0b,h.Lbi]},{provide:Bi,useClass:ea,multi:!0,deps:[me]},yc,Qo,Ff,{provide:h.FYo,useExisting:yc},{provide:class rs{},useClass:TE,deps:[]},[]];let $i=(()=>{var t;class e{constructor(r){}static withServerTransition(r){return{ngModule:e,providers:[{provide:h.AFp,useValue:r.appId}]}}}return(t=e).\u0275fac=function(r){return new(r||t)(h.LFG($f,12))},t.\u0275mod=h.oAB({type:t}),t.\u0275inj=h.cJS({providers:[...wc,...Tn],imports:[Fi,h.hGG]}),e})(),_d=(()=>{var t;class e{constructor(r){this._doc=r}getTitle(){return this._doc.title}setTitle(r){this._doc.title=r||""}}return(t=e).\u0275fac=function(r){return new(r||t)(h.LFG(me))},t.\u0275prov=h.Yz7({token:t,factory:function(r){let i=null;return i=r?new r:function Hf(){return new _d((0,h.LFG)(me))}(),i},providedIn:"root"}),e})();typeof window<"u"&&window;let ta=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=h.Yz7({token:t,factory:function(r){let i=null;return i=r?new(r||t):h.LFG(wd),i},providedIn:"root"}),e})(),wd=(()=>{var t;class e extends ta{constructor(r){super(),this._doc=r}sanitize(r,i){if(null==i)return null;switch(r){case h.q3G.NONE:return i;case h.q3G.HTML:return(0,h.qzn)(i,"HTML")?(0,h.z3N)(i):(0,h.EiD)(this._doc,String(i)).toString();case h.q3G.STYLE:return(0,h.qzn)(i,"Style")?(0,h.z3N)(i):i;case h.q3G.SCRIPT:if((0,h.qzn)(i,"Script"))return(0,h.z3N)(i);throw new h.vHH(5200,!1);case h.q3G.URL:return(0,h.qzn)(i,"URL")?(0,h.z3N)(i):(0,h.mCW)(String(i));case h.q3G.RESOURCE_URL:if((0,h.qzn)(i,"ResourceURL"))return(0,h.z3N)(i);throw new h.vHH(5201,!1);default:throw new h.vHH(5202,!1)}}bypassSecurityTrustHtml(r){return(0,h.JVY)(r)}bypassSecurityTrustStyle(r){return(0,h.L6k)(r)}bypassSecurityTrustScript(r){return(0,h.eBb)(r)}bypassSecurityTrustUrl(r){return(0,h.LAX)(r)}bypassSecurityTrustResourceUrl(r){return(0,h.pB0)(r)}}return(t=e).\u0275fac=function(r){return new(r||t)(h.LFG(me))},t.\u0275prov=h.Yz7({token:t,factory:function(r){let i=null;return i=r?new r:function Zf(t){return new wd(t.get(me))}(h.LFG(h.zs3)),i},providedIn:"root"}),e})();var _i=R(5592),qs=R(4674),On=R(2459),lt=R(2096),Ar=R(5619);const{isArray:yo}=Array,{getPrototypeOf:ss,prototype:i_,keys:ra}=Object;function Qa(t){if(1===t.length){const e=t[0];if(yo(e))return{args:e,keys:null};if(function os(t){return t&&"object"==typeof t&&ss(t)===i_}(e)){const n=ra(e);return{args:n.map(r=>e[r]),keys:n}}}return{args:t,keys:null}}var Cs=R(2737),Zt=R(7398);const{isArray:Yf}=Array;function Ts(t){return(0,Zt.U)(e=>function s_(t,e){return Yf(e)?t(...e):t(e)}(t,e))}var as=R(4564);function Qf(t,e){return t.reduce((n,r,i)=>(n[r]=e[i],n),{})}var vi=R(8251),Ja=R(7103);function Jf(...t){const e=(0,as.yG)(t),n=(0,as.jO)(t),{args:r,keys:i}=Qa(t);if(0===r.length)return(0,On.D)([],e);const a=new _i.y(function Id(t,e,n=Cs.y){return r=>{Xf(e,()=>{const{length:i}=t,a=new Array(i);let c=i,f=i;for(let y=0;y<i;y++)Xf(e,()=>{const v=(0,On.D)(t[y],e);let b=!1;v.subscribe((0,vi.x)(r,T=>{a[y]=T,b||(b=!0,f--),f||r.next(n(a.slice()))},()=>{--c||r.complete()}))},r)},r)}}(r,e,i?c=>Qf(i,c):Cs.y));return n?a.pipe(Ts(n)):a}function Xf(t,e,n){t?(0,Ja.f)(n,t,e):e()}const Xa=(0,R(2306).d)(t=>function(){t(this),this.name="EmptyError",this.message="no elements in sequence"});var _o=R(7537);function Dd(...t){return function Ss(){return(0,_o.J)(1)}()((0,On.D)(t,(0,as.yG)(t)))}var Ws=R(4829);function ia(t){return new _i.y(e=>{(0,Ws.Xf)(t()).subscribe(e)})}var sa=R(8407);function oa(t,e){const n=(0,qs.m)(t)?t:()=>t,r=i=>i.error(n());return new _i.y(e?i=>e.schedule(r,0,i):r)}var As=R(6232),aa=R(7394),Mr=R(9360);function zr(){return(0,Mr.e)((t,e)=>{let n=null;t._refCount++;const r=(0,vi.x)(e,void 0,void 0,void 0,()=>{if(!t||t._refCount<=0||0<--t._refCount)return void(n=null);const i=t._connection,a=n;n=null,i&&(!a||i===a)&&i.unsubscribe(),e.unsubscribe()});t.subscribe(r),r.closed||(n=t.connect())})}class tp extends _i.y{constructor(e,n){super(),this.source=e,this.subjectFactory=n,this._subject=null,this._refCount=0,this._connection=null,(0,Mr.A)(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new aa.w0;const n=this.getSubject();e.add(this.source.subscribe((0,vi.x)(n,void 0,()=>{this._teardown(),n.complete()},r=>{this._teardown(),n.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=aa.w0.EMPTY)}return e}refCount(){return zr()(this)}}var Vn=R(8645),Sn=R(4664);function vo(t){return t<=0?()=>As.E:(0,Mr.e)((e,n)=>{let r=0;e.subscribe((0,vi.x)(n,i=>{++r<=t&&(n.next(i),t<=r&&n.complete())}))})}function Gr(t,e){return(0,Mr.e)((n,r)=>{let i=0;n.subscribe((0,vi.x)(r,a=>t.call(e,a,i++)&&r.next(a)))})}var vr=R(1631);function eu(t){return(0,Mr.e)((e,n)=>{let r=!1;e.subscribe((0,vi.x)(n,i=>{r=!0,n.next(i)},()=>{r||n.next(t),n.complete()}))})}function tu(t=np){return(0,Mr.e)((e,n)=>{let r=!1;e.subscribe((0,vi.x)(n,i=>{r=!0,n.next(i)},()=>r?n.complete():n.error(t())))})}function np(){return new Xa}function Hi(t,e){const n=arguments.length>=2;return r=>r.pipe(t?Gr((i,a)=>t(i,a,r)):Cs.y,vo(1),n?eu(e):tu(()=>new Xa))}function wo(t,e){return(0,qs.m)(e)?(0,vr.z)(t,e,1):(0,vr.z)(t,1)}function In(t,e,n){const r=(0,qs.m)(t)||e||n?{next:t,error:e,complete:n}:t;return r?(0,Mr.e)((i,a)=>{var c;null===(c=r.subscribe)||void 0===c||c.call(r);let f=!0;i.subscribe((0,vi.x)(a,y=>{var v;null===(v=r.next)||void 0===v||v.call(r,y),a.next(y)},()=>{var y;f=!1,null===(y=r.complete)||void 0===y||y.call(r),a.complete()},y=>{var v;f=!1,null===(v=r.error)||void 0===v||v.call(r,y),a.error(y)},()=>{var y,v;f&&(null===(y=r.unsubscribe)||void 0===y||y.call(r)),null===(v=r.finalize)||void 0===v||v.call(r)}))}):Cs.y}function xr(t){return(0,Mr.e)((e,n)=>{let a,r=null,i=!1;r=e.subscribe((0,vi.x)(n,void 0,void 0,c=>{a=(0,Ws.Xf)(t(c,xr(t)(e))),r?(r.unsubscribe(),r=null,a.subscribe(n)):i=!0})),i&&(r.unsubscribe(),r=null,a.subscribe(n))})}function nu(t){return t<=0?()=>As.E:(0,Mr.e)((e,n)=>{let r=[];e.subscribe((0,vi.x)(n,i=>{r.push(i),t<r.length&&r.shift()},()=>{for(const i of r)n.next(i);n.complete()},void 0,()=>{r=null}))})}function Xn(t){return(0,Mr.e)((e,n)=>{try{e.subscribe(n)}finally{n.add(t)}})}var sp=R(2420);const vt="primary",ru=Symbol("RouteTitle");class op{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const n=this.params[e];return Array.isArray(n)?n[0]:n}return null}getAll(e){if(this.has(e)){const n=this.params[e];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}}function us(t){return new op(t)}function ca(t,e,n){const r=n.path.split("/");if(r.length>t.length||"full"===n.pathMatch&&(e.hasChildren()||r.length<t.length))return null;const i={};for(let a=0;a<r.length;a++){const c=r[a],f=t[a];if(c.startsWith(":"))i[c.substring(1)]=f;else if(c!==f.path)return null}return{consumed:t.slice(0,r.length),posParams:i}}function lr(t,e){const n=t?Object.keys(t):void 0,r=e?Object.keys(e):void 0;if(!n||!r||n.length!=r.length)return!1;let i;for(let a=0;a<n.length;a++)if(i=n[a],!Cd(t[i],e[i]))return!1;return!0}function Cd(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;const n=[...t].sort(),r=[...e].sort();return n.every((i,a)=>r[a]===i)}return t===e}function Eo(t){return t.length>0?t[t.length-1]:null}function qr(t){return function r_(t){return!!t&&(t instanceof _i.y||(0,qs.m)(t.lift)&&(0,qs.m)(t.subscribe))}(t)?t:(0,h.QGY)(t)?(0,On.D)(Promise.resolve(t)):(0,lt.of)(t)}const xE={exact:function a_(t,e,n){if(!wi(t.segments,e.segments)||!Ms(t.segments,e.segments,n)||t.numberOfChildren!==e.numberOfChildren)return!1;for(const r in e.children)if(!t.children[r]||!a_(t.children[r],e.children[r],n))return!1;return!0},subset:u_},ap={exact:function NE(t,e){return lr(t,e)},subset:function RE(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>Cd(t[n],e[n]))},ignored:()=>!0};function o_(t,e,n){return xE[n.paths](t.root,e.root,n.matrixParams)&&ap[n.queryParams](t.queryParams,e.queryParams)&&!("exact"===n.fragment&&t.fragment!==e.fragment)}function u_(t,e,n){return Td(t,e,e.segments,n)}function Td(t,e,n,r){if(t.segments.length>n.length){const i=t.segments.slice(0,n.length);return!(!wi(i,n)||e.hasChildren()||!Ms(i,n,r))}if(t.segments.length===n.length){if(!wi(t.segments,n)||!Ms(t.segments,n,r))return!1;for(const i in e.children)if(!t.children[i]||!u_(t.children[i],e.children[i],r))return!1;return!0}{const i=n.slice(0,t.segments.length),a=n.slice(t.segments.length);return!!(wi(t.segments,i)&&Ms(t.segments,i,r)&&t.children[vt])&&Td(t.children[vt],e,a,r)}}function Ms(t,e,n){return e.every((r,i)=>ap[n](t[i].parameters,r.parameters))}class da{constructor(e=new Qt([],{}),n={},r=null){this.root=e,this.queryParams=n,this.fragment=r}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=us(this.queryParams)),this._queryParamMap}toString(){return up.serialize(this)}}class Qt{constructor(e,n){this.segments=e,this.children=n,this.parent=null,Object.values(n).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Io(this)}}class yn{constructor(e,n){this.path=e,this.parameters=n}get parameterMap(){return this._parameterMap||(this._parameterMap=us(this.parameters)),this._parameterMap}toString(){return xs(this)}}function wi(t,e){return t.length===e.length&&t.every((n,r)=>n.path===e[r].path)}let dr=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=h.Yz7({token:t,factory:function(){return new Zs},providedIn:"root"}),e})();class Zs{parse(e){const n=new f_(e);return new da(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(e){const n=`/${zi(e.root,!0)}`,r=function d_(t){const e=Object.keys(t).map(n=>{const r=t[n];return Array.isArray(r)?r.map(i=>`${Sd(n)}=${Sd(i)}`).join("&"):`${Sd(n)}=${Sd(r)}`}).filter(n=>!!n);return e.length?`?${e.join("&")}`:""}(e.queryParams);return`${n}${r}${"string"==typeof e.fragment?`#${function Ad(t){return encodeURI(t)}(e.fragment)}`:""}`}}const up=new Zs;function Io(t){return t.segments.map(e=>xs(e)).join("/")}function zi(t,e){if(!t.hasChildren())return Io(t);if(e){const n=t.children[vt]?zi(t.children[vt],!1):"",r=[];return Object.entries(t.children).forEach(([i,a])=>{i!==vt&&r.push(`${i}:${zi(a,!1)}`)}),r.length>0?`${n}(${r.join("//")})`:n}{const n=function l_(t,e){let n=[];return Object.entries(t.children).forEach(([r,i])=>{r===vt&&(n=n.concat(e(i,r)))}),Object.entries(t.children).forEach(([r,i])=>{r!==vt&&(n=n.concat(e(i,r)))}),n}(t,(r,i)=>i===vt?[zi(t.children[vt],!1)]:[`${i}:${zi(r,!1)}`]);return 1===Object.keys(t.children).length&&null!=t.children[vt]?`${Io(t)}/${n[0]}`:`${Io(t)}/(${n.join("//")})`}}function Cc(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Sd(t){return Cc(t).replace(/%3B/gi,";")}function cp(t){return Cc(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function er(t){return decodeURIComponent(t)}function Tc(t){return er(t.replace(/\+/g,"%20"))}function xs(t){return`${cp(t.path)}${function OE(t){return Object.keys(t).map(e=>`;${cp(e)}=${cp(t[e])}`).join("")}(t.parameters)}`}const Md=/^[^\/()?;#]+/;function Sc(t){const e=t.match(Md);return e?e[0]:""}const Ac=/^[^\/()?;=#]+/,dp=/^[^=?&#]+/,xd=/^[^&#]+/;class f_{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Qt([],{}):new Qt([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(n).length>0)&&(r[vt]=new Qt(e,n)),r}parseSegment(){const e=Sc(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new h.vHH(4009,!1);return this.capture(e),new yn(er(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const n=function lp(t){const e=t.match(Ac);return e?e[0]:""}(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){const i=Sc(this.remaining);i&&(r=i,this.capture(r))}e[er(n)]=er(r)}parseQueryParam(e){const n=function h_(t){const e=t.match(dp);return e?e[0]:""}(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){const c=function Mc(t){const e=t.match(xd);return e?e[0]:""}(this.remaining);c&&(r=c,this.capture(r))}const i=Tc(n),a=Tc(r);if(e.hasOwnProperty(i)){let c=e[i];Array.isArray(c)||(c=[c],e[i]=c),c.push(a)}else e[i]=a}parseParens(e){const n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=Sc(this.remaining),i=this.remaining[r.length];if("/"!==i&&")"!==i&&";"!==i)throw new h.vHH(4010,!1);let a;r.indexOf(":")>-1?(a=r.slice(0,r.indexOf(":")),this.capture(a),this.capture(":")):e&&(a=vt);const c=this.parseChildren();n[a]=1===Object.keys(c).length?c[vt]:new Qt([],c),this.consumeOptional("//")}return n}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new h.vHH(4011,!1)}}function iu(t){return t.segments.length>0?new Qt([],{[vt]:t}):t}function Nd(t){const e={};for(const r of Object.keys(t.children)){const a=Nd(t.children[r]);if(r===vt&&0===a.segments.length&&a.hasChildren())for(const[c,f]of Object.entries(a.children))e[c]=f;else(a.segments.length>0||a.hasChildren())&&(e[r]=a)}return function xc(t){if(1===t.numberOfChildren&&t.children[vt]){const e=t.children[vt];return new Qt(t.segments.concat(e.segments),e.children)}return t}(new Qt(t.segments,e))}function Do(t){return t instanceof da}function g(t){let e;const i=iu(function n(a){const c={};for(const y of a.children){const v=n(y);c[y.outlet]=v}const f=new Qt(a.url,c);return a===t&&(e=f),f}(t.root));return e??i}function m(t,e,n,r){let i=t;for(;i.parent;)i=i.parent;if(0===e.length)return M(i,i,i,n,r);const a=function Ne(t){if("string"==typeof t[0]&&1===t.length&&"/"===t[0])return new Z(!0,0,t);let e=0,n=!1;const r=t.reduce((i,a,c)=>{if("object"==typeof a&&null!=a){if(a.outlets){const f={};return Object.entries(a.outlets).forEach(([y,v])=>{f[y]="string"==typeof v?v.split("/"):v}),[...i,{outlets:f}]}if(a.segmentPath)return[...i,a.segmentPath]}return"string"!=typeof a?[...i,a]:0===c?(a.split("/").forEach((f,y)=>{0==y&&"."===f||(0==y&&""===f?n=!0:".."===f?e++:""!=f&&i.push(f))}),i):[...i,a]},[]);return new Z(n,e,r)}(e);if(a.toRoot())return M(i,i,new Qt([],{}),n,r);const c=function Qe(t,e,n){if(t.isAbsolute)return new Ue(e,!0,0);if(!n)return new Ue(e,!1,NaN);if(null===n.parent)return new Ue(n,!0,0);const r=I(t.commands[0])?0:1;return function Ut(t,e,n){let r=t,i=e,a=n;for(;a>i;){if(a-=i,r=r.parent,!r)throw new h.vHH(4005,!1);i=r.segments.length}return new Ue(r,!1,i-a)}(n,n.segments.length-1+r,t.numberOfDoubleDots)}(a,i,t),f=c.processChildren?Ks(c.segmentGroup,c.index,a.commands):Ns(c.segmentGroup,c.index,a.commands);return M(i,c.segmentGroup,f,n,r)}function I(t){return"object"==typeof t&&null!=t&&!t.outlets&&!t.segmentPath}function S(t){return"object"==typeof t&&null!=t&&t.outlets}function M(t,e,n,r,i){let c,a={};r&&Object.entries(r).forEach(([y,v])=>{a[y]=Array.isArray(v)?v.map(b=>`${b}`):`${v}`}),c=t===e?n:B(t,e,n);const f=iu(Nd(c));return new da(f,a,i)}function B(t,e,n){const r={};return Object.entries(t.children).forEach(([i,a])=>{r[i]=a===e?n:B(a,e,n)}),new Qt(t.segments,r)}class Z{constructor(e,n,r){if(this.isAbsolute=e,this.numberOfDoubleDots=n,this.commands=r,e&&r.length>0&&I(r[0]))throw new h.vHH(4003,!1);const i=r.find(S);if(i&&i!==Eo(r))throw new h.vHH(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Ue{constructor(e,n,r){this.segmentGroup=e,this.processChildren=n,this.index=r}}function Ns(t,e,n){if(t||(t=new Qt([],{})),0===t.segments.length&&t.hasChildren())return Ks(t,e,n);const r=function hp(t,e,n){let r=0,i=e;const a={match:!1,pathIndex:0,commandIndex:0};for(;i<t.segments.length;){if(r>=n.length)return a;const c=t.segments[i],f=n[r];if(S(f))break;const y=`${f}`,v=r<n.length-1?n[r+1]:null;if(i>0&&void 0===y)break;if(y&&v&&"object"==typeof v&&void 0===v.outlets){if(!su(y,v,c))return a;r+=2}else{if(!su(y,{},c))return a;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(t,e,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){const a=new Qt(t.segments.slice(0,r.pathIndex),{});return a.children[vt]=new Qt(t.segments.slice(r.pathIndex),t.children),Ks(a,0,i)}return r.match&&0===i.length?new Qt(t.segments,{}):r.match&&!t.hasChildren()?Ys(t,e,n):r.match?Ks(t,0,i):Ys(t,e,n)}function Ks(t,e,n){if(0===n.length)return new Qt(t.segments,{});{const r=function Wr(t){return S(t[0])?t[0].outlets:{[vt]:t}}(n),i={};if(Object.keys(r).some(a=>a!==vt)&&t.children[vt]&&1===t.numberOfChildren&&0===t.children[vt].segments.length){const a=Ks(t.children[vt],e,n);return new Qt(t.segments,a.children)}return Object.entries(r).forEach(([a,c])=>{"string"==typeof c&&(c=[c]),null!==c&&(i[a]=Ns(t.children[a],e,c))}),Object.entries(t.children).forEach(([a,c])=>{void 0===r[a]&&(i[a]=c)}),new Qt(t.segments,i)}}function Ys(t,e,n){const r=t.segments.slice(0,e);let i=0;for(;i<n.length;){const a=n[i];if(S(a)){const y=Rd(a.outlets);return new Qt(r,y)}if(0===i&&I(n[0])){r.push(new yn(t.segments[e].path,Od(n[0]))),i++;continue}const c=S(a)?a.outlets[vt]:`${a}`,f=i<n.length-1?n[i+1]:null;c&&f&&I(f)?(r.push(new yn(c,Od(f))),i+=2):(r.push(new yn(c,{})),i++)}return new Qt(r,{})}function Rd(t){const e={};return Object.entries(t).forEach(([n,r])=>{"string"==typeof r&&(r=[r]),null!==r&&(e[n]=Ys(new Qt([],{}),0,r))}),e}function Od(t){const e={};return Object.entries(t).forEach(([n,r])=>e[n]=`${r}`),e}function su(t,e,n){return t==n.path&&lr(e,n.parameters)}const ou="imperative";class Ei{constructor(e,n){this.id=e,this.url=n}}class au extends Ei{constructor(e,n,r="imperative",i=null){super(e,n),this.type=0,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Rs extends Ei{constructor(e,n,r){super(e,n),this.urlAfterRedirects=r,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class uu extends Ei{constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class cs extends Ei{constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=16}}class Pd extends Ei{constructor(e,n,r,i){super(e,n),this.error=r,this.target=i,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class US extends Ei{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class p_ extends Ei{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class mP extends Ei{constructor(e,n,r,i,a){super(e,n),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=a,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class yP extends Ei{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class _P extends Ei{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class vP{constructor(e){this.route=e,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class wP{constructor(e){this.route=e,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class BS{constructor(e){this.snapshot=e,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class fp{constructor(e){this.snapshot=e,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class pp{constructor(e){this.snapshot=e,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class PE{constructor(e){this.snapshot=e,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class g_{constructor(e,n,r){this.routerEvent=e,this.position=n,this.anchor=r,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class gp{}class ha{constructor(e){this.url=e}}class kE{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new fa,this.attachRef=null}}let fa=(()=>{var t;class e{constructor(){this.contexts=new Map}onChildOutletCreated(r,i){const a=this.getOrCreateContext(r);a.outlet=i,this.contexts.set(r,a)}onChildOutletDestroyed(r){const i=this.getContext(r);i&&(i.outlet=null,i.attachRef=null)}onOutletDeactivated(){const r=this.contexts;return this.contexts=new Map,r}onOutletReAttached(r){this.contexts=r}getOrCreateContext(r){let i=this.getContext(r);return i||(i=new kE,this.contexts.set(r,i)),i}getContext(r){return this.contexts.get(r)||null}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=h.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();class kd{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const n=this.pathFromRoot(e);return n.length>1?n[n.length-2]:null}children(e){const n=Nc(e,this._root);return n?n.children.map(r=>r.value):[]}firstChild(e){const n=Nc(e,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(e){const n=m_(e,this._root);return n.length<2?[]:n[n.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return m_(e,this._root).map(n=>n.value)}}function Nc(t,e){if(t===e.value)return e;for(const n of e.children){const r=Nc(t,n);if(r)return r}return null}function m_(t,e){if(t===e.value)return[e];for(const n of e.children){const r=m_(t,n);if(r.length)return r.unshift(e),r}return[]}class bo{constructor(e,n){this.value=e,this.children=n}toString(){return`TreeNode(${this.value})`}}function Rc(t){const e={};return t&&t.children.forEach(n=>e[n.value.outlet]=n),e}class y_ extends kd{constructor(e,n){super(e),this.snapshot=n,Nr(this,e)}toString(){return this.snapshot.toString()}}function mp(t,e){const n=function $S(t,e){const c=new yp([],{},{},"",{},vt,e,null,{});return new VE("",new bo(c,[]))}(0,e),r=new Ar.X([new yn("",{})]),i=new Ar.X({}),a=new Ar.X({}),c=new Ar.X({}),f=new Ar.X(""),y=new Oc(r,i,c,f,a,vt,e,n.root);return y.snapshot=n.root,new y_(new bo(y,[]),n)}class Oc{constructor(e,n,r,i,a,c,f,y){this.urlSubject=e,this.paramsSubject=n,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=a,this.outlet=c,this.component=f,this._futureSnapshot=y,this.title=this.dataSubject?.pipe((0,Zt.U)(v=>v[ru]))??(0,lt.of)(void 0),this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=a}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,Zt.U)(e=>us(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,Zt.U)(e=>us(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function FE(t,e="emptyOnly"){const n=t.pathFromRoot;let r=0;if("always"!==e)for(r=n.length-1;r>=1;){const i=n[r],a=n[r-1];if(i.routeConfig&&""===i.routeConfig.path)r--;else{if(a.component)break;r--}}return function LE(t){return t.reduce((e,n)=>({params:{...e.params,...n.params},data:{...e.data,...n.data},resolve:{...n.data,...e.resolve,...n.routeConfig?.data,...n._resolvedData}}),{params:{},data:{},resolve:{}})}(n.slice(r))}class yp{get title(){return this.data?.[ru]}constructor(e,n,r,i,a,c,f,y,v){this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=a,this.outlet=c,this.component=f,this.routeConfig=y,this._resolve=v}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=us(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=us(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class VE extends kd{constructor(e,n){super(n),this.url=e,Nr(this,n)}toString(){return _p(this._root)}}function Nr(t,e){e.value._routerState=t,e.children.forEach(n=>Nr(t,n))}function _p(t){const e=t.children.length>0?` { ${t.children.map(_p).join(", ")} } `:"";return`${t.value}${e}`}function vp(t){if(t.snapshot){const e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,lr(e.queryParams,n.queryParams)||t.queryParamsSubject.next(n.queryParams),e.fragment!==n.fragment&&t.fragmentSubject.next(n.fragment),lr(e.params,n.params)||t.paramsSubject.next(n.params),function la(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!lr(t[n],e[n]))return!1;return!0}(e.url,n.url)||t.urlSubject.next(n.url),lr(e.data,n.data)||t.dataSubject.next(n.data)}else t.snapshot=t._futureSnapshot,t.dataSubject.next(t._futureSnapshot.data)}function Fd(t,e){const n=lr(t.params,e.params)&&function c_(t,e){return wi(t,e)&&t.every((n,r)=>lr(n.parameters,e[r].parameters))}(t.url,e.url);return n&&!(!t.parent!=!e.parent)&&(!t.parent||Fd(t.parent,e.parent))}let hr=(()=>{var t;class e{constructor(){this.activated=null,this._activatedRoute=null,this.name=vt,this.activateEvents=new h.vpe,this.deactivateEvents=new h.vpe,this.attachEvents=new h.vpe,this.detachEvents=new h.vpe,this.parentContexts=(0,h.f3M)(fa),this.location=(0,h.f3M)(h.s_b),this.changeDetector=(0,h.f3M)(h.sBO),this.environmentInjector=(0,h.f3M)(h.lqb),this.inputBinder=(0,h.f3M)(Vd,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(r){if(r.name){const{firstChange:i,previousValue:a}=r.name;if(i)return;this.isTrackedInParentContexts(a)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(a)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(r){return this.parentContexts.getContext(r)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const r=this.parentContexts.getContext(this.name);r?.route&&(r.attachRef?this.attach(r.attachRef,r.route):this.activateWith(r.route,r.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new h.vHH(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new h.vHH(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new h.vHH(4012,!1);this.location.detach();const r=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(r.instance),r}attach(r,i){this.activated=r,this._activatedRoute=i,this.location.insert(r.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(r.instance)}deactivate(){if(this.activated){const r=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(r)}}activateWith(r,i){if(this.isActivated)throw new h.vHH(4013,!1);this._activatedRoute=r;const a=this.location,f=r.snapshot.component,y=this.parentContexts.getOrCreateContext(this.name).children,v=new Ld(r,y,a.injector);this.activated=a.createComponent(f,{index:a.length,injector:v,environmentInjector:i??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275dir=h.lG2({type:t,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[h.TTD]}),e})();class Ld{constructor(e,n,r){this.route=e,this.childContexts=n,this.parent=r}get(e,n){return e===Oc?this.route:e===fa?this.childContexts:this.parent.get(e,n)}}const Vd=new h.OlP("");let __=(()=>{var t;class e{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(r){this.unsubscribeFromRouteData(r),this.subscribeToRouteData(r)}unsubscribeFromRouteData(r){this.outletDataSubscriptions.get(r)?.unsubscribe(),this.outletDataSubscriptions.delete(r)}subscribeToRouteData(r){const{activatedRoute:i}=r,a=Jf([i.queryParams,i.params,i.data]).pipe((0,Sn.w)(([c,f,y],v)=>(y={...c,...f,...y},0===v?(0,lt.of)(y):Promise.resolve(y)))).subscribe(c=>{if(!r.isActivated||!r.activatedComponentRef||r.activatedRoute!==i||null===i.component)return void this.unsubscribeFromRouteData(r);const f=(0,h.qFp)(i.component);if(f)for(const{templateName:y}of f.inputs)r.activatedComponentRef.setInput(y,c[y]);else this.unsubscribeFromRouteData(r)});this.outletDataSubscriptions.set(r,a)}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=h.Yz7({token:t,factory:t.\u0275fac}),e})();function Pc(t,e,n){if(n&&t.shouldReuseRoute(e.value,n.value.snapshot)){const r=n.value;r._futureSnapshot=e.value;const i=function zS(t,e,n){return e.children.map(r=>{for(const i of n.children)if(t.shouldReuseRoute(r.value,i.value.snapshot))return Pc(t,r,i);return Pc(t,r)})}(t,e,n);return new bo(r,i)}{if(t.shouldAttach(e.value)){const a=t.retrieve(e.value);if(null!==a){const c=a.route;return c.value._futureSnapshot=e.value,c.children=e.children.map(f=>Pc(t,f)),c}}const r=function UE(t){return new Oc(new Ar.X(t.url),new Ar.X(t.params),new Ar.X(t.queryParams),new Ar.X(t.fragment),new Ar.X(t.data),t.outlet,t.component,t)}(e.value),i=e.children.map(a=>Pc(t,a));return new bo(r,i)}}const v_="ngNavigationCancelingError";function w_(t,e){const{redirectTo:n,navigationBehaviorOptions:r}=Do(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=BE(!1,0,e);return i.url=n,i.navigationBehaviorOptions=r,i}function BE(t,e,n){const r=new Error("NavigationCancelingError: "+(t||""));return r[v_]=!0,r.cancellationCode=e,n&&(r.url=n),r}function wp(t){return t&&t[v_]}let Ep=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275cmp=h.Xpm({type:t,selectors:[["ng-component"]],standalone:!0,features:[h.jDz],decls:1,vars:0,template:function(r,i){1&r&&h._UZ(0,"router-outlet")},dependencies:[hr],encapsulation:2}),e})();function bp(t){const e=t.children&&t.children.map(bp),n=e?{...t,children:e}:{...t};return!n.component&&!n.loadComponent&&(e||n.loadChildren)&&n.outlet&&n.outlet!==vt&&(n.component=Ep),n}function Gi(t){return t.outlet||vt}function Ud(t){if(!t)return null;if(t.routeConfig?._injector)return t.routeConfig._injector;for(let e=t.parent;e;e=e.parent){const n=e.routeConfig;if(n?._loadedInjector)return n._loadedInjector;if(n?._injector)return n._injector}return null}class YS{constructor(e,n,r,i,a){this.routeReuseStrategy=e,this.futureState=n,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=a}activate(e){const n=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,r,e),vp(this.futureState.root),this.activateChildRoutes(n,r,e)}deactivateChildRoutes(e,n,r){const i=Rc(n);e.children.forEach(a=>{const c=a.value.outlet;this.deactivateRoutes(a,i[c],r),delete i[c]}),Object.values(i).forEach(a=>{this.deactivateRouteAndItsChildren(a,r)})}deactivateRoutes(e,n,r){const i=e.value,a=n?n.value:null;if(i===a)if(i.component){const c=r.getContext(i.outlet);c&&this.deactivateChildRoutes(e,n,c.children)}else this.deactivateChildRoutes(e,n,r);else a&&this.deactivateRouteAndItsChildren(n,r)}deactivateRouteAndItsChildren(e,n){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,n):this.deactivateRouteAndOutlet(e,n)}detachAndStoreRouteSubtree(e,n){const r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,a=Rc(e);for(const c of Object.keys(a))this.deactivateRouteAndItsChildren(a[c],i);if(r&&r.outlet){const c=r.outlet.detach(),f=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:c,route:e,contexts:f})}}deactivateRouteAndOutlet(e,n){const r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,a=Rc(e);for(const c of Object.keys(a))this.deactivateRouteAndItsChildren(a[c],i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(e,n,r){const i=Rc(n);e.children.forEach(a=>{this.activateRoutes(a,i[a.value.outlet],r),this.forwardEvent(new PE(a.value.snapshot))}),e.children.length&&this.forwardEvent(new fp(e.value.snapshot))}activateRoutes(e,n,r){const i=e.value,a=n?n.value:null;if(vp(i),i===a)if(i.component){const c=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,n,c.children)}else this.activateChildRoutes(e,n,r);else if(i.component){const c=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){const f=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),c.children.onOutletReAttached(f.contexts),c.attachRef=f.componentRef,c.route=f.route.value,c.outlet&&c.outlet.attach(f.componentRef,f.route.value),vp(f.route.value),this.activateChildRoutes(e,null,c.children)}else{const f=Ud(i.snapshot);c.attachRef=null,c.route=i,c.injector=f,c.outlet&&c.outlet.activateWith(i,c.injector),this.activateChildRoutes(e,null,c.children)}}else this.activateChildRoutes(e,null,r)}}class $E{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class Tp{constructor(e,n){this.component=e,this.route=n}}function HE(t,e,n){const r=t._root;return cu(r,e?e._root:null,n,[r.value])}function pa(t,e){const n=Symbol(),r=e.get(t,n);return r===n?"function"!=typeof t||(0,h.Z0I)(t)?e.get(t):t:r}function cu(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const a=Rc(e);return t.children.forEach(c=>{(function QS(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const a=t.value,c=e?e.value:null,f=n?n.getContext(t.value.outlet):null;if(c&&a.routeConfig===c.routeConfig){const y=function JS(t,e,n){if("function"==typeof n)return n(t,e);switch(n){case"pathParamsChange":return!wi(t.url,e.url);case"pathParamsOrQueryParamsChange":return!wi(t.url,e.url)||!lr(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Fd(t,e)||!lr(t.queryParams,e.queryParams);default:return!Fd(t,e)}}(c,a,a.routeConfig.runGuardsAndResolvers);y?i.canActivateChecks.push(new $E(r)):(a.data=c.data,a._resolvedData=c._resolvedData),cu(t,e,a.component?f?f.children:null:n,r,i),y&&f&&f.outlet&&f.outlet.isActivated&&i.canDeactivateChecks.push(new Tp(f.outlet.component,c))}else c&&lu(e,f,i),i.canActivateChecks.push(new $E(r)),cu(t,null,a.component?f?f.children:null:n,r,i)})(c,a[c.value.outlet],n,r.concat([c.value]),i),delete a[c.value.outlet]}),Object.entries(a).forEach(([c,f])=>lu(f,n.getContext(c),i)),i}function lu(t,e,n){const r=Rc(t),i=t.value;Object.entries(r).forEach(([a,c])=>{lu(c,i.component?e?e.children.getContext(a):null:e,n)}),n.canDeactivateChecks.push(new Tp(i.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,i))}function Fc(t){return"function"==typeof t}function E_(t){return t instanceof Xa||"EmptyError"===t?.name}const Bd=Symbol("INITIAL_VALUE");function ga(){return(0,Sn.w)(t=>Jf(t.map(e=>e.pipe(vo(1),function Dc(...t){const e=(0,as.yG)(t);return(0,Mr.e)((n,r)=>{(e?Dd(t,n,e):Dd(t,n)).subscribe(r)})}(Bd)))).pipe((0,Zt.U)(e=>{for(const n of e)if(!0!==n){if(n===Bd)return Bd;if(!1===n||n instanceof da)return n}return!0}),Gr(e=>e!==Bd),vo(1)))}function YE(t){return(0,sa.z)(In(e=>{if(Do(e))throw w_(0,e)}),(0,Zt.U)(e=>!0===e))}class Np{constructor(e){this.segmentGroup=e||null}}class JE{constructor(e){this.urlTree=e}}function Lc(t){return oa(new Np(t))}function b_(t){return oa(new JE(t))}class C_{constructor(e,n){this.urlSerializer=e,this.urlTree=n}noMatchError(e){return new h.vHH(4002,!1)}lineralizeSegments(e,n){let r=[],i=n.root;for(;;){if(r=r.concat(i.segments),0===i.numberOfChildren)return(0,lt.of)(r);if(i.numberOfChildren>1||!i.children[vt])return oa(new h.vHH(4e3,!1));i=i.children[vt]}}applyRedirectCommands(e,n,r){return this.applyRedirectCreateUrlTree(n,this.urlSerializer.parse(n),e,r)}applyRedirectCreateUrlTree(e,n,r,i){const a=this.createSegmentGroup(e,n.root,r,i);return new da(a,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(e,n){const r={};return Object.entries(e).forEach(([i,a])=>{if("string"==typeof a&&a.startsWith(":")){const f=a.substring(1);r[i]=n[f]}else r[i]=a}),r}createSegmentGroup(e,n,r,i){const a=this.createSegments(e,n.segments,r,i);let c={};return Object.entries(n.children).forEach(([f,y])=>{c[f]=this.createSegmentGroup(e,y,r,i)}),new Qt(a,c)}createSegments(e,n,r,i){return n.map(a=>a.path.startsWith(":")?this.findPosParam(e,a,i):this.findOrReturn(a,r))}findPosParam(e,n,r){const i=r[n.path.substring(1)];if(!i)throw new h.vHH(4001,!1);return i}findOrReturn(e,n){let r=0;for(const i of n){if(i.path===e.path)return n.splice(r),i;r++}return e}}const ma={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function eA(t,e,n,r,i){const a=T_(t,e,n);return a.matched?(r=function qS(t,e){return t.providers&&!t._injector&&(t._injector=(0,h.MMx)(t.providers,e,`Route: ${t.path}`)),t._injector??e}(e,r),function QE(t,e,n,r){const i=e.canMatch;if(!i||0===i.length)return(0,lt.of)(!0);const a=i.map(c=>{const f=pa(c,t);return qr(function Ap(t){return t&&Fc(t.canMatch)}(f)?f.canMatch(e,n):t.runInContext(()=>f(e,n)))});return(0,lt.of)(a).pipe(ga(),YE())}(r,e,n).pipe((0,Zt.U)(c=>!0===c?a:{...ma}))):(0,lt.of)(a)}function T_(t,e,n){if(""===e.path)return"full"===e.pathMatch&&(t.hasChildren()||n.length>0)?{...ma}:{matched:!0,consumedSegments:[],remainingSegments:n,parameters:{},positionalParamSegments:{}};const i=(e.matcher||ca)(n,t,e);if(!i)return{...ma};const a={};Object.entries(i.posParams??{}).forEach(([f,y])=>{a[f]=y.path});const c=i.consumed.length>0?{...a,...i.consumed[i.consumed.length-1].parameters}:a;return{matched:!0,consumedSegments:i.consumed,remainingSegments:n.slice(i.consumed.length),parameters:c,positionalParamSegments:i.posParams??{}}}function tA(t,e,n,r){return n.length>0&&function rA(t,e,n){return n.some(r=>hu(t,e,r)&&Gi(r)!==vt)}(t,n,r)?{segmentGroup:new Qt(e,S_(r,new Qt(n,t.children))),slicedSegments:[]}:0===n.length&&function Vc(t,e,n){return n.some(r=>hu(t,e,r))}(t,n,r)?{segmentGroup:new Qt(t.segments,nA(t,0,n,r,t.children)),slicedSegments:n}:{segmentGroup:new Qt(t.segments,t.children),slicedSegments:n}}function nA(t,e,n,r,i){const a={};for(const c of r)if(hu(t,n,c)&&!i[Gi(c)]){const f=new Qt([],{});a[Gi(c)]=f}return{...i,...a}}function S_(t,e){const n={};n[vt]=e;for(const r of t)if(""===r.path&&Gi(r)!==vt){const i=new Qt([],{});n[Gi(r)]=i}return n}function hu(t,e,n){return(!(t.hasChildren()||e.length>0)||"full"!==n.pathMatch)&&""===n.path}class nI{constructor(e,n,r,i,a,c,f){this.injector=e,this.configLoader=n,this.rootComponentType=r,this.config=i,this.urlTree=a,this.paramsInheritanceStrategy=c,this.urlSerializer=f,this.allowRedirects=!0,this.applyRedirects=new C_(this.urlSerializer,this.urlTree)}noMatchError(e){return new h.vHH(4002,!1)}recognize(){const e=tA(this.urlTree.root,[],[],this.config).segmentGroup;return this.processSegmentGroup(this.injector,this.config,e,vt).pipe(xr(n=>{if(n instanceof JE)return this.allowRedirects=!1,this.urlTree=n.urlTree,this.match(n.urlTree);throw n instanceof Np?this.noMatchError(n):n}),(0,Zt.U)(n=>{const r=new yp([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},vt,this.rootComponentType,null,{}),i=new bo(r,n),a=new VE("",i),c=function E(t,e,n=null,r=null){return m(g(t),e,n,r)}(r,[],this.urlTree.queryParams,this.urlTree.fragment);return c.queryParams=this.urlTree.queryParams,a.url=this.urlSerializer.serialize(c),this.inheritParamsAndData(a._root),{state:a,tree:c}}))}match(e){return this.processSegmentGroup(this.injector,this.config,e.root,vt).pipe(xr(r=>{throw r instanceof Np?this.noMatchError(r):r}))}inheritParamsAndData(e){const n=e.value,r=FE(n,this.paramsInheritanceStrategy);n.params=Object.freeze(r.params),n.data=Object.freeze(r.data),e.children.forEach(i=>this.inheritParamsAndData(i))}processSegmentGroup(e,n,r,i){return 0===r.segments.length&&r.hasChildren()?this.processChildren(e,n,r):this.processSegment(e,n,r,r.segments,i,!0)}processChildren(e,n,r){const i=[];for(const a of Object.keys(r.children))"primary"===a?i.unshift(a):i.push(a);return(0,On.D)(i).pipe(wo(a=>{const c=r.children[a],f=function Cp(t,e){const n=t.filter(r=>Gi(r)===e);return n.push(...t.filter(r=>Gi(r)!==e)),n}(n,a);return this.processSegmentGroup(e,f,c,a)}),function rp(t,e){return(0,Mr.e)(function bd(t,e,n,r,i){return(a,c)=>{let f=n,y=e,v=0;a.subscribe((0,vi.x)(c,b=>{const T=v++;y=f?t(y,b,T):(f=!0,b),r&&c.next(y)},i&&(()=>{f&&c.next(y),c.complete()})))}}(t,e,arguments.length>=2,!0))}((a,c)=>(a.push(...c),a)),eu(null),function ua(t,e){const n=arguments.length>=2;return r=>r.pipe(t?Gr((i,a)=>t(i,a,r)):Cs.y,nu(1),n?eu(e):tu(()=>new Xa))}(),(0,vr.z)(a=>{if(null===a)return Lc(r);const c=rI(a);return function fu(t){t.sort((e,n)=>e.value.outlet===vt?-1:n.value.outlet===vt?1:e.value.outlet.localeCompare(n.value.outlet))}(c),(0,lt.of)(c)}))}processSegment(e,n,r,i,a,c){return(0,On.D)(n).pipe(wo(f=>this.processSegmentAgainstRoute(f._injector??e,n,f,r,i,a,c).pipe(xr(y=>{if(y instanceof Np)return(0,lt.of)(null);throw y}))),Hi(f=>!!f),xr(f=>{if(E_(f))return function eI(t,e,n){return 0===e.length&&!t.children[n]}(r,i,a)?(0,lt.of)([]):Lc(r);throw f}))}processSegmentAgainstRoute(e,n,r,i,a,c,f){return function A_(t,e,n,r){return!!(Gi(t)===r||r!==vt&&hu(e,n,t))&&("**"===t.path||T_(e,t,n).matched)}(r,i,a,c)?void 0===r.redirectTo?this.matchSegmentAgainstRoute(e,i,r,a,c,f):f&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,i,n,r,a,c):Lc(i):Lc(i)}expandSegmentAgainstRouteUsingRedirect(e,n,r,i,a,c){return"**"===i.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,r,i,c):this.expandRegularSegmentAgainstRouteUsingRedirect(e,n,r,i,a,c)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,n,r,i){const a=this.applyRedirects.applyRedirectCommands([],r.redirectTo,{});return r.redirectTo.startsWith("/")?b_(a):this.applyRedirects.lineralizeSegments(r,a).pipe((0,vr.z)(c=>{const f=new Qt(c,{});return this.processSegment(e,n,f,c,i,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,n,r,i,a,c){const{matched:f,consumedSegments:y,remainingSegments:v,positionalParamSegments:b}=T_(n,i,a);if(!f)return Lc(n);const T=this.applyRedirects.applyRedirectCommands(y,i.redirectTo,b);return i.redirectTo.startsWith("/")?b_(T):this.applyRedirects.lineralizeSegments(i,T).pipe((0,vr.z)(N=>this.processSegment(e,r,n,N.concat(v),c,!1)))}matchSegmentAgainstRoute(e,n,r,i,a,c){let f;if("**"===r.path){const y=i.length>0?Eo(i).parameters:{},v=new yp(i,y,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,iI(r),Gi(r),r.component??r._loadedComponent??null,r,sI(r));f=(0,lt.of)({snapshot:v,consumedSegments:[],remainingSegments:[]}),n.children={}}else f=eA(n,r,i,e).pipe((0,Zt.U)(({matched:y,consumedSegments:v,remainingSegments:b,parameters:T})=>y?{snapshot:new yp(v,T,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,iI(r),Gi(r),r.component??r._loadedComponent??null,r,sI(r)),consumedSegments:v,remainingSegments:b}:null));return f.pipe((0,Sn.w)(y=>null===y?Lc(n):this.getChildConfig(e=r._injector??e,r,i).pipe((0,Sn.w)(({routes:v})=>{const b=r._loadedInjector??e,{snapshot:T,consumedSegments:N,remainingSegments:O}=y,{segmentGroup:$,slicedSegments:Q}=tA(n,N,O,v);if(0===Q.length&&$.hasChildren())return this.processChildren(b,v,$).pipe((0,Zt.U)(Ae=>null===Ae?null:[new bo(T,Ae)]));if(0===v.length&&0===Q.length)return(0,lt.of)([new bo(T,[])]);const ae=Gi(r)===a;return this.processSegment(b,v,$,Q,ae?vt:a,!0).pipe((0,Zt.U)(Ae=>[new bo(T,Ae)]))}))))}getChildConfig(e,n,r){return n.children?(0,lt.of)({routes:n.children,injector:e}):n.loadChildren?void 0!==n._loadedRoutes?(0,lt.of)({routes:n._loadedRoutes,injector:n._loadedInjector}):function $d(t,e,n,r){const i=e.canLoad;if(void 0===i||0===i.length)return(0,lt.of)(!0);const a=i.map(c=>{const f=pa(c,t);return qr(function zE(t){return t&&Fc(t.canLoad)}(f)?f.canLoad(e,n):t.runInContext(()=>f(e,n)))});return(0,lt.of)(a).pipe(ga(),YE())}(e,n,r).pipe((0,vr.z)(i=>i?this.configLoader.loadChildren(e,n).pipe(In(a=>{n._loadedRoutes=a.routes,n._loadedInjector=a.injector})):function Rp(t){return oa(BE(!1,3))}())):(0,lt.of)({routes:[],injector:e})}}function iA(t){const e=t.value.routeConfig;return e&&""===e.path}function rI(t){const e=[],n=new Set;for(const r of t){if(!iA(r)){e.push(r);continue}const i=e.find(a=>r.value.routeConfig===a.value.routeConfig);void 0!==i?(i.children.push(...r.children),n.add(i)):e.push(r)}for(const r of n){const i=rI(r.children);e.push(new bo(r.value,i))}return e.filter(r=>!n.has(r))}function iI(t){return t.data||{}}function sI(t){return t.resolve||{}}function oI(t){return"string"==typeof t.title||null===t.title}function M_(t){return(0,Sn.w)(e=>{const n=t(e);return n?(0,On.D)(n).pipe((0,Zt.U)(()=>e)):(0,lt.of)(e)})}const pu=new h.OlP("ROUTES");let x_=(()=>{var t;class e{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=(0,h.f3M)(h.Sil)}loadComponent(r){if(this.componentLoaders.get(r))return this.componentLoaders.get(r);if(r._loadedComponent)return(0,lt.of)(r._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(r);const i=qr(r.loadComponent()).pipe((0,Zt.U)(aI),In(c=>{this.onLoadEndListener&&this.onLoadEndListener(r),r._loadedComponent=c}),Xn(()=>{this.componentLoaders.delete(r)})),a=new tp(i,()=>new Vn.x).pipe(zr());return this.componentLoaders.set(r,a),a}loadChildren(r,i){if(this.childrenLoaders.get(i))return this.childrenLoaders.get(i);if(i._loadedRoutes)return(0,lt.of)({routes:i._loadedRoutes,injector:i._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(i);const c=this.loadModuleFactoryOrRoutes(i.loadChildren).pipe((0,Zt.U)(y=>{this.onLoadEndListener&&this.onLoadEndListener(i);let v,b;return Array.isArray(y)?b=y:(v=y.create(r).injector,b=v.get(pu,[],h.XFs.Self|h.XFs.Optional).flat()),{routes:b.map(bp),injector:v}}),Xn(()=>{this.childrenLoaders.delete(i)})),f=new tp(c,()=>new Vn.x).pipe(zr());return this.childrenLoaders.set(i,f),f}loadModuleFactoryOrRoutes(r){return qr(r()).pipe((0,Zt.U)(aI),(0,vr.z)(i=>i instanceof h.YKP||Array.isArray(i)?(0,lt.of)(i):(0,On.D)(this.compiler.compileModuleAsync(i))))}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=h.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();function aI(t){return function cA(t){return t&&"object"==typeof t&&"default"in t}(t)?t.default:t}let Op=(()=>{var t;class e{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new Vn.x,this.transitionAbortSubject=new Vn.x,this.configLoader=(0,h.f3M)(x_),this.environmentInjector=(0,h.f3M)(h.lqb),this.urlSerializer=(0,h.f3M)(dr),this.rootContexts=(0,h.f3M)(fa),this.inputBindingEnabled=null!==(0,h.f3M)(Vd,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>(0,lt.of)(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=a=>this.events.next(new wP(a)),this.configLoader.onLoadStartListener=a=>this.events.next(new vP(a))}complete(){this.transitions?.complete()}handleNavigationRequest(r){const i=++this.navigationId;this.transitions?.next({...this.transitions.value,...r,id:i})}setupNavigations(r,i,a){return this.transitions=new Ar.X({id:0,currentUrlTree:i,currentRawUrl:i,currentBrowserUrl:i,extractedUrl:r.urlHandlingStrategy.extract(i),urlAfterRedirects:r.urlHandlingStrategy.extract(i),rawUrl:i,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:ou,restoredState:null,currentSnapshot:a.snapshot,targetSnapshot:null,currentRouterState:a,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(Gr(c=>0!==c.id),(0,Zt.U)(c=>({...c,extractedUrl:r.urlHandlingStrategy.extract(c.rawUrl)})),(0,Sn.w)(c=>{this.currentTransition=c;let f=!1,y=!1;return(0,lt.of)(c).pipe(In(v=>{this.currentNavigation={id:v.id,initialUrl:v.rawUrl,extractedUrl:v.extractedUrl,trigger:v.source,extras:v.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),(0,Sn.w)(v=>{const b=v.currentBrowserUrl.toString(),T=!r.navigated||v.extractedUrl.toString()!==b||b!==v.currentUrlTree.toString();if(!T&&"reload"!==(v.extras.onSameUrlNavigation??r.onSameUrlNavigation)){const O="";return this.events.next(new cs(v.id,this.urlSerializer.serialize(v.rawUrl),O,0)),v.resolve(null),As.E}if(r.urlHandlingStrategy.shouldProcessUrl(v.rawUrl))return(0,lt.of)(v).pipe((0,Sn.w)(O=>{const $=this.transitions?.getValue();return this.events.next(new au(O.id,this.urlSerializer.serialize(O.extractedUrl),O.source,O.restoredState)),$!==this.transitions?.getValue()?As.E:Promise.resolve(O)}),function Co(t,e,n,r,i,a){return(0,vr.z)(c=>function tI(t,e,n,r,i,a,c="emptyOnly"){return new nI(t,e,n,r,i,c,a).recognize()}(t,e,n,r,c.extractedUrl,i,a).pipe((0,Zt.U)(({state:f,tree:y})=>({...c,targetSnapshot:f,urlAfterRedirects:y}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,r.config,this.urlSerializer,r.paramsInheritanceStrategy),In(O=>{c.targetSnapshot=O.targetSnapshot,c.urlAfterRedirects=O.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:O.urlAfterRedirects};const $=new US(O.id,this.urlSerializer.serialize(O.extractedUrl),this.urlSerializer.serialize(O.urlAfterRedirects),O.targetSnapshot);this.events.next($)}));if(T&&r.urlHandlingStrategy.shouldProcessUrl(v.currentRawUrl)){const{id:O,extractedUrl:$,source:Q,restoredState:ae,extras:Ae}=v,je=new au(O,this.urlSerializer.serialize($),Q,ae);this.events.next(je);const We=mp(0,this.rootComponentType).snapshot;return this.currentTransition=c={...v,targetSnapshot:We,urlAfterRedirects:$,extras:{...Ae,skipLocationChange:!1,replaceUrl:!1}},(0,lt.of)(c)}{const O="";return this.events.next(new cs(v.id,this.urlSerializer.serialize(v.extractedUrl),O,1)),v.resolve(null),As.E}}),In(v=>{const b=new p_(v.id,this.urlSerializer.serialize(v.extractedUrl),this.urlSerializer.serialize(v.urlAfterRedirects),v.targetSnapshot);this.events.next(b)}),(0,Zt.U)(v=>(this.currentTransition=c={...v,guards:HE(v.targetSnapshot,v.currentSnapshot,this.rootContexts)},c)),function WE(t,e){return(0,vr.z)(n=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:a,canDeactivateChecks:c}}=n;return 0===c.length&&0===a.length?(0,lt.of)({...n,guardsResult:!0}):function Mp(t,e,n,r){return(0,On.D)(t).pipe((0,vr.z)(i=>function D_(t,e,n,r,i){const a=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!a||0===a.length)return(0,lt.of)(!0);const c=a.map(f=>{const y=Ud(e)??i,v=pa(f,y);return qr(function bP(t){return t&&Fc(t.canDeactivate)}(v)?v.canDeactivate(t,e,n,r):y.runInContext(()=>v(t,e,n,r))).pipe(Hi())});return(0,lt.of)(c).pipe(ga())}(i.component,i.route,n,e,r)),Hi(i=>!0!==i,!0))}(c,r,i,t).pipe((0,vr.z)(f=>f&&function du(t){return"boolean"==typeof t}(f)?function jd(t,e,n,r){return(0,On.D)(e).pipe(wo(i=>Dd(function I_(t,e){return null!==t&&e&&e(new BS(t)),(0,lt.of)(!0)}(i.route.parent,r),function ZE(t,e){return null!==t&&e&&e(new pp(t)),(0,lt.of)(!0)}(i.route,r),function KE(t,e,n){const r=e[e.length-1],a=e.slice(0,e.length-1).reverse().map(c=>function Sp(t){const e=t.routeConfig?t.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:t,guards:e}:null}(c)).filter(c=>null!==c).map(c=>ia(()=>{const f=c.guards.map(y=>{const v=Ud(c.node)??n,b=pa(y,v);return qr(function XS(t){return t&&Fc(t.canActivateChild)}(b)?b.canActivateChild(r,t):v.runInContext(()=>b(r,t))).pipe(Hi())});return(0,lt.of)(f).pipe(ga())}));return(0,lt.of)(a).pipe(ga())}(t,i.path,n),function xp(t,e,n){const r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return(0,lt.of)(!0);const i=r.map(a=>ia(()=>{const c=Ud(e)??n,f=pa(a,c);return qr(function GE(t){return t&&Fc(t.canActivate)}(f)?f.canActivate(e,t):c.runInContext(()=>f(e,t))).pipe(Hi())}));return(0,lt.of)(i).pipe(ga())}(t,i.route,n))),Hi(i=>!0!==i,!0))}(r,a,t,e):(0,lt.of)(f)),(0,Zt.U)(f=>({...n,guardsResult:f})))})}(this.environmentInjector,v=>this.events.next(v)),In(v=>{if(c.guardsResult=v.guardsResult,Do(v.guardsResult))throw w_(0,v.guardsResult);const b=new mP(v.id,this.urlSerializer.serialize(v.extractedUrl),this.urlSerializer.serialize(v.urlAfterRedirects),v.targetSnapshot,!!v.guardsResult);this.events.next(b)}),Gr(v=>!!v.guardsResult||(this.cancelNavigationTransition(v,"",3),!1)),M_(v=>{if(v.guards.canActivateChecks.length)return(0,lt.of)(v).pipe(In(b=>{const T=new yP(b.id,this.urlSerializer.serialize(b.extractedUrl),this.urlSerializer.serialize(b.urlAfterRedirects),b.targetSnapshot);this.events.next(T)}),(0,Sn.w)(b=>{let T=!1;return(0,lt.of)(b).pipe(function Uc(t,e){return(0,vr.z)(n=>{const{targetSnapshot:r,guards:{canActivateChecks:i}}=n;if(!i.length)return(0,lt.of)(n);let a=0;return(0,On.D)(i).pipe(wo(c=>function sA(t,e,n,r){const i=t.routeConfig,a=t._resolve;return void 0!==i?.title&&!oI(i)&&(a[ru]=i.title),function oA(t,e,n,r){const i=function aA(t){return[...Object.keys(t),...Object.getOwnPropertySymbols(t)]}(t);if(0===i.length)return(0,lt.of)({});const a={};return(0,On.D)(i).pipe((0,vr.z)(c=>function uA(t,e,n,r){const i=Ud(e)??r,a=pa(t,i);return qr(a.resolve?a.resolve(e,n):i.runInContext(()=>a(e,n)))}(t[c],e,n,r).pipe(Hi(),In(f=>{a[c]=f}))),nu(1),function ip(t){return(0,Zt.U)(()=>t)}(a),xr(c=>E_(c)?As.E:oa(c)))}(a,t,e,r).pipe((0,Zt.U)(c=>(t._resolvedData=c,t.data=FE(t,n).resolve,i&&oI(i)&&(t.data[ru]=i.title),null)))}(c.route,r,t,e)),In(()=>a++),nu(1),(0,vr.z)(c=>a===i.length?(0,lt.of)(n):As.E))})}(r.paramsInheritanceStrategy,this.environmentInjector),In({next:()=>T=!0,complete:()=>{T||this.cancelNavigationTransition(b,"",2)}}))}),In(b=>{const T=new _P(b.id,this.urlSerializer.serialize(b.extractedUrl),this.urlSerializer.serialize(b.urlAfterRedirects),b.targetSnapshot);this.events.next(T)}))}),M_(v=>{const b=T=>{const N=[];T.routeConfig?.loadComponent&&!T.routeConfig._loadedComponent&&N.push(this.configLoader.loadComponent(T.routeConfig).pipe(In(O=>{T.component=O}),(0,Zt.U)(()=>{})));for(const O of T.children)N.push(...b(O));return N};return Jf(b(v.targetSnapshot.root)).pipe(eu(),vo(1))}),M_(()=>this.afterPreactivation()),(0,Zt.U)(v=>{const b=function HS(t,e,n){const r=Pc(t,e._root,n?n._root:void 0);return new y_(r,e)}(r.routeReuseStrategy,v.targetSnapshot,v.currentRouterState);return this.currentTransition=c={...v,targetRouterState:b},c}),In(()=>{this.events.next(new gp)}),((t,e,n,r)=>(0,Zt.U)(i=>(new YS(e,i.targetRouterState,i.currentRouterState,n,r).activate(t),i)))(this.rootContexts,r.routeReuseStrategy,v=>this.events.next(v),this.inputBindingEnabled),vo(1),In({next:v=>{f=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new Rs(v.id,this.urlSerializer.serialize(v.extractedUrl),this.urlSerializer.serialize(v.urlAfterRedirects))),r.titleStrategy?.updateTitle(v.targetRouterState.snapshot),v.resolve(!0)},complete:()=>{f=!0}}),function bc(t){return(0,Mr.e)((e,n)=>{(0,Ws.Xf)(t).subscribe((0,vi.x)(n,()=>n.complete(),sp.Z)),!n.closed&&e.subscribe(n)})}(this.transitionAbortSubject.pipe(In(v=>{throw v}))),Xn(()=>{f||y||this.cancelNavigationTransition(c,"",1),this.currentNavigation?.id===c.id&&(this.currentNavigation=null)}),xr(v=>{if(y=!0,wp(v))this.events.next(new uu(c.id,this.urlSerializer.serialize(c.extractedUrl),v.message,v.cancellationCode)),function GS(t){return wp(t)&&Do(t.url)}(v)?this.events.next(new ha(v.url)):c.resolve(!1);else{this.events.next(new Pd(c.id,this.urlSerializer.serialize(c.extractedUrl),v,c.targetSnapshot??void 0));try{c.resolve(r.errorHandler(v))}catch(b){c.reject(b)}}return As.E}))}))}cancelNavigationTransition(r,i,a){const c=new uu(r.id,this.urlSerializer.serialize(r.extractedUrl),i,a);this.events.next(c),r.resolve(!1)}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=h.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();function Hd(t){return t!==ou}let Qs=(()=>{var t;class e{buildTitle(r){let i,a=r.root;for(;void 0!==a;)i=this.getResolvedTitleForRoute(a)??i,a=a.children.find(c=>c.outlet===vt);return i}getResolvedTitleForRoute(r){return r.data[ru]}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=h.Yz7({token:t,factory:function(){return(0,h.f3M)(zd)},providedIn:"root"}),e})(),zd=(()=>{var t;class e extends Qs{constructor(r){super(),this.title=r}updateTitle(r){const i=this.buildTitle(r);void 0!==i&&this.title.setTitle(i)}}return(t=e).\u0275fac=function(r){return new(r||t)(h.LFG(_d))},t.\u0275prov=h.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),e})(),uI=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=h.Yz7({token:t,factory:function(){return(0,h.f3M)(lI)},providedIn:"root"}),e})();class cI{shouldDetach(e){return!1}store(e,n){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,n){return e.routeConfig===n.routeConfig}}let lI=(()=>{var t;class e extends cI{}return(t=e).\u0275fac=function(){let n;return function(i){return(n||(n=h.n5z(t)))(i||t)}}(),t.\u0275prov=h.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();const N_=new h.OlP("",{providedIn:"root",factory:()=>({})});let SP=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=h.Yz7({token:t,factory:function(){return(0,h.f3M)(AP)},providedIn:"root"}),e})(),AP=(()=>{var t;class e{shouldProcessUrl(r){return!0}extract(r){return r}merge(r,i){return r}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=h.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();var gu=function(t){return t[t.COMPLETE=0]="COMPLETE",t[t.FAILED=1]="FAILED",t[t.REDIRECTING=2]="REDIRECTING",t}(gu||{});function Pp(t,e){t.events.pipe(Gr(n=>n instanceof Rs||n instanceof uu||n instanceof Pd||n instanceof cs),(0,Zt.U)(n=>n instanceof Rs||n instanceof cs?gu.COMPLETE:n instanceof uu&&(0===n.code||1===n.code)?gu.REDIRECTING:gu.FAILED),Gr(n=>n!==gu.REDIRECTING),vo(1)).subscribe(()=>{e()})}function MP(t){throw t}function xP(t,e,n){return e.parse("/")}const dI={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},lA={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Ii=(()=>{var t;class e{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){return"computed"!==this.canceledNavigationResolution?this.currentPageId:this.location.getState()?.\u0275routerPageId??this.currentPageId}get events(){return this._events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=(0,h.f3M)(h.c2e),this.isNgZoneEnabled=!1,this._events=new Vn.x,this.options=(0,h.f3M)(N_,{optional:!0})||{},this.pendingTasks=(0,h.f3M)(h.HDt),this.errorHandler=this.options.errorHandler||MP,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||xP,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=(0,h.f3M)(SP),this.routeReuseStrategy=(0,h.f3M)(uI),this.titleStrategy=(0,h.f3M)(Qs),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=(0,h.f3M)(pu,{optional:!0})?.flat()??[],this.navigationTransitions=(0,h.f3M)(Op),this.urlSerializer=(0,h.f3M)(dr),this.location=(0,h.f3M)(Te),this.componentInputBindingEnabled=!!(0,h.f3M)(Vd,{optional:!0}),this.eventsSubscription=new aa.w0,this.isNgZoneEnabled=(0,h.f3M)(h.R0b)instanceof h.R0b&&h.R0b.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new da,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=mp(0,null),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe(r=>{this.lastSuccessfulId=r.id,this.currentPageId=this.browserPageId},r=>{this.console.warn(`Unhandled Navigation Error: ${r}`)}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){const r=this.navigationTransitions.events.subscribe(i=>{try{const{currentTransition:a}=this.navigationTransitions;if(null===a)return void(hI(i)&&this._events.next(i));if(i instanceof au)Hd(a.source)&&(this.browserUrlTree=a.extractedUrl);else if(i instanceof cs)this.rawUrlTree=a.rawUrl;else if(i instanceof US){if("eager"===this.urlUpdateStrategy){if(!a.extras.skipLocationChange){const c=this.urlHandlingStrategy.merge(a.urlAfterRedirects,a.rawUrl);this.setBrowserUrl(c,a)}this.browserUrlTree=a.urlAfterRedirects}}else if(i instanceof gp)this.currentUrlTree=a.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(a.urlAfterRedirects,a.rawUrl),this.routerState=a.targetRouterState,"deferred"===this.urlUpdateStrategy&&(a.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,a),this.browserUrlTree=a.urlAfterRedirects);else if(i instanceof uu)0!==i.code&&1!==i.code&&(this.navigated=!0),(3===i.code||2===i.code)&&this.restoreHistory(a);else if(i instanceof ha){const c=this.urlHandlingStrategy.merge(i.url,a.currentRawUrl),f={skipLocationChange:a.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||Hd(a.source)};this.scheduleNavigation(c,ou,null,f,{resolve:a.resolve,reject:a.reject,promise:a.promise})}i instanceof Pd&&this.restoreHistory(a,!0),i instanceof Rs&&(this.navigated=!0),hI(i)&&this._events.next(i)}catch(a){this.navigationTransitions.transitionAbortSubject.next(a)}});this.eventsSubscription.add(r)}resetRootComponentType(r){this.routerState.root.component=r,this.navigationTransitions.rootComponentType=r}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const r=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),ou,r)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(r=>{const i="popstate"===r.type?"popstate":"hashchange";"popstate"===i&&setTimeout(()=>{this.navigateToSyncWithBrowser(r.url,i,r.state)},0)}))}navigateToSyncWithBrowser(r,i,a){const c={replaceUrl:!0},f=a?.navigationId?a:null;if(a){const v={...a};delete v.navigationId,delete v.\u0275routerPageId,0!==Object.keys(v).length&&(c.state=v)}const y=this.parseUrl(r);this.scheduleNavigation(y,i,f,c)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(r){this.config=r.map(bp),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(r,i={}){const{relativeTo:a,queryParams:c,fragment:f,queryParamsHandling:y,preserveFragment:v}=i,b=v?this.currentUrlTree.fragment:f;let N,T=null;switch(y){case"merge":T={...this.currentUrlTree.queryParams,...c};break;case"preserve":T=this.currentUrlTree.queryParams;break;default:T=c||null}null!==T&&(T=this.removeEmptyProps(T));try{N=g(a?a.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof r[0]||!r[0].startsWith("/"))&&(r=[]),N=this.currentUrlTree.root}return m(N,r,T,b??null)}navigateByUrl(r,i={skipLocationChange:!1}){const a=Do(r)?r:this.parseUrl(r),c=this.urlHandlingStrategy.merge(a,this.rawUrlTree);return this.scheduleNavigation(c,ou,null,i)}navigate(r,i={skipLocationChange:!1}){return function dA(t){for(let e=0;e<t.length;e++)if(null==t[e])throw new h.vHH(4008,!1)}(r),this.navigateByUrl(this.createUrlTree(r,i),i)}serializeUrl(r){return this.urlSerializer.serialize(r)}parseUrl(r){let i;try{i=this.urlSerializer.parse(r)}catch(a){i=this.malformedUriErrorHandler(a,this.urlSerializer,r)}return i}isActive(r,i){let a;if(a=!0===i?{...dI}:!1===i?{...lA}:i,Do(r))return o_(this.currentUrlTree,r,a);const c=this.parseUrl(r);return o_(this.currentUrlTree,c,a)}removeEmptyProps(r){return Object.keys(r).reduce((i,a)=>{const c=r[a];return null!=c&&(i[a]=c),i},{})}scheduleNavigation(r,i,a,c,f){if(this.disposed)return Promise.resolve(!1);let y,v,b;f?(y=f.resolve,v=f.reject,b=f.promise):b=new Promise((N,O)=>{y=N,v=O});const T=this.pendingTasks.add();return Pp(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(T))}),this.navigationTransitions.handleNavigationRequest({source:i,restoredState:a,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,currentBrowserUrl:this.browserUrlTree,rawUrl:r,extras:c,resolve:y,reject:v,promise:b,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),b.catch(N=>Promise.reject(N))}setBrowserUrl(r,i){const a=this.urlSerializer.serialize(r);if(this.location.isCurrentPathEqualTo(a)||i.extras.replaceUrl){const f={...i.extras.state,...this.generateNgRouterState(i.id,this.browserPageId)};this.location.replaceState(a,"",f)}else{const c={...i.extras.state,...this.generateNgRouterState(i.id,this.browserPageId+1)};this.location.go(a,"",c)}}restoreHistory(r,i=!1){if("computed"===this.canceledNavigationResolution){const c=this.currentPageId-this.browserPageId;0!==c?this.location.historyGo(c):this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===c&&(this.resetState(r),this.browserUrlTree=r.currentUrlTree,this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(i&&this.resetState(r),this.resetUrlToCurrentUrlTree())}resetState(r){this.routerState=r.currentRouterState,this.currentUrlTree=r.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,r.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(r,i){return"computed"===this.canceledNavigationResolution?{navigationId:r,\u0275routerPageId:i}:{navigationId:r}}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=h.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();function hI(t){return!(t instanceof gp||t instanceof ha)}let Gd=(()=>{var t;class e{constructor(r,i,a,c,f,y){this.router=r,this.route=i,this.tabIndexAttribute=a,this.renderer=c,this.el=f,this.locationStrategy=y,this.href=null,this.commands=null,this.onChanges=new Vn.x,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1;const v=f.nativeElement.tagName?.toLowerCase();this.isAnchorElement="a"===v||"area"===v,this.isAnchorElement?this.subscription=r.events.subscribe(b=>{b instanceof Rs&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(r){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",r)}ngOnChanges(r){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(r){null!=r?(this.commands=Array.isArray(r)?r:[r],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(r,i,a,c,f){return!!(null===this.urlTree||this.isAnchorElement&&(0!==r||i||a||c||f||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!this.isAnchorElement)}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){this.href=null!==this.urlTree&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null;const r=null===this.href?null:(0,h.P3R)(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",r)}applyAttributeValue(r,i){const a=this.renderer,c=this.el.nativeElement;null!==i?a.setAttribute(c,r,i):a.removeAttribute(c,r)}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}}return(t=e).\u0275fac=function(r){return new(r||t)(h.Y36(Ii),h.Y36(Oc),h.$8M("tabindex"),h.Y36(h.Qsj),h.Y36(h.SBq),h.Y36(ke))},t.\u0275dir=h.lG2({type:t,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(r,i){1&r&&h.NdJ("click",function(c){return i.onClick(c.button,c.ctrlKey,c.shiftKey,c.altKey,c.metaKey)}),2&r&&h.uIk("target",i.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:["preserveFragment","preserveFragment",h.VuI],skipLocationChange:["skipLocationChange","skipLocationChange",h.VuI],replaceUrl:["replaceUrl","replaceUrl",h.VuI],routerLink:"routerLink"},standalone:!0,features:[h.Xq5,h.TTD]}),e})();class Fp{}let pI=(()=>{var t;class e{constructor(r,i,a,c,f){this.router=r,this.injector=a,this.preloadingStrategy=c,this.loader=f}setUpPreloading(){this.subscription=this.router.events.pipe(Gr(r=>r instanceof Rs),wo(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(r,i){const a=[];for(const c of i){c.providers&&!c._injector&&(c._injector=(0,h.MMx)(c.providers,r,`Route: ${c.path}`));const f=c._injector??r,y=c._loadedInjector??f;(c.loadChildren&&!c._loadedRoutes&&void 0===c.canLoad||c.loadComponent&&!c._loadedComponent)&&a.push(this.preloadConfig(f,c)),(c.children||c._loadedRoutes)&&a.push(this.processRoutes(y,c.children??c._loadedRoutes))}return(0,On.D)(a).pipe((0,_o.J)())}preloadConfig(r,i){return this.preloadingStrategy.preload(i,()=>{let a;a=i.loadChildren&&void 0===i.canLoad?this.loader.loadChildren(r,i):(0,lt.of)(null);const c=a.pipe((0,vr.z)(f=>null===f?(0,lt.of)(void 0):(i._loadedRoutes=f.routes,i._loadedInjector=f.injector,this.processRoutes(f.injector??r,f.routes))));if(i.loadComponent&&!i._loadedComponent){const f=this.loader.loadComponent(i);return(0,On.D)([c,f]).pipe((0,_o.J)())}return c})}}return(t=e).\u0275fac=function(r){return new(r||t)(h.LFG(Ii),h.LFG(h.Sil),h.LFG(h.lqb),h.LFG(Fp),h.LFG(x_))},t.\u0275prov=h.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();const R_=new h.OlP("");let O_=(()=>{var t;class e{constructor(r,i,a,c,f={}){this.urlSerializer=r,this.transitions=i,this.viewportScroller=a,this.zone=c,this.options=f,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},f.scrollPositionRestoration=f.scrollPositionRestoration||"disabled",f.anchorScrolling=f.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(r=>{r instanceof au?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=r.navigationTrigger,this.restoredId=r.restoredState?r.restoredState.navigationId:0):r instanceof Rs?(this.lastId=r.id,this.scheduleScrollEvent(r,this.urlSerializer.parse(r.urlAfterRedirects).fragment)):r instanceof cs&&0===r.code&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(r,this.urlSerializer.parse(r.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(r=>{r instanceof g_&&(r.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(r.position):r.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(r.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(r,i){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new g_(r,"popstate"===this.lastSource?this.store[this.restoredId]:null,i))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}}return(t=e).\u0275fac=function(r){h.$Z()},t.\u0275prov=h.Yz7({token:t,factory:t.\u0275fac}),e})();function To(t,e){return{\u0275kind:t,\u0275providers:e}}function gA(){const t=(0,h.f3M)(h.zs3);return e=>{const n=t.get(h.z2F);if(e!==n.components[0])return;const r=t.get(Ii),i=t.get(jc);1===t.get(qt)&&r.initialNavigation(),t.get(Lp,null,h.XFs.Optional)?.setUpPreloading(),t.get(R_,null,h.XFs.Optional)?.init(),r.resetRootComponentType(n.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}const jc=new h.OlP("",{factory:()=>new Vn.x}),qt=new h.OlP("",{providedIn:"root",factory:()=>1}),Lp=new h.OlP("");function P_(t){return To(0,[{provide:Lp,useExisting:pI},{provide:Fp,useExisting:t}])}const Up=new h.OlP("ROUTER_FORROOT_GUARD"),vA=[Te,{provide:dr,useClass:Zs},Ii,fa,{provide:Oc,useFactory:function gI(t){return t.routerState.root},deps:[Ii]},x_,[]];function k_(){return new h.PXZ("Router",Ii)}let F_=(()=>{var t;class e{constructor(r){}static forRoot(r,i){return{ngModule:e,providers:[vA,[],{provide:pu,multi:!0,useValue:r},{provide:Up,useFactory:L_,deps:[[Ii,new h.FiY,new h.tp0]]},{provide:N_,useValue:i||{}},i?.useHash?{provide:ke,useClass:Be}:{provide:ke,useClass:Ze},{provide:R_,useFactory:()=>{const t=(0,h.f3M)(Li),e=(0,h.f3M)(h.R0b),n=(0,h.f3M)(N_),r=(0,h.f3M)(Op),i=(0,h.f3M)(dr);return n.scrollOffset&&t.setOffset(n.scrollOffset),new O_(i,r,t,e,n)}},i?.preloadingStrategy?P_(i.preloadingStrategy).\u0275providers:[],{provide:h.PXZ,multi:!0,useFactory:k_},i?.initialNavigation?Bp(i):[],i?.bindToComponentInputs?To(8,[__,{provide:Vd,useExisting:__}]).\u0275providers:[],[{provide:_I,useFactory:gA},{provide:h.tb,multi:!0,useExisting:_I}]]}}static forChild(r){return{ngModule:e,providers:[{provide:pu,multi:!0,useValue:r}]}}}return(t=e).\u0275fac=function(r){return new(r||t)(h.LFG(Up,8))},t.\u0275mod=h.oAB({type:t}),t.\u0275inj=h.cJS({}),e})();function L_(t){return"guarded"}function Bp(t){return["disabled"===t.initialNavigation?To(3,[{provide:h.ip1,multi:!0,useFactory:()=>{const e=(0,h.f3M)(Ii);return()=>{e.setUpLocationChangeListener()}}},{provide:qt,useValue:2}]).\u0275providers:[],"enabledBlocking"===t.initialNavigation?To(2,[{provide:qt,useValue:0},{provide:h.ip1,multi:!0,deps:[h.zs3],useFactory:e=>{const n=e.get(ze,Promise.resolve());return()=>n.then(()=>new Promise(r=>{const i=e.get(Ii),a=e.get(jc);Pp(i,()=>{r(!0)}),e.get(Op).afterPreactivation=()=>(r(!0),a.closed?(0,lt.of)(void 0):a),i.initialNavigation()}))}}]).\u0275providers:[]]}const _I=new h.OlP("");let wI=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275cmp=h.Xpm({type:t,selectors:[["app-home"]],decls:36,vars:0,consts:[[1,"container-fluid","header","flex-column","align-items-start","justify-content-center"],[1,"fnt-color"],[1,"typing-anim"],[1,"container-fluid","p-3","card-container"],[1,"row","d-flex","justify-content-around","align-items-center"],[1,"card","col-sm-6",2,"width","18rem"],["src","./../../../assets/pong.jpg","alt","...",1,"card-img-top"],[1,"card-body"],[1,"card-text"],["src","./../../../assets/tetris.jpeg","alt","...",1,"card-img-top"],["src","./../../../assets/minecraft.jpeg","alt","...",1,"card-img-top"],[1,"container-fluid","d-flex","justify-content-center","align-items-center","footer"]],template:function(r,i){1&r&&(h.TgZ(0,"div",0)(1,"h2",1),h._uU(2,"ALWAYS"),h.qZA(),h.TgZ(3,"div")(4,"h1",2),h._uU(5,"New games"),h.qZA()()(),h.TgZ(6,"div",3)(7,"div",4)(8,"div",5),h._UZ(9,"img",6),h.TgZ(10,"div",7)(11,"p",8),h._uU(12,"Some quick example text to build on the card title and make up the bulk of the card's content."),h.qZA()()(),h.TgZ(13,"div",5),h._UZ(14,"img",9),h.TgZ(15,"div",7)(16,"p",8),h._uU(17,"Some quick example text to build on the card title and make up the bulk of the card's content."),h.qZA()()(),h.TgZ(18,"div",5),h._UZ(19,"img",10),h.TgZ(20,"div",7)(21,"p",8),h._uU(22,"Some quick example text to build on the card title and make up the bulk of the card's content."),h.qZA()()(),h.TgZ(23,"div",5),h._UZ(24,"img",9),h.TgZ(25,"div",7)(26,"p",8),h._uU(27,"Some quick example text to build on the card title and make up the bulk of the card's content."),h.qZA()()(),h.TgZ(28,"div",5),h._UZ(29,"img",10),h.TgZ(30,"div",7)(31,"p",8),h._uU(32,"Some quick example text to build on the card title and make up the bulk of the card's content."),h.qZA()()()()(),h.TgZ(33,"div",11)(34,"span"),h._uU(35,"Designed by Perez Cardenal Patricio"),h.qZA()())},styles:['@import"https://fonts.googleapis.com/css2?family=Phudu:wght@900&family=Poppins:ital,wght@0,300;0,400;0,600;0,800;0,900;1,900&display=swap";*[_ngcontent-%COMP%]{font-family:Poppins,sans-serif;font-weight:600}.container-fluid[_ngcontent-%COMP%]{color:#ffe5d9!important}.header[_ngcontent-%COMP%]{display:flex!important;height:400px;background-color:#332725;margin-top:70px;padding:50px}.card-container[_ngcontent-%COMP%]{background-color:#929487}.card-img-top[_ngcontent-%COMP%]{height:180px;object-fit:cover;border-radius:10px;margin-top:10px}.card[_ngcontent-%COMP%]{transition:transform .2s ease-in-out;margin:15px;min-width:251px;background-color:#332725;color:#fff;border-radius:15px 15px 15px 0}.card[_ngcontent-%COMP%]:hover{filter:brightness(.7);cursor:pointer;transform:scale(1.09)}.footer[_ngcontent-%COMP%]{background-color:#332725;height:100px}.typing-anim[_ngcontent-%COMP%]{font-size:70px;overflow:hidden;border-right:2px solid;white-space:nowrap;animation:_ngcontent-%COMP%_typing 10s steps(100) infinite,blink-caret .75s step-end infinite}.fnt-color[_ngcontent-%COMP%]{color:#4d3b37}@keyframes _ngcontent-%COMP%_typing{0%{width:0}10%{width:100%}30%{width:100%}40%{width:38%}60%{width:38%}70%{width:100%}80%{width:100%}90%{width:0}to{width:0}}@keyframes _ngcontent-%COMP%_blink-caret{0%,to{border-color:transparent}50%{border-color:#333}}@keyframes _ngcontent-%COMP%_blink-caret{0%,to{border-color:transparent}50%{border-color:#ffe5d9}}@media (max-width: 480px){.typing-anim[_ngcontent-%COMP%]{font-size:30px}}']}),e})();var Y=R(5861);let EI=(()=>{var t;class e{constructor(r,i){this._renderer=r,this._elementRef=i,this.onChange=a=>{},this.onTouched=()=>{}}setProperty(r,i){this._renderer.setProperty(this._elementRef.nativeElement,r,i)}registerOnTouched(r){this.onTouched=r}registerOnChange(r){this.onChange=r}setDisabledState(r){this.setProperty("disabled",r)}}return(t=e).\u0275fac=function(r){return new(r||t)(h.Y36(h.Qsj),h.Y36(h.SBq))},t.\u0275dir=h.lG2({type:t}),e})(),yu=(()=>{var t;class e extends EI{}return(t=e).\u0275fac=function(){let n;return function(i){return(n||(n=h.n5z(t)))(i||t)}}(),t.\u0275dir=h.lG2({type:t,features:[h.qOj]}),e})();const ls=new h.OlP("NgValueAccessor"),bI={provide:ls,useExisting:(0,h.Gpc)(()=>$c),multi:!0},FP=new h.OlP("CompositionEventMode");let $c=(()=>{var t;class e extends EI{constructor(r,i,a){super(r,i),this._compositionMode=a,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function j_(){const t=re()?re().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}())}writeValue(r){this.setProperty("value",r??"")}_handleInput(r){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(r)}_compositionStart(){this._composing=!0}_compositionEnd(r){this._composing=!1,this._compositionMode&&this.onChange(r)}}return(t=e).\u0275fac=function(r){return new(r||t)(h.Y36(h.Qsj),h.Y36(h.SBq),h.Y36(FP,8))},t.\u0275dir=h.lG2({type:t,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(r,i){1&r&&h.NdJ("input",function(c){return i._handleInput(c.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(c){return i._compositionEnd(c.target.value)})},features:[h._Bn([bI]),h.qOj]}),e})();function ya(t){return null==t||("string"==typeof t||Array.isArray(t))&&0===t.length}function CI(t){return null!=t&&"number"==typeof t.length}const Zr=new h.OlP("NgValidators"),_u=new h.OlP("NgAsyncValidators"),jp=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class Js{static min(e){return function $p(t){return e=>{if(ya(e.value)||ya(t))return null;const n=parseFloat(e.value);return!isNaN(n)&&n<t?{min:{min:t,actual:e.value}}:null}}(e)}static max(e){return function Hp(t){return e=>{if(ya(e.value)||ya(t))return null;const n=parseFloat(e.value);return!isNaN(n)&&n>t?{max:{max:t,actual:e.value}}:null}}(e)}static required(e){return function vu(t){return ya(t.value)?{required:!0}:null}(e)}static requiredTrue(e){return function zp(t){return!0===t.value?null:{required:!0}}(e)}static email(e){return function Gp(t){return ya(t.value)||jp.test(t.value)?null:{email:!0}}(e)}static minLength(e){return function Hc(t){return e=>ya(e.value)||!CI(e.value)?null:e.value.length<t?{minlength:{requiredLength:t,actualLength:e.value.length}}:null}(e)}static maxLength(e){return function Wd(t){return e=>CI(e.value)&&e.value.length>t?{maxlength:{requiredLength:t,actualLength:e.value.length}}:null}(e)}static pattern(e){return function wu(t){if(!t)return zc;let e,n;return"string"==typeof t?(n="","^"!==t.charAt(0)&&(n+="^"),n+=t,"$"!==t.charAt(t.length-1)&&(n+="$"),e=new RegExp(n)):(n=t.toString(),e=t),r=>{if(ya(r.value))return null;const i=r.value;return e.test(i)?null:{pattern:{requiredPattern:n,actualValue:i}}}}(e)}static nullValidator(e){return null}static compose(e){return $_(e)}static composeAsync(e){return SI(e)}}function zc(t){return null}function qp(t){return null!=t}function Zd(t){return(0,h.QGY)(t)?(0,On.D)(t):t}function IA(t){let e={};return t.forEach(n=>{e=null!=n?{...e,...n}:e}),0===Object.keys(e).length?null:e}function Wp(t,e){return e.map(n=>n(t))}function TI(t){return t.map(e=>function Kd(t){return!t.validate}(e)?e:n=>e.validate(n))}function $_(t){if(!t)return null;const e=t.filter(qp);return 0==e.length?null:function(n){return IA(Wp(n,e))}}function H_(t){return null!=t?$_(TI(t)):null}function SI(t){if(!t)return null;const e=t.filter(qp);return 0==e.length?null:function(n){return function EA(...t){const e=(0,as.jO)(t),{args:n,keys:r}=Qa(t),i=new _i.y(a=>{const{length:c}=n;if(!c)return void a.complete();const f=new Array(c);let y=c,v=c;for(let b=0;b<c;b++){let T=!1;(0,Ws.Xf)(n[b]).subscribe((0,vi.x)(a,N=>{T||(T=!0,v--),f[b]=N},()=>y--,void 0,()=>{(!y||!T)&&(v||a.next(r?Qf(r,f):f),a.complete())}))}});return e?i.pipe(Ts(e)):i}(Wp(n,e).map(Zd)).pipe((0,Zt.U)(IA))}}function Yd(t){return null!=t?SI(TI(t)):null}function z_(t,e){return null===t?[e]:Array.isArray(t)?[...t,e]:[t,e]}function AI(t){return t._rawValidators}function MI(t){return t._rawAsyncValidators}function xI(t){return t?Array.isArray(t)?t:[t]:[]}function Zp(t,e){return Array.isArray(t)?t.includes(e):t===e}function Qd(t,e){const n=xI(e);return xI(t).forEach(i=>{Zp(n,i)||n.push(i)}),n}function Kp(t,e){return xI(e).filter(n=>!Zp(t,n))}class NI{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=H_(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=Yd(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,n){return!!this.control&&this.control.hasError(e,n)}getError(e,n){return this.control?this.control.getError(e,n):null}}class Rr extends NI{get formDirective(){return null}get path(){return null}}class Xs extends NI{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class Jd{constructor(e){this._cd=e}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let Yp=(()=>{var t;class e extends Jd{constructor(r){super(r)}}return(t=e).\u0275fac=function(r){return new(r||t)(h.Y36(Xs,2))},t.\u0275dir=h.lG2({type:t,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(r,i){2&r&&h.ekj("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)},features:[h.qOj]}),e})(),Xd=(()=>{var t;class e extends Jd{constructor(r){super(r)}}return(t=e).\u0275fac=function(r){return new(r||t)(h.Y36(Rr,10))},t.\u0275dir=h.lG2({type:t,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(r,i){2&r&&h.ekj("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)("ng-submitted",i.isSubmitted)},features:[h.qOj]}),e})();const th="VALID",eg="INVALID",Eu="PENDING",nh="DISABLED";function tg(t){return(rh(t)?t.validators:t)||null}function q_(t,e){return(rh(e)?e.asyncValidators:t)||null}function rh(t){return null!=t&&!Array.isArray(t)&&"object"==typeof t}function W_(t,e,n){const r=t.controls;if(!(e?Object.keys(r):r).length)throw new h.vHH(1e3,"");if(!r[n])throw new h.vHH(1001,"")}function ds(t,e,n){t._forEachChild((r,i)=>{if(void 0===n[i])throw new h.vHH(1002,"")})}class qc{constructor(e,n){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(n)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===th}get invalid(){return this.status===eg}get pending(){return this.status==Eu}get disabled(){return this.status===nh}get enabled(){return this.status!==nh}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(Qd(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(Qd(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(Kp(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(Kp(e,this._rawAsyncValidators))}hasValidator(e){return Zp(this._rawValidators,e)}hasAsyncValidator(e){return Zp(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(n=>{n.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(n=>{n.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=Eu,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const n=this._parentMarkedDirty(e.onlySelf);this.status=nh,this.errors=null,this._forEachChild(r=>{r.disable({...e,onlySelf:!0})}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...e,skipPristineCheck:n}),this._onDisabledChange.forEach(r=>r(!0))}enable(e={}){const n=this._parentMarkedDirty(e.onlySelf);this.status=th,this._forEachChild(r=>{r.enable({...e,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors({...e,skipPristineCheck:n}),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===th||this.status===Eu)&&this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(n=>n._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?nh:th}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=Eu,this._hasOwnPendingAsyncValidator=!0;const n=Zd(this.asyncValidator(this));this._asyncValidationSubscription=n.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,n={}){this.errors=e,this._updateControlsErrors(!1!==n.emitEvent)}get(e){let n=e;return null==n||(Array.isArray(n)||(n=n.split(".")),0===n.length)?null:n.reduce((r,i)=>r&&r._find(i),this)}getError(e,n){const r=n?this.get(n):this;return r&&r.errors?r.errors[e]:null}hasError(e,n){return!!this.getError(e,n)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new h.vpe,this.statusChanges=new h.vpe}_calculateStatus(){return this._allControlsDisabled()?nh:this.errors?eg:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Eu)?Eu:this._anyControlsHaveStatus(eg)?eg:th}_anyControlsHaveStatus(e){return this._anyControls(n=>n.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){rh(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=function SA(t){return Array.isArray(t)?H_(t):t||null}(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=function $P(t){return Array.isArray(t)?Yd(t):t||null}(this._rawAsyncValidators)}}class ih extends qc{constructor(e,n,r){super(tg(n),q_(r,n)),this.controls=e,this._initObservables(),this._setUpdateStrategy(n),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,n){return this.controls[e]?this.controls[e]:(this.controls[e]=n,n.setParent(this),n._registerOnCollectionChange(this._onCollectionChange),n)}addControl(e,n,r={}){this.registerControl(e,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,n={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}setControl(e,n,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],n&&this.registerControl(e,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,n={}){ds(this,0,e),Object.keys(e).forEach(r=>{W_(this,!0,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}patchValue(e,n={}){null!=e&&(Object.keys(e).forEach(r=>{const i=this.controls[r];i&&i.patchValue(e[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}reset(e={},n={}){this._forEachChild((r,i)=>{r.reset(e[i],{onlySelf:!0,emitEvent:n.emitEvent})}),this._updatePristine(n),this._updateTouched(n),this.updateValueAndValidity(n)}getRawValue(){return this._reduceChildren({},(e,n,r)=>(e[r]=n.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(n,r)=>!!r._syncPendingControls()||n);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(n=>{const r=this.controls[n];r&&e(r,n)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(const[n,r]of Object.entries(this.controls))if(this.contains(n)&&e(r))return!0;return!1}_reduceValue(){return this._reduceChildren({},(n,r,i)=>((r.enabled||this.disabled)&&(n[i]=r.value),n))}_reduceChildren(e,n){let r=e;return this._forEachChild((i,a)=>{r=n(r,i,a)}),r}_allControlsDisabled(){for(const e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}}class ng extends ih{}const _a=new h.OlP("CallSetDisabledState",{providedIn:"root",factory:()=>sh}),sh="always";function Pn(t,e,n=sh){K_(t,e),e.valueAccessor.writeValue(t.value),(t.disabled||"always"===n)&&e.valueAccessor.setDisabledState?.(t.disabled),function kI(t,e){e.valueAccessor.registerOnChange(n=>{t._pendingValue=n,t._pendingChange=!0,t._pendingDirty=!0,"change"===t.updateOn&&LI(t,e)})}(t,e),function VI(t,e){const n=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};t.registerOnChange(n),e._registerOnDestroy(()=>{t._unregisterOnChange(n)})}(t,e),function FI(t,e){e.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,"blur"===t.updateOn&&t._pendingChange&&LI(t,e),"submit"!==t.updateOn&&t.markAsTouched()})}(t,e),function AA(t,e){if(e.valueAccessor.setDisabledState){const n=r=>{e.valueAccessor.setDisabledState(r)};t.registerOnDisabledChange(n),e._registerOnDestroy(()=>{t._unregisterOnDisabledChange(n)})}}(t,e)}function rg(t,e,n=!0){const r=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(r),e.valueAccessor.registerOnTouched(r)),Zc(t,e),t&&(e._invokeOnDestroyCallbacks(),t._registerOnCollectionChange(()=>{}))}function Wc(t,e){t.forEach(n=>{n.registerOnValidatorChange&&n.registerOnValidatorChange(e)})}function K_(t,e){const n=AI(t);null!==e.validator?t.setValidators(z_(n,e.validator)):"function"==typeof n&&t.setValidators([n]);const r=MI(t);null!==e.asyncValidator?t.setAsyncValidators(z_(r,e.asyncValidator)):"function"==typeof r&&t.setAsyncValidators([r]);const i=()=>t.updateValueAndValidity();Wc(e._rawValidators,i),Wc(e._rawAsyncValidators,i)}function Zc(t,e){let n=!1;if(null!==t){if(null!==e.validator){const i=AI(t);if(Array.isArray(i)&&i.length>0){const a=i.filter(c=>c!==e.validator);a.length!==i.length&&(n=!0,t.setValidators(a))}}if(null!==e.asyncValidator){const i=MI(t);if(Array.isArray(i)&&i.length>0){const a=i.filter(c=>c!==e.asyncValidator);a.length!==i.length&&(n=!0,t.setAsyncValidators(a))}}}const r=()=>{};return Wc(e._rawValidators,r),Wc(e._rawAsyncValidators,r),n}function LI(t,e){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}function ch(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}function X_(t){return"object"==typeof t&&null!==t&&2===Object.keys(t).length&&"value"in t&&"disabled"in t}const Kc=class extends qc{constructor(e=null,n,r){super(tg(n),q_(r,n)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(n),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),rh(n)&&(n.nonNullable||n.initialValueIsDefault)&&(this.defaultValue=X_(e)?e.value:e)}setValue(e,n={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==n.emitModelToViewChange&&this._onChange.forEach(r=>r(this.value,!1!==n.emitViewToModelChange)),this.updateValueAndValidity(n)}patchValue(e,n={}){this.setValue(e,n)}reset(e=this.defaultValue,n={}){this._applyFormState(e),this.markAsPristine(n),this.markAsUntouched(n),this.setValue(this.value,n),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){ch(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){ch(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){X_(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}};let lh=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275dir=h.lG2({type:t,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),e})(),bt=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275mod=h.oAB({type:t}),t.\u0275inj=h.cJS({}),e})();const iv=new h.OlP("NgModelWithFormControlWarning"),sv={provide:Rr,useExisting:(0,h.Gpc)(()=>eo)};let eo=(()=>{var t;class e extends Rr{constructor(r,i,a){super(),this.callSetDisabledState=a,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new h.vpe,this._setValidators(r),this._setAsyncValidators(i)}ngOnChanges(r){this._checkFormPresent(),r.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(Zc(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(r){const i=this.form.get(r.path);return Pn(i,r,this.callSetDisabledState),i.updateValueAndValidity({emitEvent:!1}),this.directives.push(r),i}getControl(r){return this.form.get(r.path)}removeControl(r){rg(r.control||null,r,!1),function uh(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}(this.directives,r)}addFormGroup(r){this._setUpFormContainer(r)}removeFormGroup(r){this._cleanUpFormContainer(r)}getFormGroup(r){return this.form.get(r.path)}addFormArray(r){this._setUpFormContainer(r)}removeFormArray(r){this._cleanUpFormContainer(r)}getFormArray(r){return this.form.get(r.path)}updateModel(r,i){this.form.get(r.path).setValue(i)}onSubmit(r){return this.submitted=!0,function J_(t,e){t._syncPendingControls(),e.forEach(n=>{const r=n.control;"submit"===r.updateOn&&r._pendingChange&&(n.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}(this.form,this.directives),this.ngSubmit.emit(r),"dialog"===r?.target?.method}onReset(){this.resetForm()}resetForm(r=void 0){this.form.reset(r),this.submitted=!1}_updateDomValue(){this.directives.forEach(r=>{const i=r.control,a=this.form.get(r.path);i!==a&&(rg(i||null,r),(t=>t instanceof Kc)(a)&&(Pn(a,r,this.callSetDisabledState),r.control=a))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(r){const i=this.form.get(r.path);(function Y_(t,e){K_(t,e)})(i,r),i.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(r){if(this.form){const i=this.form.get(r.path);i&&function MA(t,e){return Zc(t,e)}(i,r)&&i.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){K_(this.form,this),this._oldForm&&Zc(this._oldForm,this)}_checkFormPresent(){}}return(t=e).\u0275fac=function(r){return new(r||t)(h.Y36(Zr,10),h.Y36(_u,10),h.Y36(_a,8))},t.\u0275dir=h.lG2({type:t,selectors:[["","formGroup",""]],hostBindings:function(r,i){1&r&&h.NdJ("submit",function(c){return i.onSubmit(c)})("reset",function(){return i.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[h._Bn([sv]),h.qOj,h.TTD]}),e})();const uv={provide:Xs,useExisting:(0,h.Gpc)(()=>fh)};let fh=(()=>{var t;class e extends Xs{set isDisabled(r){}constructor(r,i,a,c,f){super(),this._ngModelWarningConfig=f,this._added=!1,this.name=null,this.update=new h.vpe,this._ngModelWarningSent=!1,this._parent=r,this._setValidators(i),this._setAsyncValidators(a),this.valueAccessor=function ah(t,e){if(!e)return null;let n,r,i;return Array.isArray(e),e.forEach(a=>{a.constructor===$c?n=a:function xA(t){return Object.getPrototypeOf(t.constructor)===yu}(a)?r=a:i=a}),i||r||n||null}(0,c)}ngOnChanges(r){this._added||this._setUpControl(),function Q_(t,e){if(!t.hasOwnProperty("model"))return!1;const n=t.model;return!!n.isFirstChange()||!Object.is(e,n.currentValue)}(r,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(r){this.viewModel=r,this.update.emit(r)}get path(){return function Z_(t,e){return[...e.path,t]}(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}}return(t=e)._ngModelWarningSentOnce=!1,t.\u0275fac=function(r){return new(r||t)(h.Y36(Rr,13),h.Y36(Zr,10),h.Y36(_u,10),h.Y36(ls,10),h.Y36(iv,8))},t.\u0275dir=h.lG2({type:t,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[h._Bn([uv]),h.qOj,h.TTD]}),e})(),nD=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275mod=h.oAB({type:t}),t.\u0275inj=h.cJS({imports:[bt]}),e})();class dv extends qc{constructor(e,n,r){super(tg(n),q_(r,n)),this.controls=e,this._initObservables(),this._setUpdateStrategy(n),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(e){return this.controls[this._adjustIndex(e)]}push(e,n={}){this.controls.push(e),this._registerControl(e),this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}insert(e,n,r={}){this.controls.splice(e,0,n),this._registerControl(n),this.updateValueAndValidity({emitEvent:r.emitEvent})}removeAt(e,n={}){let r=this._adjustIndex(e);r<0&&(r=0),this.controls[r]&&this.controls[r]._registerOnCollectionChange(()=>{}),this.controls.splice(r,1),this.updateValueAndValidity({emitEvent:n.emitEvent})}setControl(e,n,r={}){let i=this._adjustIndex(e);i<0&&(i=0),this.controls[i]&&this.controls[i]._registerOnCollectionChange(()=>{}),this.controls.splice(i,1),n&&(this.controls.splice(i,0,n),this._registerControl(n)),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(e,n={}){ds(this,0,e),e.forEach((r,i)=>{W_(this,!1,i),this.at(i).setValue(r,{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}patchValue(e,n={}){null!=e&&(e.forEach((r,i)=>{this.at(i)&&this.at(i).patchValue(r,{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}reset(e=[],n={}){this._forEachChild((r,i)=>{r.reset(e[i],{onlySelf:!0,emitEvent:n.emitEvent})}),this._updatePristine(n),this._updateTouched(n),this.updateValueAndValidity(n)}getRawValue(){return this.controls.map(e=>e.getRawValue())}clear(e={}){this.controls.length<1||(this._forEachChild(n=>n._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:e.emitEvent}))}_adjustIndex(e){return e<0?e+this.length:e}_syncPendingControls(){let e=this.controls.reduce((n,r)=>!!r._syncPendingControls()||n,!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){this.controls.forEach((n,r)=>{e(n,r)})}_updateValue(){this.value=this.controls.filter(e=>e.enabled||this.disabled).map(e=>e.value)}_anyControls(e){return this.controls.some(n=>n.enabled&&e(n))}_setUpControls(){this._forEachChild(e=>this._registerControl(e))}_allControlsDisabled(){for(const e of this.controls)if(e.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}_find(e){return this.at(e)??null}}function cg(t){return!!t&&(void 0!==t.asyncValidators||void 0!==t.validators||void 0!==t.updateOn)}let rD=(()=>{var t;class e{constructor(){this.useNonNullable=!1}get nonNullable(){const r=new e;return r.useNonNullable=!0,r}group(r,i=null){const a=this._reduceControls(r);let c={};return cg(i)?c=i:null!==i&&(c.validators=i.validator,c.asyncValidators=i.asyncValidator),new ih(a,c)}record(r,i=null){const a=this._reduceControls(r);return new ng(a,i)}control(r,i,a){let c={};return this.useNonNullable?(cg(i)?c=i:(c.validators=i,c.asyncValidators=a),new Kc(r,{...c,nonNullable:!0})):new Kc(r,i,a)}array(r,i,a){const c=r.map(f=>this._createControl(f));return new dv(c,i,a)}_reduceControls(r){const i={};return Object.keys(r).forEach(a=>{i[a]=this._createControl(r[a])}),i}_createControl(r){return r instanceof Kc||r instanceof qc?r:Array.isArray(r)?this.control(r[0],r.length>1?r[1]:null,r.length>2?r[2]:null):this.control(r)}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=h.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),e})(),iD=(()=>{var t;class e{static withConfig(r){return{ngModule:e,providers:[{provide:_a,useValue:r.callSetDisabledState??sh}]}}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275mod=h.oAB({type:t}),t.\u0275inj=h.cJS({imports:[nD]}),e})(),fv=(()=>{var t;class e{static withConfig(r){return{ngModule:e,providers:[{provide:iv,useValue:r.warnOnNgModelWithFormControl??"always"},{provide:_a,useValue:r.callSetDisabledState??sh}]}}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275mod=h.oAB({type:t}),t.\u0275inj=h.cJS({imports:[nD]}),e})();function qi(t){return(qi="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}function Me(t,e,n){return(e=function eM(t){var e=function XA(t,e){if("object"!==qi(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var r=n.call(t,e||"default");if("object"!==qi(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===qi(e)?e:String(e)}(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}class sD{}class oD{}const Mo="*";function lg(t,e){return{type:7,name:t,definitions:e,options:{}}}function Qc(t,e=null){return{type:4,styles:e,timings:t}}function ph(t,e=null){return{type:2,steps:t,options:e}}function dg(t){return{type:6,styles:t,offset:null}}function pv(t,e,n){return{type:0,name:t,styles:e,options:n}}function gv(t,e,n=null){return{type:1,expr:t,animation:e,options:n}}class gh{constructor(e=0,n=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=e+n}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){queueMicrotask(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(e=>e()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(e){this._position=this.totalTime?e*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(e){const n="start"==e?this._onStartFns:this._onDoneFns;n.forEach(r=>r()),n.length=0}}class mv{constructor(e){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=e;let n=0,r=0,i=0;const a=this.players.length;0==a?queueMicrotask(()=>this._onFinish()):this.players.forEach(c=>{c.onDone(()=>{++n==a&&this._onFinish()}),c.onDestroy(()=>{++r==a&&this._onDestroy()}),c.onStart(()=>{++i==a&&this._onStart()})}),this.totalTime=this.players.reduce((c,f)=>Math.max(c,f.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this.players.forEach(e=>e.init())}onStart(e){this._onStartFns.push(e)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(e=>e()),this._onStartFns=[])}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(e=>e.play())}pause(){this.players.forEach(e=>e.pause())}restart(){this.players.forEach(e=>e.restart())}finish(){this._onFinish(),this.players.forEach(e=>e.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(e=>e.destroy()),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this.players.forEach(e=>e.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(e){const n=e*this.totalTime;this.players.forEach(r=>{const i=r.totalTime?Math.min(1,n/r.totalTime):1;r.setPosition(i)})}getPosition(){const e=this.players.reduce((n,r)=>null===n||r.totalTime>n.totalTime?r:n,null);return null!=e?e.getPosition():0}beforeDestroy(){this.players.forEach(e=>{e.beforeDestroy&&e.beforeDestroy()})}triggerCallback(e){const n="start"==e?this._onStartFns:this._onDoneFns;n.forEach(r=>r()),n.length=0}}const aD=["toast-component",""];function sM(t,e){if(1&t){const n=h.EpF();h.TgZ(0,"button",5),h.NdJ("click",function(){h.CHM(n);const i=h.oxw();return h.KtG(i.remove())}),h.TgZ(1,"span",6),h._uU(2,"\xd7"),h.qZA()()}}function mh(t,e){if(1&t&&(h.ynx(0),h._uU(1),h.BQk()),2&t){const n=h.oxw(2);h.xp6(1),h.hij("[",n.duplicatesCount+1,"]")}}function oM(t,e){if(1&t&&(h.TgZ(0,"div"),h._uU(1),h.YNc(2,mh,2,1,"ng-container",4),h.qZA()),2&t){const n=h.oxw();h.Tol(n.options.titleClass),h.uIk("aria-label",n.title),h.xp6(1),h.hij(" ",n.title," "),h.xp6(1),h.Q6J("ngIf",n.duplicatesCount)}}function aM(t,e){if(1&t&&h._UZ(0,"div",7),2&t){const n=h.oxw();h.Tol(n.options.messageClass),h.Q6J("innerHTML",n.message,h.oJD)}}function uM(t,e){if(1&t&&(h.TgZ(0,"div",8),h._uU(1),h.qZA()),2&t){const n=h.oxw();h.Tol(n.options.messageClass),h.uIk("aria-label",n.message),h.xp6(1),h.hij(" ",n.message," ")}}function cM(t,e){if(1&t&&(h.TgZ(0,"div"),h._UZ(1,"div",9),h.qZA()),2&t){const n=h.oxw();h.xp6(1),h.Udp("width",n.width+"%")}}class pg{constructor(e,n){Me(this,"_attachedHost",void 0),Me(this,"component",void 0),Me(this,"viewContainerRef",void 0),Me(this,"injector",void 0),this.component=e,this.injector=n}attach(e,n){return this._attachedHost=e,e.attach(this,n)}detach(){const e=this._attachedHost;if(e)return this._attachedHost=void 0,e.detach()}get isAttached(){return null!=this._attachedHost}setAttachedHost(e){this._attachedHost=e}}class pM{constructor(){Me(this,"_attachedPortal",void 0),Me(this,"_disposeFn",void 0)}attach(e,n){return this._attachedPortal=e,this.attachComponentPortal(e,n)}detach(){this._attachedPortal&&this._attachedPortal.setAttachedHost(),this._attachedPortal=void 0,this._disposeFn&&(this._disposeFn(),this._disposeFn=void 0)}setDisposeFn(e){this._disposeFn=e}}class gM{constructor(e){Me(this,"_overlayRef",void 0),Me(this,"componentInstance",void 0),Me(this,"duplicatesCount",0),Me(this,"_afterClosed",new Vn.x),Me(this,"_activate",new Vn.x),Me(this,"_manualClose",new Vn.x),Me(this,"_resetTimeout",new Vn.x),Me(this,"_countDuplicate",new Vn.x),this._overlayRef=e}manualClose(){this._manualClose.next(),this._manualClose.complete()}manualClosed(){return this._manualClose.asObservable()}timeoutReset(){return this._resetTimeout.asObservable()}countDuplicate(){return this._countDuplicate.asObservable()}close(){this._overlayRef.detach(),this._afterClosed.next(),this._manualClose.next(),this._afterClosed.complete(),this._manualClose.complete(),this._activate.complete(),this._resetTimeout.complete(),this._countDuplicate.complete()}afterClosed(){return this._afterClosed.asObservable()}isInactive(){return this._activate.isStopped}activate(){this._activate.next(),this._activate.complete()}afterActivate(){return this._activate.asObservable()}onDuplicate(e,n){e&&this._resetTimeout.next(),n&&this._countDuplicate.next(++this.duplicatesCount)}}class gg{constructor(e,n,r,i,a,c){Me(this,"toastId",void 0),Me(this,"config",void 0),Me(this,"message",void 0),Me(this,"title",void 0),Me(this,"toastType",void 0),Me(this,"toastRef",void 0),Me(this,"_onTap",new Vn.x),Me(this,"_onAction",new Vn.x),this.toastId=e,this.config=n,this.message=r,this.title=i,this.toastType=a,this.toastRef=c,this.toastRef.afterClosed().subscribe(()=>{this._onAction.complete(),this._onTap.complete()})}triggerTap(){this._onTap.next(),this.config.tapToDismiss&&this._onTap.complete()}onTap(){return this._onTap.asObservable()}triggerAction(e){this._onAction.next(e)}onAction(){return this._onAction.asObservable()}}const lD=new h.OlP("ToastConfig");class mM extends pM{constructor(e,n,r){super(),Me(this,"_hostDomElement",void 0),Me(this,"_componentFactoryResolver",void 0),Me(this,"_appRef",void 0),this._hostDomElement=e,this._componentFactoryResolver=n,this._appRef=r}attachComponentPortal(e,n){const r=this._componentFactoryResolver.resolveComponentFactory(e.component);let i;return i=r.create(e.injector),this._appRef.attachView(i.hostView),this.setDisposeFn(()=>{this._appRef.detachView(i.hostView),i.destroy()}),n?this._hostDomElement.insertBefore(this._getComponentRootNode(i),this._hostDomElement.firstChild):this._hostDomElement.appendChild(this._getComponentRootNode(i)),i}_getComponentRootNode(e){return e.hostView.rootNodes[0]}}let yM=(()=>{var t;class e{constructor(){Me(this,"_document",(0,h.f3M)(me)),Me(this,"_containerElement",void 0)}ngOnDestroy(){this._containerElement&&this._containerElement.parentNode&&this._containerElement.parentNode.removeChild(this._containerElement)}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const r=this._document.createElement("div");r.classList.add("overlay-container"),r.setAttribute("aria-live","polite"),this._document.body.appendChild(r),this._containerElement=r}}return t=e,Me(e,"\u0275fac",function(r){return new(r||t)}),Me(e,"\u0275prov",h.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"})),e})();class dD{constructor(e){Me(this,"_portalHost",void 0),this._portalHost=e}attach(e,n=!0){return this._portalHost.attach(e,n)}detach(){return this._portalHost.detach()}}let hD=(()=>{var t;class e{constructor(){Me(this,"_overlayContainer",(0,h.f3M)(yM)),Me(this,"_componentFactoryResolver",(0,h.f3M)(h._Vd)),Me(this,"_appRef",(0,h.f3M)(h.z2F)),Me(this,"_document",(0,h.f3M)(me)),Me(this,"_paneElements",new Map)}create(r,i){return this._createOverlayRef(this.getPaneElement(r,i))}getPaneElement(r="",i){return this._paneElements.get(i)||this._paneElements.set(i,{}),this._paneElements.get(i)[r]||(this._paneElements.get(i)[r]=this._createPaneElement(r,i)),this._paneElements.get(i)[r]}_createPaneElement(r,i){const a=this._document.createElement("div");return a.id="toast-container",a.classList.add(r),a.classList.add("toast-container"),i?i.getContainerElement().appendChild(a):this._overlayContainer.getContainerElement().appendChild(a),a}_createPortalHost(r){return new mM(r,this._componentFactoryResolver,this._appRef)}_createOverlayRef(r){return new dD(this._createPortalHost(r))}}return t=e,Me(e,"\u0275fac",function(r){return new(r||t)}),Me(e,"\u0275prov",h.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"})),e})(),mg=(()=>{var t;class e{constructor(r,i,a,c,f){Me(this,"overlay",void 0),Me(this,"_injector",void 0),Me(this,"sanitizer",void 0),Me(this,"ngZone",void 0),Me(this,"toastrConfig",void 0),Me(this,"currentlyActive",0),Me(this,"toasts",[]),Me(this,"overlayContainer",void 0),Me(this,"previousToastMessage",void 0),Me(this,"index",0),this.overlay=i,this._injector=a,this.sanitizer=c,this.ngZone=f,this.toastrConfig={...r.default,...r.config},r.config.iconClasses&&(this.toastrConfig.iconClasses={...r.default.iconClasses,...r.config.iconClasses})}show(r,i,a={},c=""){return this._preBuildNotification(c,r,i,this.applyConfig(a))}success(r,i,a={}){return this._preBuildNotification(this.toastrConfig.iconClasses.success||"",r,i,this.applyConfig(a))}error(r,i,a={}){return this._preBuildNotification(this.toastrConfig.iconClasses.error||"",r,i,this.applyConfig(a))}info(r,i,a={}){return this._preBuildNotification(this.toastrConfig.iconClasses.info||"",r,i,this.applyConfig(a))}warning(r,i,a={}){return this._preBuildNotification(this.toastrConfig.iconClasses.warning||"",r,i,this.applyConfig(a))}clear(r){for(const i of this.toasts)if(void 0!==r){if(i.toastId===r)return void i.toastRef.manualClose()}else i.toastRef.manualClose()}remove(r){const i=this._findToast(r);if(!i||(i.activeToast.toastRef.close(),this.toasts.splice(i.index,1),this.currentlyActive=this.currentlyActive-1,!this.toastrConfig.maxOpened||!this.toasts.length))return!1;if(this.currentlyActive<this.toastrConfig.maxOpened&&this.toasts[this.currentlyActive]){const a=this.toasts[this.currentlyActive].toastRef;a.isInactive()||(this.currentlyActive=this.currentlyActive+1,a.activate())}return!0}findDuplicate(r="",i="",a,c){const{includeTitleDuplicates:f}=this.toastrConfig;for(const y of this.toasts)if((!f||f&&y.title===r)&&y.message===i)return y.toastRef.onDuplicate(a,c),y;return null}applyConfig(r={}){return{...this.toastrConfig,...r}}_findToast(r){for(let i=0;i<this.toasts.length;i++)if(this.toasts[i].toastId===r)return{index:i,activeToast:this.toasts[i]};return null}_preBuildNotification(r,i,a,c){return c.onActivateTick?this.ngZone.run(()=>this._buildNotification(r,i,a,c)):this._buildNotification(r,i,a,c)}_buildNotification(r,i,a,c){if(!c.toastComponent)throw new Error("toastComponent required");const f=this.findDuplicate(a,i,this.toastrConfig.resetTimeoutOnDuplicate&&c.timeOut>0,this.toastrConfig.countDuplicates);if((this.toastrConfig.includeTitleDuplicates&&a||i)&&this.toastrConfig.preventDuplicates&&null!==f)return f;this.previousToastMessage=i;let y=!1;this.toastrConfig.maxOpened&&this.currentlyActive>=this.toastrConfig.maxOpened&&(y=!0,this.toastrConfig.autoDismiss&&this.clear(this.toasts[0].toastId));const v=this.overlay.create(c.positionClass,this.overlayContainer);this.index=this.index+1;let b=i;i&&c.enableHtml&&(b=this.sanitizer.sanitize(h.q3G.HTML,i));const T=new gM(v),N=new gg(this.index,c,b,a,r,T),$=h.zs3.create({providers:[{provide:gg,useValue:N}],parent:this._injector}),Q=new pg(c.toastComponent,$),ae=v.attach(Q,c.newestOnTop);T.componentInstance=ae.instance;const Ae={toastId:this.index,title:a||"",message:i||"",toastRef:T,onShown:T.afterActivate(),onHidden:T.afterClosed(),onTap:N.onTap(),onAction:N.onAction(),portal:ae};return y||(this.currentlyActive=this.currentlyActive+1,setTimeout(()=>{Ae.toastRef.activate()})),this.toasts.push(Ae),Ae}}return t=e,Me(e,"\u0275fac",function(r){return new(r||t)(h.LFG(lD),h.LFG(hD),h.LFG(h.zs3),h.LFG(ta),h.LFG(h.R0b))}),Me(e,"\u0275prov",h.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"})),e})();const fD={maxOpened:0,autoDismiss:!1,newestOnTop:!0,preventDuplicates:!1,countDuplicates:!1,resetTimeoutOnDuplicate:!1,includeTitleDuplicates:!1,iconClasses:{error:"toast-error",info:"toast-info",success:"toast-success",warning:"toast-warning"},closeButton:!1,disableTimeOut:!1,timeOut:5e3,extendedTimeOut:1e3,enableHtml:!1,progressBar:!1,toastClass:"ngx-toastr",positionClass:"toast-top-right",titleClass:"toast-title",messageClass:"toast-message",easing:"ease-in",easeTime:300,tapToDismiss:!0,onActivateTick:!1,progressAnimation:"decreasing",toastComponent:(()=>{var t;class e{get displayStyle(){if("inactive"===this.state.value)return"none"}constructor(r,i,a){Me(this,"toastrService",void 0),Me(this,"toastPackage",void 0),Me(this,"ngZone",void 0),Me(this,"message",void 0),Me(this,"title",void 0),Me(this,"options",void 0),Me(this,"duplicatesCount",void 0),Me(this,"originalTimeout",void 0),Me(this,"width",-1),Me(this,"toastClasses",""),Me(this,"state",void 0),Me(this,"timeout",void 0),Me(this,"intervalId",void 0),Me(this,"hideTime",void 0),Me(this,"sub",void 0),Me(this,"sub1",void 0),Me(this,"sub2",void 0),Me(this,"sub3",void 0),this.toastrService=r,this.toastPackage=i,this.ngZone=a,this.message=i.message,this.title=i.title,this.options=i.config,this.originalTimeout=i.config.timeOut,this.toastClasses=`${i.toastType} ${i.config.toastClass}`,this.sub=i.toastRef.afterActivate().subscribe(()=>{this.activateToast()}),this.sub1=i.toastRef.manualClosed().subscribe(()=>{this.remove()}),this.sub2=i.toastRef.timeoutReset().subscribe(()=>{this.resetTimeout()}),this.sub3=i.toastRef.countDuplicate().subscribe(c=>{this.duplicatesCount=c}),this.state={value:"inactive",params:{easeTime:this.toastPackage.config.easeTime,easing:"ease-in"}}}ngOnDestroy(){this.sub.unsubscribe(),this.sub1.unsubscribe(),this.sub2.unsubscribe(),this.sub3.unsubscribe(),clearInterval(this.intervalId),clearTimeout(this.timeout)}activateToast(){this.state={...this.state,value:"active"},!0!==this.options.disableTimeOut&&"timeOut"!==this.options.disableTimeOut&&this.options.timeOut&&(this.outsideTimeout(()=>this.remove(),this.options.timeOut),this.hideTime=(new Date).getTime()+this.options.timeOut,this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10))}updateProgress(){if(0===this.width||100===this.width||!this.options.timeOut)return;const r=(new Date).getTime();this.width=(this.hideTime-r)/this.options.timeOut*100,"increasing"===this.options.progressAnimation&&(this.width=100-this.width),this.width<=0&&(this.width=0),this.width>=100&&(this.width=100)}resetTimeout(){clearTimeout(this.timeout),clearInterval(this.intervalId),this.state={...this.state,value:"active"},this.outsideTimeout(()=>this.remove(),this.originalTimeout),this.options.timeOut=this.originalTimeout,this.hideTime=(new Date).getTime()+(this.options.timeOut||0),this.width=-1,this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10)}remove(){"removed"!==this.state.value&&(clearTimeout(this.timeout),this.state={...this.state,value:"removed"},this.outsideTimeout(()=>this.toastrService.remove(this.toastPackage.toastId),+this.toastPackage.config.easeTime))}tapToast(){"removed"!==this.state.value&&(this.toastPackage.triggerTap(),this.options.tapToDismiss&&this.remove())}stickAround(){"removed"!==this.state.value&&"extendedTimeOut"!==this.options.disableTimeOut&&(clearTimeout(this.timeout),this.options.timeOut=0,this.hideTime=0,clearInterval(this.intervalId),this.width=0)}delayedHideToast(){!0===this.options.disableTimeOut||"extendedTimeOut"===this.options.disableTimeOut||0===this.options.extendedTimeOut||"removed"===this.state.value||(this.outsideTimeout(()=>this.remove(),this.options.extendedTimeOut),this.options.timeOut=this.options.extendedTimeOut,this.hideTime=(new Date).getTime()+(this.options.timeOut||0),this.width=-1,this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10))}outsideTimeout(r,i){this.ngZone?this.ngZone.runOutsideAngular(()=>this.timeout=setTimeout(()=>this.runInsideAngular(r),i)):this.timeout=setTimeout(()=>r(),i)}outsideInterval(r,i){this.ngZone?this.ngZone.runOutsideAngular(()=>this.intervalId=setInterval(()=>this.runInsideAngular(r),i)):this.intervalId=setInterval(()=>r(),i)}runInsideAngular(r){this.ngZone?this.ngZone.run(()=>r()):r()}}return t=e,Me(e,"\u0275fac",function(r){return new(r||t)(h.Y36(mg),h.Y36(gg),h.Y36(h.R0b))}),Me(e,"\u0275cmp",h.Xpm({type:t,selectors:[["","toast-component",""]],hostVars:5,hostBindings:function(r,i){1&r&&h.NdJ("click",function(){return i.tapToast()})("mouseenter",function(){return i.stickAround()})("mouseleave",function(){return i.delayedHideToast()}),2&r&&(h.d8E("@flyInOut",i.state),h.Tol(i.toastClasses),h.Udp("display",i.displayStyle))},standalone:!0,features:[h.jDz],attrs:aD,decls:5,vars:5,consts:[["type","button","class","toast-close-button","aria-label","Close",3,"click",4,"ngIf"],[3,"class",4,"ngIf"],["role","alert",3,"class","innerHTML",4,"ngIf"],["role","alert",3,"class",4,"ngIf"],[4,"ngIf"],["type","button","aria-label","Close",1,"toast-close-button",3,"click"],["aria-hidden","true"],["role","alert",3,"innerHTML"],["role","alert"],[1,"toast-progress"]],template:function(r,i){1&r&&(h.YNc(0,sM,3,0,"button",0),h.YNc(1,oM,3,5,"div",1),h.YNc(2,aM,1,3,"div",2),h.YNc(3,uM,2,4,"div",3),h.YNc(4,cM,2,2,"div",4)),2&r&&(h.Q6J("ngIf",i.options.closeButton),h.xp6(1),h.Q6J("ngIf",i.title),h.xp6(1),h.Q6J("ngIf",i.message&&i.options.enableHtml),h.xp6(1),h.Q6J("ngIf",i.message&&!i.options.enableHtml),h.xp6(1),h.Q6J("ngIf",i.options.progressBar))},dependencies:[ts],encapsulation:2,data:{animation:[lg("flyInOut",[pv("inactive",dg({opacity:0})),pv("active",dg({opacity:1})),pv("removed",dg({opacity:0})),gv("inactive => active",Qc("{{ easeTime }}ms {{ easing }}")),gv("active => removed",Qc("{{ easeTime }}ms {{ easing }}"))])]}})),e})()},pD=(t={})=>(0,h.MR2)([{provide:lD,useValue:{default:fD,config:t}}]);let _M=(()=>{var t;class e{static forRoot(r={}){return{ngModule:e,providers:[pD(r)]}}}return t=e,Me(e,"\u0275fac",function(r){return new(r||t)}),Me(e,"\u0275mod",h.oAB({type:t})),Me(e,"\u0275inj",h.cJS({})),e})();var vM=R(3019),Kr=R(3093);const Cu={now:()=>(Cu.delegate||Date).now(),delegate:void 0};class Or extends Vn.x{constructor(e=1/0,n=1/0,r=Cu){super(),this._bufferSize=e,this._windowTime=n,this._timestampProvider=r,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=n===1/0,this._bufferSize=Math.max(1,e),this._windowTime=Math.max(1,n)}next(e){const{isStopped:n,_buffer:r,_infiniteTimeWindow:i,_timestampProvider:a,_windowTime:c}=this;n||(r.push(e),!i&&r.push(a.now()+c)),this._trimBuffer(),super.next(e)}_subscribe(e){this._throwIfClosed(),this._trimBuffer();const n=this._innerSubscribe(e),{_infiniteTimeWindow:r,_buffer:i}=this,a=i.slice();for(let c=0;c<a.length&&!e.closed;c+=r?1:2)e.next(a[c]);return this._checkFinalizedStatuses(e),n}_trimBuffer(){const{_bufferSize:e,_timestampProvider:n,_buffer:r,_infiniteTimeWindow:i}=this,a=(i?1:2)*e;if(e<1/0&&a<r.length&&r.splice(0,r.length-a),!i){const c=n.now();let f=0;for(let y=1;y<r.length&&r[y]<=c;y+=2)f=y;f&&r.splice(0,f+1)}}}var Tu=R(3020);function yh(t,e,n){let r,i=!1;return t&&"object"==typeof t?({bufferSize:r=1/0,windowTime:e=1/0,refCount:i=!1,scheduler:n}=t):r=t??1/0,(0,Tu.B)({connector:()=>new Or(r,e,n),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:i})}function Wi(t,e){return(0,qs.m)(e)?(0,Sn.w)(()=>t,e):(0,Sn.w)(()=>t)}var Su=R(5137),Nt=R(534);(0,Nt.registerVersion)("firebase","9.23.0","app");var wt=R(9058),Yr=R(4537),Qr=R(7879);const el=(t,e)=>e.some(n=>t instanceof n);let Au,Mu;const vv=new WeakMap,yg=new WeakMap,wv=new WeakMap,_g=new WeakMap,vg=new WeakMap;let _h={get(t,e,n){if(t instanceof IDBTransaction){if("done"===e)return yg.get(t);if("objectStoreNames"===e)return t.objectStoreNames||wv.get(t);if("store"===e)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Ia(t[e])},set:(t,e,n)=>(t[e]=n,!0),has:(t,e)=>t instanceof IDBTransaction&&("done"===e||"store"===e)||e in t};function ik(t){return"function"==typeof t?function rk(t){return t!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function yD(){return Mu||(Mu=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(t)?function(...e){return t.apply(Ev(this),e),Ia(vv.get(this))}:function(...e){return Ia(t.apply(Ev(this),e))}:function(e,...n){const r=t.call(Ev(this),e,...n);return wv.set(r,e.sort?e.sort():[e]),Ia(r)}}(t):(t instanceof IDBTransaction&&function vD(t){if(yg.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",a),t.removeEventListener("error",c),t.removeEventListener("abort",c)},a=()=>{n(),i()},c=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",a),t.addEventListener("error",c),t.addEventListener("abort",c)});yg.set(t,e)}(t),el(t,function mD(){return Au||(Au=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(t,_h):t)}function Ia(t){if(t instanceof IDBRequest)return function _D(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",a),t.removeEventListener("error",c)},a=()=>{n(Ia(t.result)),i()},c=()=>{r(t.error),i()};t.addEventListener("success",a),t.addEventListener("error",c)});return e.then(n=>{n instanceof IDBCursor&&vv.set(n,t)}).catch(()=>{}),vg.set(e,t),e}(t);if(_g.has(t))return _g.get(t);const e=ik(t);return e!==t&&(_g.set(t,e),vg.set(e,t)),e}const Ev=t=>vg.get(t),ak=["get","getKey","getAll","getAllKeys","count"],EM=["put","add","delete","clear"],Iv=new Map;function wD(t,e){if(!(t instanceof IDBDatabase)||e in t||"string"!=typeof e)return;if(Iv.get(e))return Iv.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=EM.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!ak.includes(n))return;const a=function(){var c=(0,Y.Z)(function*(f,...y){const v=this.transaction(f,i?"readwrite":"readonly");let b=v.store;return r&&(b=b.index(y.shift())),(yield Promise.all([b[n](...y),i&&v.done]))[0]});return function(y){return c.apply(this,arguments)}}();return Iv.set(e,a),a}!function wM(t){_h=t(_h)}(t=>({...t,get:(e,n,r)=>wD(e,n)||t.get(e,n,r),has:(e,n)=>!!wD(e,n)||t.has(e,n)}));const wg="@firebase/installations",xu="0.6.4",Eg=1e4,vh=`w:${xu}`,Dv="FIS_v2",wh="https://firebaseinstallations.googleapis.com/v1",ED=36e5,xo=new wt.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function ID(t){return t instanceof wt.ZR&&t.code.includes("request-failed")}function bv({projectId:t}){return`${wh}/projects/${t}/installations`}function Ig(t){return{token:t.token,requestStatus:2,expiresIn:CM(t.expiresIn),creationTime:Date.now()}}function tl(t,e){return nl.apply(this,arguments)}function nl(){return(nl=(0,Y.Z)(function*(t,e){const r=(yield e.json()).error;return xo.create("request-failed",{requestName:t,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})})).apply(this,arguments)}function bM({apiKey:t}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function Cv(t){return Ih.apply(this,arguments)}function Ih(){return(Ih=(0,Y.Z)(function*(t){const e=yield t();return e.status>=500&&e.status<600?t():e})).apply(this,arguments)}function CM(t){return Number(t.replace("s","000"))}function Tv(){return(Tv=(0,Y.Z)(function*({appConfig:t,heartbeatServiceProvider:e},{fid:n}){const r=bv(t),i=bM(t),a=e.getImmediate({optional:!0});if(a){const v=yield a.getHeartbeatsHeader();v&&i.append("x-firebase-client",v)}const f={method:"POST",headers:i,body:JSON.stringify({fid:n,authVersion:Dv,appId:t.appId,sdkVersion:vh})},y=yield Cv(()=>fetch(r,f));if(y.ok){const v=yield y.json();return{fid:v.fid||n,registrationStatus:2,refreshToken:v.refreshToken,authToken:Ig(v.authToken)}}throw yield tl("Create Installation",y)})).apply(this,arguments)}function Sv(t){return new Promise(e=>{setTimeout(e,t)})}const TD=/^[cdef][\w-]{21}$/,Av="";function SM(){try{const t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;const n=function AM(t){return function CD(t){return btoa(String.fromCharCode(...t)).replace(/\+/g,"-").replace(/\//g,"_")}(t).substr(0,22)}(t);return TD.test(n)?n:Av}catch{return Av}}function Nu(t){return`${t.appName}!${t.appId}`}const Da=new Map;function Dg(t,e){const n=Nu(t);Dh(n,e),function Mv(t,e){const n=function SD(){return!ba&&"BroadcastChannel"in self&&(ba=new BroadcastChannel("[Firebase] FID Change"),ba.onmessage=t=>{Dh(t.data.key,t.data.fid)}),ba}();n&&n.postMessage({key:t,fid:e}),function AD(){0===Da.size&&ba&&(ba.close(),ba=null)}()}(n,e)}function Dh(t,e){const n=Da.get(t);if(n)for(const r of n)r(e)}let ba=null;const xM="firebase-installations-database",Cg=1,to="firebase-installations-store";let Tg=null;function Sg(){return Tg||(Tg=function sk(t,e,{blocked:n,upgrade:r,blocking:i,terminated:a}={}){const c=indexedDB.open(t,e),f=Ia(c);return r&&c.addEventListener("upgradeneeded",y=>{r(Ia(c.result),y.oldVersion,y.newVersion,Ia(c.transaction))}),n&&c.addEventListener("blocked",()=>n()),f.then(y=>{a&&y.addEventListener("close",()=>a()),i&&y.addEventListener("versionchange",()=>i())}).catch(()=>{}),f}(xM,Cg,{upgrade:(t,e)=>{0===e&&t.createObjectStore(to)}})),Tg}function Ag(t,e){return xv.apply(this,arguments)}function xv(){return(xv=(0,Y.Z)(function*(t,e){const n=Nu(t),i=(yield Sg()).transaction(to,"readwrite"),a=i.objectStore(to),c=yield a.get(n);return yield a.put(e,n),yield i.done,(!c||c.fid!==e.fid)&&Dg(t,e.fid),e})).apply(this,arguments)}function Mg(t){return bh.apply(this,arguments)}function bh(){return(bh=(0,Y.Z)(function*(t){const e=Nu(t),r=(yield Sg()).transaction(to,"readwrite");yield r.objectStore(to).delete(e),yield r.done})).apply(this,arguments)}function rl(t,e){return Ch.apply(this,arguments)}function Ch(){return(Ch=(0,Y.Z)(function*(t,e){const n=Nu(t),i=(yield Sg()).transaction(to,"readwrite"),a=i.objectStore(to),c=yield a.get(n),f=e(c);return void 0===f?yield a.delete(n):yield a.put(f,n),yield i.done,f&&(!c||c.fid!==f.fid)&&Dg(t,f.fid),f})).apply(this,arguments)}function xg(t){return Nv.apply(this,arguments)}function Nv(){return Nv=(0,Y.Z)(function*(t){let e;const n=yield rl(t.appConfig,r=>{const i=function MD(t){return Ov(t||{fid:SM(),registrationStatus:0})}(r),a=function xD(t,e){if(0===e.registrationStatus){if(!navigator.onLine)return{installationEntry:e,registrationPromise:Promise.reject(xo.create("app-offline"))};const n={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},r=function ND(t,e){return Ng.apply(this,arguments)}(t,n);return{installationEntry:n,registrationPromise:r}}return 1===e.registrationStatus?{installationEntry:e,registrationPromise:NM(t)}:{installationEntry:e}}(t,i);return e=a.registrationPromise,a.installationEntry});return n.fid===Av?{installationEntry:yield e}:{installationEntry:n,registrationPromise:e}}),Nv.apply(this,arguments)}function Ng(){return Ng=(0,Y.Z)(function*(t,e){try{const n=yield function TM(t,e){return Tv.apply(this,arguments)}(t,e);return Ag(t.appConfig,n)}catch(n){throw ID(n)&&409===n.customData.serverCode?yield Mg(t.appConfig):yield Ag(t.appConfig,{fid:e.fid,registrationStatus:0}),n}}),Ng.apply(this,arguments)}function NM(t){return Rv.apply(this,arguments)}function Rv(){return(Rv=(0,Y.Z)(function*(t){let e=yield RD(t.appConfig);for(;1===e.registrationStatus;)yield Sv(100),e=yield RD(t.appConfig);if(0===e.registrationStatus){const{installationEntry:n,registrationPromise:r}=yield xg(t);return r||n}return e})).apply(this,arguments)}function RD(t){return rl(t,e=>{if(!e)throw xo.create("installation-not-found");return Ov(e)})}function Ov(t){return function Pv(t){return 1===t.registrationStatus&&t.registrationTime+Eg<Date.now()}(t)?{fid:t.fid,registrationStatus:0}:t}function Rg(){return(Rg=(0,Y.Z)(function*({appConfig:t,heartbeatServiceProvider:e},n){const r=function PD(t,{fid:e}){return`${bv(t)}/${e}/authTokens:generate`}(t,n),i=function DD(t,{refreshToken:e}){const n=bM(t);return n.append("Authorization",function bD(t){return`${Dv} ${t}`}(e)),n}(t,n),a=e.getImmediate({optional:!0});if(a){const v=yield a.getHeartbeatsHeader();v&&i.append("x-firebase-client",v)}const f={method:"POST",headers:i,body:JSON.stringify({installation:{sdkVersion:vh,appId:t.appId}})},y=yield Cv(()=>fetch(r,f));if(y.ok)return Ig(yield y.json());throw yield tl("Generate Auth Token",y)})).apply(this,arguments)}function Og(t){return Pg.apply(this,arguments)}function Pg(){return Pg=(0,Y.Z)(function*(t,e=!1){let n;const r=yield rl(t.appConfig,a=>{if(!FD(a))throw xo.create("not-registered");const c=a.authToken;if(!e&&function RM(t){return 2===t.requestStatus&&!function Fv(t){const e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+ED}(t)}(c))return a;if(1===c.requestStatus)return n=function kD(t,e){return kg.apply(this,arguments)}(t,e),a;{if(!navigator.onLine)throw xo.create("app-offline");const f=function Ru(t){const e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},t),{authToken:e})}(a);return n=function Fg(t,e){return no.apply(this,arguments)}(t,f),f}});return n?yield n:r.authToken}),Pg.apply(this,arguments)}function kg(){return(kg=(0,Y.Z)(function*(t,e){let n=yield kv(t.appConfig);for(;1===n.authToken.requestStatus;)yield Sv(100),n=yield kv(t.appConfig);const r=n.authToken;return 0===r.requestStatus?Og(t,e):r})).apply(this,arguments)}function kv(t){return rl(t,e=>{if(!FD(e))throw xo.create("not-registered");return function Lv(t){return 1===t.requestStatus&&t.requestTime+Eg<Date.now()}(e.authToken)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}function no(){return no=(0,Y.Z)(function*(t,e){try{const n=yield function OD(t,e){return Rg.apply(this,arguments)}(t,e),r=Object.assign(Object.assign({},e),{authToken:n});return yield Ag(t.appConfig,r),n}catch(n){if(!ID(n)||401!==n.customData.serverCode&&404!==n.customData.serverCode){const r=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});yield Ag(t.appConfig,r)}else yield Mg(t.appConfig);throw n}}),no.apply(this,arguments)}function FD(t){return void 0!==t&&2===t.registrationStatus}function Th(){return(Th=(0,Y.Z)(function*(t){const e=t,{installationEntry:n,registrationPromise:r}=yield xg(e);return r?r.catch(console.error):Og(e).catch(console.error),n.fid})).apply(this,arguments)}function LD(){return LD=(0,Y.Z)(function*(t,e=!1){const n=t;return yield function PM(t){return Vv.apply(this,arguments)}(n),(yield Og(n,e)).token}),LD.apply(this,arguments)}function Vv(){return(Vv=(0,Y.Z)(function*(t){const{registrationPromise:e}=yield xg(t);e&&(yield e)})).apply(this,arguments)}function Lg(t){return xo.create("missing-app-config-values",{valueName:t})}const jv="installations",VM=t=>{const e=t.getProvider("app").getImmediate(),n=function LM(t){if(!t||!t.options)throw Lg("App Configuration");if(!t.name)throw Lg("App Name");const e=["projectId","apiKey","appId"];for(const n of e)if(!t.options[n])throw Lg(n);return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}(e);return{app:e,appConfig:n,heartbeatServiceProvider:(0,Nt._getProvider)(e,"heartbeat"),_delete:()=>Promise.resolve()}},UM=t=>{const e=t.getProvider("app").getImmediate(),n=(0,Nt._getProvider)(e,jv).getImmediate();return{getId:()=>function OM(t){return Th.apply(this,arguments)}(n),getToken:i=>function uk(t){return LD.apply(this,arguments)}(n,i)}};(function UD(){(0,Nt._registerComponent)(new Yr.wA(jv,VM,"PUBLIC")),(0,Nt._registerComponent)(new Yr.wA("installations-internal",UM,"PRIVATE"))})(),(0,Nt.registerVersion)(wg,xu),(0,Nt.registerVersion)(wg,xu,"esm2017");const $v="@firebase/remote-config",An=new wt.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class $g{constructor(e,n,r,i){this.client=e,this.storage=n,this.storageCache=r,this.logger=i}isCachedDataFresh(e,n){if(!n)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const r=Date.now()-n,i=r<=e;return this.logger.debug(`Config fetch cache check. Cache age millis: ${r}. Cache max age millis (minimumFetchIntervalMillis setting): ${e}. Is cache hit: ${i}.`),i}fetch(e){var n=this;return(0,Y.Z)(function*(){const[r,i]=yield Promise.all([n.storage.getLastSuccessfulFetchTimestampMillis(),n.storage.getLastSuccessfulFetchResponse()]);if(i&&n.isCachedDataFresh(e.cacheMaxAgeMillis,r))return i;e.eTag=i&&i.eTag;const a=yield n.client.fetch(e),c=[n.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===a.status&&c.push(n.storage.setLastSuccessfulFetchResponse(a)),yield Promise.all(c),a})()}}function WM(t=navigator){return t.languages&&t.languages[0]||t.language}class $D{constructor(e,n,r,i,a,c){this.firebaseInstallations=e,this.sdkVersion=n,this.namespace=r,this.projectId=i,this.apiKey=a,this.appId=c}fetch(e){var n=this;return(0,Y.Z)(function*(){const[r,i]=yield Promise.all([n.firebaseInstallations.getId(),n.firebaseInstallations.getToken()]),c=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${n.projectId}/namespaces/${n.namespace}:fetch?key=${n.apiKey}`,f={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":e.eTag||"*"},y={sdk_version:n.sdkVersion,app_instance_id:r,app_instance_id_token:i,app_id:n.appId,language_code:WM()},v={method:"POST",headers:f,body:JSON.stringify(y)},b=fetch(c,v),T=new Promise((Ae,je)=>{e.signal.addEventListener(()=>{const We=new Error("The operation was aborted.");We.name="AbortError",je(We)})});let N;try{yield Promise.race([b,T]),N=yield b}catch(Ae){let je="fetch-client-network";throw"AbortError"===Ae?.name&&(je="fetch-timeout"),An.create(je,{originalErrorMessage:Ae?.message})}let O=N.status;const $=N.headers.get("ETag")||void 0;let Q,ae;if(200===N.status){let Ae;try{Ae=yield N.json()}catch(je){throw An.create("fetch-client-parse",{originalErrorMessage:je?.message})}Q=Ae.entries,ae=Ae.state}if("INSTANCE_STATE_UNSPECIFIED"===ae?O=500:"NO_CHANGE"===ae?O=304:("NO_TEMPLATE"===ae||"EMPTY_CONFIG"===ae)&&(Q={}),304!==O&&200!==O)throw An.create("fetch-status",{httpStatus:O});return{status:O,eTag:$,config:Q}})()}}class ZM{constructor(e,n){this.client=e,this.storage=n}fetch(e){var n=this;return(0,Y.Z)(function*(){const r=(yield n.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return n.attemptFetch(e,r)})()}attemptFetch(e,{throttleEndTimeMillis:n,backoffCount:r}){var i=this;return(0,Y.Z)(function*(){yield function HD(t,e){return new Promise((n,r)=>{const i=Math.max(e-Date.now(),0),a=setTimeout(n,i);t.addEventListener(()=>{clearTimeout(a),r(An.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}(e.signal,n);try{const a=yield i.client.fetch(e);return yield i.storage.deleteThrottleMetadata(),a}catch(a){if(!function zD(t){if(!(t instanceof wt.ZR&&t.customData))return!1;const e=Number(t.customData.httpStatus);return 429===e||500===e||503===e||504===e}(a))throw a;const c={throttleEndTimeMillis:Date.now()+(0,wt.$s)(r),backoffCount:r+1};return yield i.storage.setThrottleMetadata(c),i.attemptFetch(e,c)}})()}}class Hg{constructor(e,n,r,i,a){this.app=e,this._client=n,this._storageCache=r,this._storage=i,this._logger=a,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function sl(t,e){const n=t.target.error||void 0;return An.create(e,{originalErrorMessage:n&&n?.message})}const Ca="app_namespace_store";class ZD{constructor(e,n,r,i=function WD(){return new Promise((t,e)=>{try{const n=indexedDB.open("firebase_remote_config",1);n.onerror=r=>{e(sl(r,"storage-open"))},n.onsuccess=r=>{t(r.target.result)},n.onupgradeneeded=r=>{0===r.oldVersion&&r.target.result.createObjectStore(Ca,{keyPath:"compositeKey"})}}catch(n){e(An.create("storage-open",{originalErrorMessage:n?.message}))}})}()){this.appId=e,this.appName=n,this.namespace=r,this.openDbPromise=i}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(e){return this.set("last_fetch_status",e)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(e){return this.set("last_successful_fetch_timestamp_millis",e)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(e){return this.set("last_successful_fetch_response",e)}getActiveConfig(){return this.get("active_config")}setActiveConfig(e){return this.set("active_config",e)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(e){return this.set("active_config_etag",e)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(e){return this.set("throttle_metadata",e)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(e){var n=this;return(0,Y.Z)(function*(){const r=yield n.openDbPromise;return new Promise((i,a)=>{const f=r.transaction([Ca],"readonly").objectStore(Ca),y=n.createCompositeKey(e);try{const v=f.get(y);v.onerror=b=>{a(sl(b,"storage-get"))},v.onsuccess=b=>{const T=b.target.result;i(T?T.value:void 0)}}catch(v){a(An.create("storage-get",{originalErrorMessage:v?.message}))}})})()}set(e,n){var r=this;return(0,Y.Z)(function*(){const i=yield r.openDbPromise;return new Promise((a,c)=>{const y=i.transaction([Ca],"readwrite").objectStore(Ca),v=r.createCompositeKey(e);try{const b=y.put({compositeKey:v,value:n});b.onerror=T=>{c(sl(T,"storage-set"))},b.onsuccess=()=>{a()}}catch(b){c(An.create("storage-set",{originalErrorMessage:b?.message}))}})})()}delete(e){var n=this;return(0,Y.Z)(function*(){const r=yield n.openDbPromise;return new Promise((i,a)=>{const f=r.transaction([Ca],"readwrite").objectStore(Ca),y=n.createCompositeKey(e);try{const v=f.delete(y);v.onerror=b=>{a(sl(b,"storage-delete"))},v.onsuccess=()=>{i()}}catch(v){a(An.create("storage-delete",{originalErrorMessage:v?.message}))}})})()}createCompositeKey(e){return[this.appId,this.appName,this.namespace,e].join()}}class KD{constructor(e){this.storage=e}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var e=this;return(0,Y.Z)(function*(){const n=e.storage.getLastFetchStatus(),r=e.storage.getLastSuccessfulFetchTimestampMillis(),i=e.storage.getActiveConfig(),a=yield n;a&&(e.lastFetchStatus=a);const c=yield r;c&&(e.lastSuccessfulFetchTimestampMillis=c);const f=yield i;f&&(e.activeConfig=f)})()}setLastFetchStatus(e){return this.lastFetchStatus=e,this.storage.setLastFetchStatus(e)}setLastSuccessfulFetchTimestampMillis(e){return this.lastSuccessfulFetchTimestampMillis=e,this.storage.setLastSuccessfulFetchTimestampMillis(e)}setActiveConfig(e){return this.activeConfig=e,this.storage.setActiveConfig(e)}}function YM(){return Zv.apply(this,arguments)}function Zv(){return(Zv=(0,Y.Z)(function*(){if(!(0,wt.hl)())return!1;try{return yield(0,wt.eu)()}catch{return!1}})).apply(this,arguments)}!function YD(){(0,Nt._registerComponent)(new Yr.wA("remote-config",function t(e,{instanceIdentifier:n}){const r=e.getProvider("app").getImmediate(),i=e.getProvider("installations-internal").getImmediate();if(typeof window>"u")throw An.create("registration-window");if(!(0,wt.hl)())throw An.create("indexed-db-unavailable");const{projectId:a,apiKey:c,appId:f}=r.options;if(!a)throw An.create("registration-project-id");if(!c)throw An.create("registration-api-key");if(!f)throw An.create("registration-app-id");const y=new ZD(f,r.name,n=n||"firebase"),v=new KD(y),b=new Qr.Yd($v);b.logLevel=Qr.in.ERROR;const T=new $D(i,Nt.SDK_VERSION,n,a,c,f),N=new ZM(T,y),O=new $g(N,y,v,b),$=new Hg(r,O,v,y,b);return function HM(t){const e=(0,wt.m9)(t);e._initializePromise||(e._initializePromise=e._storageCache.loadFromStorage().then(()=>{e._isInitializationComplete=!0}))}($),$},"PUBLIC").setMultipleInstances(!0)),(0,Nt.registerVersion)($v,"0.4.4"),(0,Nt.registerVersion)($v,"0.4.4","esm2017")}();const QM=(t,e)=>e.some(n=>t instanceof n);let QD,JD;const XD=new WeakMap,Kv=new WeakMap,eb=new WeakMap,Yv=new WeakMap,Qv=new WeakMap;let Jv={get(t,e,n){if(t instanceof IDBTransaction){if("done"===e)return Kv.get(t);if("objectStoreNames"===e)return t.objectStoreNames||eb.get(t);if("store"===e)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return io(t[e])},set:(t,e,n)=>(t[e]=n,!0),has:(t,e)=>t instanceof IDBTransaction&&("done"===e||"store"===e)||e in t};function nb(t){return"function"==typeof t?function tb(t){return t!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function XM(){return JD||(JD=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(t)?function(...e){return t.apply(zg(this),e),io(XD.get(this))}:function(...e){return io(t.apply(zg(this),e))}:function(e,...n){const r=t.call(zg(this),e,...n);return eb.set(r,e.sort?e.sort():[e]),io(r)}}(t):(t instanceof IDBTransaction&&function t1(t){if(Kv.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",a),t.removeEventListener("error",c),t.removeEventListener("abort",c)},a=()=>{n(),i()},c=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",a),t.addEventListener("error",c),t.addEventListener("abort",c)});Kv.set(t,e)}(t),QM(t,function JM(){return QD||(QD=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(t,Jv):t)}function io(t){if(t instanceof IDBRequest)return function e1(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",a),t.removeEventListener("error",c)},a=()=>{n(io(t.result)),i()},c=()=>{r(t.error),i()};t.addEventListener("success",a),t.addEventListener("error",c)});return e.then(n=>{n instanceof IDBCursor&&XD.set(n,t)}).catch(()=>{}),Qv.set(e,t),e}(t);if(Yv.has(t))return Yv.get(t);const e=nb(t);return e!==t&&(Yv.set(t,e),Qv.set(e,t)),e}const zg=t=>Qv.get(t);function Xv(t,e,{blocked:n,upgrade:r,blocking:i,terminated:a}={}){const c=indexedDB.open(t,e),f=io(c);return r&&c.addEventListener("upgradeneeded",y=>{r(io(c.result),y.oldVersion,y.newVersion,io(c.transaction))}),n&&c.addEventListener("blocked",()=>n()),f.then(y=>{a&&y.addEventListener("close",()=>a()),i&&y.addEventListener("versionchange",()=>i())}).catch(()=>{}),f}function Gg(t,{blocked:e}={}){const n=indexedDB.deleteDatabase(t);return e&&n.addEventListener("blocked",()=>e()),io(n).then(()=>{})}const rb=["get","getKey","getAll","getAllKeys","count"],ib=["put","add","delete","clear"],qg=new Map;function e0(t,e){if(!(t instanceof IDBDatabase)||e in t||"string"!=typeof e)return;if(qg.get(e))return qg.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=ib.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!rb.includes(n))return;const a=function(){var c=(0,Y.Z)(function*(f,...y){const v=this.transaction(f,i?"readwrite":"readonly");let b=v.store;return r&&(b=b.index(y.shift())),(yield Promise.all([b[n](...y),i&&v.done]))[0]});return function(y){return c.apply(this,arguments)}}();return qg.set(e,a),a}!function n1(t){Jv=t(Jv)}(t=>({...t,get:(e,n,r)=>e0(e,n)||t.get(e,n,r),has:(e,n)=>!!e0(e,n)||t.has(e,n)}));const t0="/firebase-messaging-sw.js",Ou="/firebase-cloud-messaging-push-scope",sb="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",r1="https://fcmregistrations.googleapis.com/v1",Pu="google.c.a.c_id",pk="google.c.a.c_l",n0="google.c.a.ts";var Ah=function(t){return t.PUSH_RECEIVED="push-received",t.NOTIFICATION_CLICKED="notification-clicked",t}(Ah||{});function Ta(t){const e=new Uint8Array(t);return btoa(String.fromCharCode(...e)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function ol(t){const n=(t+"=".repeat((4-t.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),r=atob(n),i=new Uint8Array(r.length);for(let a=0;a<r.length;++a)i[a]=r.charCodeAt(a);return i}const r0="fcm_token_details_db",i1=5,ab="fcm_token_object_Store";function s0(){return s0=(0,Y.Z)(function*(t){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(a=>a.name).includes(r0))return null;let e=null;return(yield Xv(r0,i1,{upgrade:(r=(0,Y.Z)(function*(i,a,c,f){var y;if(a<2||!i.objectStoreNames.contains(ab))return;const v=f.objectStore(ab),b=yield v.index("fcmSenderId").get(t);if(yield v.clear(),b)if(2===a){const T=b;if(!T.auth||!T.p256dh||!T.endpoint)return;e={token:T.fcmToken,createTime:null!==(y=T.createTime)&&void 0!==y?y:Date.now(),subscriptionOptions:{auth:T.auth,p256dh:T.p256dh,endpoint:T.endpoint,swScope:T.swScope,vapidKey:"string"==typeof T.vapidKey?T.vapidKey:Ta(T.vapidKey)}}}else if(3===a){const T=b;e={token:T.fcmToken,createTime:T.createTime,subscriptionOptions:{auth:Ta(T.auth),p256dh:Ta(T.p256dh),endpoint:T.endpoint,swScope:T.swScope,vapidKey:Ta(T.vapidKey)}}}else if(4===a){const T=b;e={token:T.fcmToken,createTime:T.createTime,subscriptionOptions:{auth:Ta(T.auth),p256dh:Ta(T.p256dh),endpoint:T.endpoint,swScope:T.swScope,vapidKey:Ta(T.vapidKey)}}}}),function(a,c,f,y){return r.apply(this,arguments)})})).close(),yield Gg(r0),yield Gg("fcm_vapid_details_db"),yield Gg("undefined"),function Wg(t){if(!t||!t.subscriptionOptions)return!1;const{subscriptionOptions:e}=t;return"number"==typeof t.createTime&&t.createTime>0&&"string"==typeof t.token&&t.token.length>0&&"string"==typeof e.auth&&e.auth.length>0&&"string"==typeof e.p256dh&&e.p256dh.length>0&&"string"==typeof e.endpoint&&e.endpoint.length>0&&"string"==typeof e.swScope&&e.swScope.length>0&&"string"==typeof e.vapidKey&&e.vapidKey.length>0}(e)?e:null;var r}),s0.apply(this,arguments)}const Zg="firebase-messaging-database",bi=1,ul="firebase-messaging-store";let Kg=null;function Yg(){return Kg||(Kg=Xv(Zg,bi,{upgrade:(t,e)=>{0===e&&t.createObjectStore(ul)}})),Kg}function ub(t){return Qg.apply(this,arguments)}function Qg(){return Qg=(0,Y.Z)(function*(t){const e=a0(t),r=yield(yield Yg()).transaction(ul).objectStore(ul).get(e);if(r)return r;{const i=yield function al(t){return s0.apply(this,arguments)}(t.appConfig.senderId);if(i)return yield Jg(t,i),i}}),Qg.apply(this,arguments)}function Jg(t,e){return Xg.apply(this,arguments)}function Xg(){return(Xg=(0,Y.Z)(function*(t,e){const n=a0(t),i=(yield Yg()).transaction(ul,"readwrite");return yield i.objectStore(ul).put(e,n),yield i.done,e})).apply(this,arguments)}function o0(){return(o0=(0,Y.Z)(function*(t){const e=a0(t),r=(yield Yg()).transaction(ul,"readwrite");yield r.objectStore(ul).delete(e),yield r.done})).apply(this,arguments)}function a0({appConfig:t}){return t.appId}const Un=new wt.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function o1(t,e){return u0.apply(this,arguments)}function u0(){return(u0=(0,Y.Z)(function*(t,e){const n=yield l0(t),r=ll(e),i={method:"POST",headers:n,body:JSON.stringify(r)};let a;try{a=yield(yield fetch(tm(t.appConfig),i)).json()}catch(c){throw Un.create("token-subscribe-failed",{errorInfo:c?.toString()})}if(a.error)throw Un.create("token-subscribe-failed",{errorInfo:a.error.message});if(!a.token)throw Un.create("token-subscribe-no-token");return a.token})).apply(this,arguments)}function cl(){return(cl=(0,Y.Z)(function*(t,e){const n=yield l0(t),r=ll(e.subscriptionOptions),i={method:"PATCH",headers:n,body:JSON.stringify(r)};let a;try{a=yield(yield fetch(`${tm(t.appConfig)}/${e.token}`,i)).json()}catch(c){throw Un.create("token-update-failed",{errorInfo:c?.toString()})}if(a.error)throw Un.create("token-update-failed",{errorInfo:a.error.message});if(!a.token)throw Un.create("token-update-no-token");return a.token})).apply(this,arguments)}function c0(t,e){return em.apply(this,arguments)}function em(){return(em=(0,Y.Z)(function*(t,e){const r={method:"DELETE",headers:yield l0(t)};try{const a=yield(yield fetch(`${tm(t.appConfig)}/${e}`,r)).json();if(a.error)throw Un.create("token-unsubscribe-failed",{errorInfo:a.error.message})}catch(i){throw Un.create("token-unsubscribe-failed",{errorInfo:i?.toString()})}})).apply(this,arguments)}function tm({projectId:t}){return`${r1}/projects/${t}/registrations`}function l0(t){return ku.apply(this,arguments)}function ku(){return(ku=(0,Y.Z)(function*({appConfig:t,installations:e}){const n=yield e.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t.apiKey,"x-goog-firebase-installations-auth":`FIS ${n}`})})).apply(this,arguments)}function ll({p256dh:t,auth:e,endpoint:n,vapidKey:r}){const i={web:{endpoint:n,auth:e,p256dh:t}};return r!==sb&&(i.web.applicationPubKey=r),i}const u1=6048e5;function d0(){return d0=(0,Y.Z)(function*(t){const e=yield function l1(t,e){return db.apply(this,arguments)}(t.swRegistration,t.vapidKey),n={vapidKey:t.vapidKey,swScope:t.swRegistration.scope,endpoint:e.endpoint,auth:Ta(e.getKey("auth")),p256dh:Ta(e.getKey("p256dh"))},r=yield ub(t.firebaseDependencies);if(r){if(function mk(t,e){return e.vapidKey===t.vapidKey&&e.endpoint===t.endpoint&&e.auth===t.auth&&e.p256dh===t.p256dh}(r.subscriptionOptions,n))return Date.now()>=r.createTime+u1?function lb(t,e){return f0.apply(this,arguments)}(t,{token:r.token,createTime:Date.now(),subscriptionOptions:n}):r.token;try{yield c0(t.firebaseDependencies,r.token)}catch(i){console.warn(i)}return p0(t.firebaseDependencies,n)}return p0(t.firebaseDependencies,n)}),d0.apply(this,arguments)}function nm(){return nm=(0,Y.Z)(function*(t){const e=yield ub(t.firebaseDependencies);e&&(yield c0(t.firebaseDependencies,e.token),yield function cb(t){return o0.apply(this,arguments)}(t.firebaseDependencies));const n=yield t.swRegistration.pushManager.getSubscription();return!n||n.unsubscribe()}),nm.apply(this,arguments)}function f0(){return f0=(0,Y.Z)(function*(t,e){try{const n=yield function a1(t,e){return cl.apply(this,arguments)}(t.firebaseDependencies,e),r=Object.assign(Object.assign({},e),{token:n,createTime:Date.now()});return yield Jg(t.firebaseDependencies,r),n}catch(n){throw yield function h0(t){return nm.apply(this,arguments)}(t),n}}),f0.apply(this,arguments)}function p0(t,e){return g0.apply(this,arguments)}function g0(){return(g0=(0,Y.Z)(function*(t,e){const r={token:yield o1(t,e),createTime:Date.now(),subscriptionOptions:e};return yield Jg(t,r),r.token})).apply(this,arguments)}function db(){return(db=(0,Y.Z)(function*(t,e){return(yield t.pushManager.getSubscription())||t.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:ol(e)})})).apply(this,arguments)}function d1(t){const e={from:t.from,collapseKey:t.collapse_key,messageId:t.fcmMessageId};return function yk(t,e){if(!e.notification)return;t.notification={};const n=e.notification.title;n&&(t.notification.title=n);const r=e.notification.body;r&&(t.notification.body=r);const i=e.notification.image;i&&(t.notification.image=i);const a=e.notification.icon;a&&(t.notification.icon=a)}(e,t),function hb(t,e){e.data&&(t.data=e.data)}(e,t),function rm(t,e){var n,r,i,a,c;if(!(e.fcmOptions||null!==(n=e.notification)&&void 0!==n&&n.click_action))return;t.fcmOptions={};const f=null!==(i=null===(r=e.fcmOptions)||void 0===r?void 0:r.link)&&void 0!==i?i:null===(a=e.notification)||void 0===a?void 0:a.click_action;f&&(t.fcmOptions.link=f);const y=null===(c=e.fcmOptions)||void 0===c?void 0:c.analytics_label;y&&(t.fcmOptions.analyticsLabel=y)}(e,t),e}function fb(t,e){const n=[];for(let r=0;r<t.length;r++)n.push(t.charAt(r)),r<e.length&&n.push(e.charAt(r));return n.join("")}function Fu(t){return Un.create("missing-app-config-values",{valueName:t})}fb("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),fb("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class f1{constructor(e,n,r){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const i=function pb(t){if(!t||!t.options)throw Fu("App Configuration Object");if(!t.name)throw Fu("App Name");const e=["projectId","apiKey","appId","messagingSenderId"],{options:n}=t;for(const r of e)if(!n[r])throw Fu(r);return{appName:t.name,projectId:n.projectId,apiKey:n.apiKey,appId:n.appId,senderId:n.messagingSenderId}}(e);this.firebaseDependencies={app:e,appConfig:i,installations:n,analyticsProvider:r}}_delete(){return Promise.resolve()}}function m0(){return(m0=(0,Y.Z)(function*(t){try{t.swRegistration=yield navigator.serviceWorker.register(t0,{scope:Ou}),t.swRegistration.update().catch(()=>{})}catch(e){throw Un.create("failed-service-worker-registration",{browserErrorMessage:e?.message})}})).apply(this,arguments)}function mb(){return(mb=(0,Y.Z)(function*(t,e){if(!e&&!t.swRegistration&&(yield function gb(t){return m0.apply(this,arguments)}(t)),e||!t.swRegistration){if(!(e instanceof ServiceWorkerRegistration))throw Un.create("invalid-sw-registration");t.swRegistration=e}})).apply(this,arguments)}function im(){return(im=(0,Y.Z)(function*(t,e){e?t.vapidKey=e:t.vapidKey||(t.vapidKey=sb)})).apply(this,arguments)}function y0(){return y0=(0,Y.Z)(function*(t,e){if(!navigator)throw Un.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw Un.create("permission-blocked");return yield function g1(t,e){return im.apply(this,arguments)}(t,e?.vapidKey),yield function p1(t,e){return mb.apply(this,arguments)}(t,e?.serviceWorkerRegistration),function c1(t){return d0.apply(this,arguments)}(t)}),y0.apply(this,arguments)}function _0(){return(_0=(0,Y.Z)(function*(t,e,n){const r=function _b(t){switch(t){case Ah.NOTIFICATION_CLICKED:return"notification_open";case Ah.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}(e);(yield t.firebaseDependencies.analyticsProvider.get()).logEvent(r,{message_id:n[Pu],message_name:n[pk],message_time:n[n0],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function sm(){return sm=(0,Y.Z)(function*(t,e){const n=e.data;if(!n.isFirebaseMessaging)return;t.onMessageHandler&&n.messageType===Ah.PUSH_RECEIVED&&("function"==typeof t.onMessageHandler?t.onMessageHandler(d1(n)):t.onMessageHandler.next(d1(n)));const r=n.data;(function h1(t){return"object"==typeof t&&!!t&&Pu in t})(r)&&"1"===r["google.c.a.e"]&&(yield function Mh(t,e,n){return _0.apply(this,arguments)}(t,n.messageType,r))}),sm.apply(this,arguments)}const vb="@firebase/messaging",y1=t=>{const e=new f1(t.getProvider("app").getImmediate(),t.getProvider("installations-internal").getImmediate(),t.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",n=>function m1(t,e){return sm.apply(this,arguments)}(e,n)),e},w0=t=>{const e=t.getProvider("messaging").getImmediate();return{getToken:r=>function yb(t,e){return y0.apply(this,arguments)}(e,r)}};function E0(){return om.apply(this,arguments)}function om(){return(om=(0,Y.Z)(function*(){try{yield(0,wt.eu)()}catch{return!1}return typeof window<"u"&&(0,wt.hl)()&&(0,wt.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function _1(){(0,Nt._registerComponent)(new Yr.wA("messaging",y1,"PUBLIC")),(0,Nt._registerComponent)(new Yr.wA("messaging-internal",w0,"PRIVATE")),(0,Nt.registerVersion)(vb,"0.12.4"),(0,Nt.registerVersion)(vb,"0.12.4","esm2017")}();const um="analytics",E1="firebase_id",I1="origin",D1=6e4,b1="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",D0="https://www.googletagmanager.com/gtag/js",nr=new Qr.Yd("@firebase/analytics"),Jr=new wt.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."});function C1(t){if(!t.startsWith(D0)){const e=Jr.create("invalid-gtag-resource",{gtagURL:t});return nr.warn(e.message),""}return t}function b0(t){return Promise.all(t.map(e=>e.catch(n=>n)))}function xh(){return(xh=(0,Y.Z)(function*(t,e,n,r,i,a){const c=r[i];try{if(c)yield e[c];else{const y=(yield b0(n)).find(v=>v.measurementId===i);y&&(yield e[y.appId])}}catch(f){nr.error(f)}t("config",i,a)})).apply(this,arguments)}function cm(){return(cm=(0,Y.Z)(function*(t,e,n,r,i){try{let a=[];if(i&&i.send_to){let c=i.send_to;Array.isArray(c)||(c=[c]);const f=yield b0(n);for(const y of c){const v=f.find(T=>T.measurementId===y),b=v&&e[v.appId];if(!b){a=[];break}a.push(b)}}0===a.length&&(a=Object.values(e)),yield Promise.all(a),t("event",r,i||{})}catch(a){nr.error(a)}})).apply(this,arguments)}const S0=30,Sa=new class Ib{constructor(e={},n=1e3){this.throttleMetadata=e,this.intervalMillis=n}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,n){this.throttleMetadata[e]=n}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}};function Db(t){return new Headers({Accept:"application/json","x-goog-api-key":t})}function bb(){return(bb=(0,Y.Z)(function*(t){var e;const{appId:n,apiKey:r}=t,i={method:"GET",headers:Db(r)},a=b1.replace("{app-id}",n),c=yield fetch(a,i);if(200!==c.status&&304!==c.status){let f="";try{const y=yield c.json();null!==(e=y.error)&&void 0!==e&&e.message&&(f=y.error.message)}catch{}throw Jr.create("config-fetch-failed",{httpStatus:c.status,responseMessage:f})}return c.json()})).apply(this,arguments)}function Nh(){return(Nh=(0,Y.Z)(function*(t,e=Sa,n){const{appId:r,apiKey:i,measurementId:a}=t.options;if(!r)throw Jr.create("no-app-id");if(!i){if(a)return{measurementId:a,appId:r};throw Jr.create("no-api-key")}const c=e.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},f=new Sb;return setTimeout((0,Y.Z)(function*(){f.abort()}),void 0!==n?n:D1),Cb({appId:r,apiKey:i,measurementId:a},c,f,e)})).apply(this,arguments)}function Cb(t,e,n){return lm.apply(this,arguments)}function lm(){return lm=(0,Y.Z)(function*(t,{throttleEndTimeMillis:e,backoffCount:n},r,i=Sa){var a;const{appId:c,measurementId:f}=t;try{yield function Tb(t,e){return new Promise((n,r)=>{const i=Math.max(e-Date.now(),0),a=setTimeout(n,i);t.addEventListener(()=>{clearTimeout(a),r(Jr.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}(r,e)}catch(y){if(f)return nr.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${f} provided in the "measurementId" field in the local Firebase config. [${y?.message}]`),{appId:c,measurementId:f};throw y}try{const y=yield function O1(t){return bb.apply(this,arguments)}(t);return i.deleteThrottleMetadata(c),y}catch(y){const v=y;if(!function P1(t){if(!(t instanceof wt.ZR&&t.customData))return!1;const e=Number(t.customData.httpStatus);return 429===e||500===e||503===e||504===e}(v)){if(i.deleteThrottleMetadata(c),f)return nr.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${f} provided in the "measurementId" field in the local Firebase config. [${v?.message}]`),{appId:c,measurementId:f};throw y}const b=503===Number(null===(a=v?.customData)||void 0===a?void 0:a.httpStatus)?(0,wt.$s)(n,i.intervalMillis,S0):(0,wt.$s)(n,i.intervalMillis),T={throttleEndTimeMillis:Date.now()+b,backoffCount:n+1};return i.setThrottleMetadata(c,T),nr.debug(`Calling attemptFetch again in ${b} millis`),Cb(t,T,r,i)}}),lm.apply(this,arguments)}class Sb{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}let Rh,R0;function dm(){return(dm=(0,Y.Z)(function*(t,e,n,r,i){if(i&&i.global)t("event",n,r);else{const a=yield e;t("event",n,Object.assign(Object.assign({},r),{send_to:a}))}})).apply(this,arguments)}function O0(){return(O0=(0,Y.Z)(function*(){if(!(0,wt.hl)())return nr.warn(Jr.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,wt.eu)()}catch(t){return nr.warn(Jr.create("indexeddb-unavailable",{errorInfo:t?.toString()}).message),!1}return!0})).apply(this,arguments)}function fm(){return fm=(0,Y.Z)(function*(t,e,n,r,i,a,c){var f;const y=function A0(t){return Nh.apply(this,arguments)}(t);y.then(O=>{n[O.measurementId]=O.appId,t.options.measurementId&&O.measurementId!==t.options.measurementId&&nr.warn(`The measurement ID in the local Firebase config (${t.options.measurementId}) does not match the measurement ID fetched from the server (${O.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(O=>nr.error(O)),e.push(y);const v=function V1(){return O0.apply(this,arguments)}().then(O=>{if(O)return r.getId()}),[b,T]=yield Promise.all([y,v]);(function N1(t){const e=window.document.getElementsByTagName("script");for(const n of Object.values(e))if(n.src&&n.src.includes(D0)&&n.src.includes(t))return n;return null})(a)||function S1(t,e){const n=function T1(t,e){let n;return window.trustedTypes&&(n=window.trustedTypes.createPolicy(t,e)),n}("firebase-js-sdk-policy",{createScriptURL:C1}),r=document.createElement("script"),i=`${D0}?l=${t}&id=${e}`;r.src=n?n?.createScriptURL(i):i,r.async=!0,document.head.appendChild(r)}(a,b.measurementId),R0&&(i("consent","default",R0),function L1(t){R0=t}(void 0)),i("js",new Date);const N=null!==(f=c?.config)&&void 0!==f?f:{};return N[I1]="firebase",N.update=!0,null!=T&&(N[E1]=T),i("config",b.measurementId,N),Rh&&(i("set",Rh),function Ob(t){Rh=t}(void 0)),b.measurementId}),fm.apply(this,arguments)}class B1{constructor(e){this.app=e}_delete(){return delete so[this.app.options.appId],Promise.resolve()}}let so={},Pb=[];const kb={};let Lb,Ci,pm="dataLayer",gm=!1;function Ub(t,e,n){!function Vb(){const t=[];if((0,wt.ru)()&&t.push("This is a browser extension environment."),(0,wt.zI)()||t.push("Cookies are not available."),t.length>0){const e=t.map((r,i)=>`(${i+1}) ${r}`).join(" "),n=Jr.create("invalid-analytics-context",{errorInfo:e});nr.warn(n.message)}}();const r=t.options.appId;if(!r)throw Jr.create("no-app-id");if(!t.options.apiKey){if(!t.options.measurementId)throw Jr.create("no-api-key");nr.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${t.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=so[r])throw Jr.create("already-exists",{id:r});if(!gm){!function A1(t){let e=[];Array.isArray(window[t])?e=window[t]:window[t]=e}(pm);const{wrappedGtag:a,gtagCore:c}=function x1(t,e,n,r,i){let a=function(...c){window[r].push(arguments)};return window[i]&&"function"==typeof window[i]&&(a=window[i]),window[i]=function T0(t,e,n,r){function a(){return a=(0,Y.Z)(function*(c,...f){try{if("event"===c){const[y,v]=f;yield function C0(t,e,n,r,i){return cm.apply(this,arguments)}(t,e,n,y,v)}else if("config"===c){const[y,v]=f;yield function M1(t,e,n,r,i,a){return xh.apply(this,arguments)}(t,e,n,r,y,v)}else if("consent"===c){const[y]=f;t("consent","update",y)}else if("get"===c){const[y,v,b]=f;t("get",y,v,b)}else if("set"===c){const[y]=f;t("set",y)}else t(c,...f)}catch(y){nr.error(y)}}),a.apply(this,arguments)}return function i(c){return a.apply(this,arguments)}}(a,t,e,n),{gtagCore:a,wrappedGtag:window[i]}}(so,Pb,kb,pm,"gtag");Ci=a,Lb=c,gm=!0}return so[r]=function U1(t,e,n,r,i,a,c){return fm.apply(this,arguments)}(t,Pb,kb,e,Lb,pm,n),new B1(t)}function H1(){return jb.apply(this,arguments)}function jb(){return(jb=(0,Y.Z)(function*(){if((0,wt.ru)()||!(0,wt.zI)()||!(0,wt.hl)())return!1;try{return yield(0,wt.eu)()}catch{return!1}})).apply(this,arguments)}const Hb="@firebase/analytics";!function q1(){(0,Nt._registerComponent)(new Yr.wA(um,(e,{options:n})=>Ub(e.getProvider("app").getImmediate(),e.getProvider("installations-internal").getImmediate(),n),"PUBLIC")),(0,Nt._registerComponent)(new Yr.wA("analytics-internal",function t(e){try{const n=e.getProvider(um).getImmediate();return{logEvent:(r,i,a)=>function z1(t,e,n,r){t=(0,wt.m9)(t),function Ab(t,e,n,r,i){return dm.apply(this,arguments)}(Ci,so[t.app.options.appId],e,n,r).catch(i=>nr.error(i))}(n,r,i,a)}}catch(n){throw Jr.create("interop-component-reg-failed",{reason:n})}},"PRIVATE")),(0,Nt.registerVersion)(Hb,"0.10.0"),(0,Nt.registerVersion)(Hb,"0.10.0","esm2017")}();class Ck extends aa.w0{constructor(e,n){super()}schedule(e,n=0){return this}}const Aa={setInterval(t,e,...n){const{delegate:r}=Aa;return r?.setInterval?r.setInterval(t,e,...n):setInterval(t,e,...n)},clearInterval(t){const{delegate:e}=Aa;return(e?.clearInterval||clearInterval)(t)},delegate:void 0};var W1=R(9039);class zb extends Ck{constructor(e,n){super(e,n),this.scheduler=e,this.work=n,this.pending=!1}schedule(e,n=0){var r;if(this.closed)return this;this.state=e;const i=this.id,a=this.scheduler;return null!=i&&(this.id=this.recycleAsyncId(a,i,n)),this.pending=!0,this.delay=n,this.id=null!==(r=this.id)&&void 0!==r?r:this.requestAsyncId(a,this.id,n),this}requestAsyncId(e,n,r=0){return Aa.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,n,r=0){if(null!=r&&this.delay===r&&!1===this.pending)return n;null!=n&&Aa.clearInterval(n)}execute(e,n){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const r=this._execute(e,n);if(r)return r;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,n){let i,r=!1;try{this.work(e)}catch(a){r=!0,i=a||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){const{id:e,scheduler:n}=this,{actions:r}=n;this.work=this.state=this.scheduler=null,this.pending=!1,(0,W1.P)(r,this),null!=e&&(this.id=this.recycleAsyncId(n,e,null)),this.delay=null,super.unsubscribe()}}}class Ma{constructor(e,n=Ma.now){this.schedulerActionCtor=e,this.now=n}schedule(e,n=0,r){return new this.schedulerActionCtor(this,e).schedule(r,n)}}Ma.now=Cu.now;class P0 extends Ma{constructor(e,n=Ma.now){super(e,n),this.actions=[],this._active=!1}flush(e){const{actions:n}=this;if(this._active)return void n.push(e);let r;this._active=!0;do{if(r=e.execute(e.state,e.delay))break}while(e=n.shift());if(this._active=!1,r){for(;e=n.shift();)e.unsubscribe();throw r}}}const Gb=new class K1 extends P0{}(class Z1 extends zb{constructor(e,n){super(e,n),this.scheduler=e,this.work=n}schedule(e,n=0){return n>0?super.schedule(e,n):(this.delay=n,this.state=e,this.scheduler.flush(this),this)}execute(e,n){return n>0||this.closed?super.execute(e,n):this._execute(e,n)}requestAsyncId(e,n,r=0){return null!=r&&r>0||null==r&&this.delay>0?super.requestAsyncId(e,n,r):(e.flush(this),0)}}),Y1=new P0(zb),Oh=new h.GfV("7.6.1"),F0="__angularfire_symbol__analyticsIsSupportedValue",L0="__angularfire_symbol__analyticsIsSupported",_m="__angularfire_symbol__remoteConfigIsSupportedValue",dl="__angularfire_symbol__remoteConfigIsSupported",V0="__angularfire_symbol__messagingIsSupportedValue",U0="__angularfire_symbol__messagingIsSupported";function B0(t,e,n){if(e){if(1===e.length)return e[0];const a=e.filter(c=>c.app===n);if(1===a.length)return a[0]}return n.container.getProvider(t).getImmediate({optional:!0})}globalThis[L0]||(globalThis[L0]=H1().then(t=>globalThis[F0]=t).catch(()=>globalThis[F0]=!1)),globalThis[U0]||(globalThis[U0]=E0().then(t=>globalThis[V0]=t).catch(()=>globalThis[V0]=!1)),globalThis[dl]||(globalThis[dl]=YM().then(t=>globalThis[_m]=t).catch(()=>globalThis[_m]=!1));const wm=(t,e)=>{const n=e?[e]:(0,Nt.getApps)(),r=[];return n.forEach(i=>{i.container.getProvider(t).instances.forEach(c=>{r.includes(c)||r.push(c)})}),r};function Lu(){}class Wb{constructor(e,n=Gb){this.zone=e,this.delegate=n}now(){return this.delegate.now()}schedule(e,n,r){const i=this.zone;return this.delegate.schedule(function(c){i.runGuarded(()=>{e.apply(this,[c])})},n,r)}}class X1{constructor(e){this.zone=e,this.task=null}call(e,n){const r=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Lu,{},Lu,Lu)),n.pipe(In({next:r,complete:r,error:r})).subscribe(e).add(r)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let hl=(()=>{class t{constructor(n){this.ngZone=n,this.outsideAngular=n.runOutsideAngular(()=>new Wb(Zone.current)),this.insideAngular=n.run(()=>new Wb(Zone.current,Y1)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return t.\u0275fac=function(n){return new(n||t)(h.LFG(h.R0b))},t.\u0275prov=h.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function No(){const t=globalThis.\u0275AngularFireScheduler;if(!t)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return t}function Ro(t){return No().ngZone.run(()=>t())}function Yb(t){return No(),function ex(t){return function(n){return(n=n.lift(new X1(t.ngZone))).pipe((0,Su.R)(t.outsideAngular),(0,Kr.Q)(t.insideAngular))}}(No())(t)}const tx=(t,e)=>function(){const r=arguments;return e&&setTimeout(()=>{"scheduled"===e.state&&e.invoke()},10),Ro(()=>t.apply(void 0,r))},Ti=(t,e)=>function(){let n;const r=arguments;for(let a=0;a<arguments.length;a++)"function"==typeof r[a]&&(e&&(n||(n=Ro(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Lu,{},Lu,Lu)))),r[a]=tx(r[a],n));const i=function Zb(t){return No().ngZone.runOutsideAngular(()=>t())}(()=>t.apply(this,r));if(!e){if(i instanceof _i.y){const a=No();return i.pipe((0,Su.R)(a.outsideAngular),(0,Kr.Q)(a.insideAngular))}return Ro(()=>i)}return i instanceof _i.y?i.pipe(Yb):i instanceof Promise?Ro(()=>new Promise((a,c)=>i.then(f=>Ro(()=>a(f)),f=>Ro(()=>c(f))))):"function"==typeof i&&n?function(){return setTimeout(()=>{n&&"scheduled"===n.state&&n.invoke()},10),i.apply(this,arguments)}:Ro(()=>i)};var Oo=R(6304);class Vu{constructor(e){return e}}class j0{constructor(){return(0,Nt.getApps)()}}const $0=new h.OlP("angularfire2._apps"),Jb={provide:Vu,useFactory:function Qb(t){return t&&1===t.length?t[0]:new Vu((0,Nt.getApp)())},deps:[[new h.FiY,$0]]},Xb={provide:j0,deps:[[new h.FiY,$0]]};function rx(t){return(e,n)=>{const r=e.runOutsideAngular(()=>t(n));return new Vu(r)}}let eC=(()=>{class t{constructor(n){(0,Nt.registerVersion)("angularfire",Oh.full,"core"),(0,Nt.registerVersion)("angularfire",Oh.full,"app"),(0,Nt.registerVersion)("angular",h.q4F.full,n.toString())}}return t.\u0275fac=function(n){return new(n||t)(h.LFG(h.Lbi))},t.\u0275mod=h.oAB({type:t}),t.\u0275inj=h.cJS({providers:[Jb,Xb]}),t})();function tC(t,...e){return{ngModule:eC,providers:[{provide:$0,useFactory:rx(t),multi:!0,deps:[h.R0b,h.zs3,hl,...e]}]}}const ix=Ti(Nt.initializeApp,!0),kh=new Map,ox={activated:!1,tokenObservers:[]},Mk={initialized:!1,enabled:!1};function Bn(t){return kh.get(t)||Object.assign({},ox)}function Em(){return Mk}const Lh="https://content-firebaseappcheck.googleapis.com/v1",ux="exchangeDebugToken",rC={OFFSET_DURATION:3e5,RETRIAL_MIN_WAIT:3e4,RETRIAL_MAX_WAIT:96e4};class H0{constructor(e,n,r,i,a){if(this.operation=e,this.retryPolicy=n,this.getWaitDuration=r,this.lowerBound=i,this.upperBound=a,this.pending=null,this.nextErrorWaitInterval=i,i>a)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){var n=this;return(0,Y.Z)(function*(){n.stop();try{n.pending=new wt.BH,yield function iC(t){return new Promise(e=>{setTimeout(e,t)})}(n.getNextRun(e)),n.pending.resolve(),yield n.pending.promise,n.pending=new wt.BH,yield n.operation(),n.pending.resolve(),yield n.pending.promise,n.process(!0).catch(()=>{})}catch(r){n.retryPolicy(r)?n.process(!1).catch(()=>{}):n.stop()}})()}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const n=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),n}}}const Gn=new wt.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function sC(t){if(!Bn(t).activated)throw Gn.create("use-before-activation",{appName:t.name})}function Vh(t,e){return xa.apply(this,arguments)}function xa(){return(xa=(0,Y.Z)(function*({url:t,body:e},n){const r={"Content-Type":"application/json"},i=n.getImmediate({optional:!0});if(i){const T=yield i.getHeartbeatsHeader();T&&(r["X-Firebase-Client"]=T)}const a={method:"POST",body:JSON.stringify(e),headers:r};let c,f;try{c=yield fetch(t,a)}catch(T){throw Gn.create("fetch-network-error",{originalErrorMessage:T?.message})}if(200!==c.status)throw Gn.create("fetch-status-error",{httpStatus:c.status});try{f=yield c.json()}catch(T){throw Gn.create("fetch-parse-error",{originalErrorMessage:T?.message})}const y=f.ttl.match(/^([\d.]+)(s)$/);if(!y||!y[2]||isNaN(Number(y[1])))throw Gn.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${f.ttl}`});const v=1e3*Number(y[1]),b=Date.now();return{token:f.token,expireTimeMillis:b+v,issuedAtTimeMillis:b}})).apply(this,arguments)}function bm(t,e){const{projectId:n,appId:r,apiKey:i}=t.options;return{url:`${Lh}/projects/${n}/apps/${r}:${ux}?key=${i}`,body:{debug_token:e}}}const xk="firebase-app-check-database",hx=1,Cm="firebase-app-check-store";let Tm=null;function G0(){return(G0=(0,Y.Z)(function*(t,e){const r=(yield function uC(){return Tm||(Tm=new Promise((t,e)=>{try{const n=indexedDB.open(xk,hx);n.onsuccess=r=>{t(r.target.result)},n.onerror=r=>{var i;e(Gn.create("storage-open",{originalErrorMessage:null===(i=r.target.error)||void 0===i?void 0:i.message}))},n.onupgradeneeded=r=>{0===r.oldVersion&&r.target.result.createObjectStore(Cm,{keyPath:"compositeKey"})}}catch(n){e(Gn.create("storage-open",{originalErrorMessage:n?.message}))}}),Tm)}()).transaction(Cm,"readwrite"),a=r.objectStore(Cm).put({compositeKey:t,value:e});return new Promise((c,f)=>{a.onsuccess=y=>{c()},r.onerror=y=>{var v;f(Gn.create("storage-set",{originalErrorMessage:null===(v=y.target.error)||void 0===v?void 0:v.message}))}})})).apply(this,arguments)}const pl=new Qr.Yd("@firebase/app-check");function Mm(t,e){return(0,wt.hl)()?function lC(t,e){return function z0(t,e){return G0.apply(this,arguments)}(function fC(t){return`${t.options.appId}-${t.name}`}(t),e)}(t,e).catch(n=>{pl.warn(`Failed to write token to IndexedDB. Error: ${n}`)}):Promise.resolve()}function gC(){return Em().enabled}function xm(){return mC.apply(this,arguments)}function mC(){return(mC=(0,Y.Z)(function*(){const t=Em();if(t.enabled&&t.token)return t.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}const Rk={error:"UNKNOWN_ERROR"};function Ok(t){return wt.US.encodeString(JSON.stringify(t),!1)}function W0(t){return yC.apply(this,arguments)}function yC(){return(yC=(0,Y.Z)(function*(t,e=!1){const n=t.app;sC(n);const r=Bn(n);let a,i=r.token;if(i&&!Po(i)&&(r.token=void 0,i=void 0),!i){const y=yield r.cachedTokenPromise;y&&(Po(y)?i=y:yield Mm(n,void 0))}if(!e&&i&&Po(i))return{token:i.token};let f,c=!1;if(gC()){r.exchangeTokenPromise||(r.exchangeTokenPromise=Vh(bm(n,yield xm()),t.heartbeatServiceProvider).finally(()=>{r.exchangeTokenPromise=void 0}),c=!0);const y=yield r.exchangeTokenPromise;return yield Mm(n,y),r.token=y,{token:y.token}}try{r.exchangeTokenPromise||(r.exchangeTokenPromise=r.provider.getToken().finally(()=>{r.exchangeTokenPromise=void 0}),c=!0),i=yield Bn(n).exchangeTokenPromise}catch(y){"appCheck/throttled"===y.code?pl.warn(y.message):pl.error(y),a=y}return i?a?f=Po(i)?{token:i.token,internalError:a}:IC(a):(f={token:i.token},r.token=i,yield Mm(n,i)):f=IC(a),c&&function EC(t,e){const n=Bn(t).tokenObservers;for(const r of n)try{"EXTERNAL"===r.type&&null!=e.error?r.error(e.error):r.next(e)}catch{}}(n,f),f})).apply(this,arguments)}function gx(t){return _C.apply(this,arguments)}function _C(){return(_C=(0,Y.Z)(function*(t){const e=t.app;sC(e);const{provider:n}=Bn(e);if(gC()){const r=yield xm(),{token:i}=yield Vh(bm(e,r),t.heartbeatServiceProvider);return{token:i}}{const{token:r}=yield n.getToken();return{token:r}}})).apply(this,arguments)}function Nm(t,e){const n=Bn(t),r=n.tokenObservers.filter(i=>i.next!==e);0===r.length&&n.tokenRefresher&&n.tokenRefresher.isRunning()&&n.tokenRefresher.stop(),n.tokenObservers=r}function Rm(t){const{app:e}=t,n=Bn(e);let r=n.tokenRefresher;r||(r=function wC(t){const{app:e}=t;return new H0((0,Y.Z)(function*(){let r;if(r=Bn(e).token?yield W0(t,!0):yield W0(t),r.error)throw r.error;if(r.internalError)throw r.internalError}),()=>!0,()=>{const n=Bn(e);if(n.token){let r=n.token.issuedAtTimeMillis+.5*(n.token.expireTimeMillis-n.token.issuedAtTimeMillis)+3e5;return r=Math.min(r,n.token.expireTimeMillis-3e5),Math.max(0,r-Date.now())}return 0},rC.RETRIAL_MIN_WAIT,rC.RETRIAL_MAX_WAIT)}(t),n.tokenRefresher=r),!r.isRunning()&&n.isTokenAutoRefreshEnabled&&r.start()}function Po(t){return t.expireTimeMillis-Date.now()>0}function IC(t){return{token:Ok(Rk),error:t}}class Pk{constructor(e,n){this.app=e,this.heartbeatServiceProvider=n}_delete(){const{tokenObservers:e}=Bn(this.app);for(const n of e)Nm(this.app,n.next);return Promise.resolve()}}const MC="app-check-internal";!function Tx(){(0,Nt._registerComponent)(new Yr.wA("app-check",t=>function kk(t,e){return new Pk(t,e)}(t.getProvider("app").getImmediate(),t.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,e,n)=>{t.getProvider(MC).initialize()})),(0,Nt._registerComponent)(new Yr.wA(MC,t=>function mx(t){return{getToken:e=>W0(t,e),getLimitedUseToken:()=>gx(t),addTokenListener:e=>function vC(t,e,n,r){const{app:i}=t,a=Bn(i);if(a.tokenObservers=[...a.tokenObservers,{next:n,error:r,type:e}],a.token&&Po(a.token)){const f=a.token;Promise.resolve().then(()=>{n({token:f.token}),Rm(t)}).catch(()=>{})}a.cachedTokenPromise.then(()=>Rm(t))}(t,"INTERNAL",e),removeTokenListener:e=>Nm(t.app,e)}}(t.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,Nt.registerVersion)("@firebase/app-check","0.8.0")}();class J0{constructor(){return wm("app-check")}}typeof window<"u"&&window,R(7142);const Px=new h.OlP("angularfire2.auth.use-emulator"),NC=new h.OlP("angularfire2.auth.settings"),zk=new h.OlP("angularfire2.auth.tenant-id"),RC=new h.OlP("angularfire2.auth.langugage-code"),kx=new h.OlP("angularfire2.auth.use-device-language"),OC=new h.OlP("angularfire.auth.persistence");let Fm=(()=>{class t{constructor(n,r,i,a,c,f,y,v,b,T,N,O){const $=new Vn.x,Q=(0,lt.of)(void 0).pipe((0,Kr.Q)(c.outsideAngular),(0,Sn.w)(()=>a.runOutsideAngular(()=>R.e(365).then(R.bind(R,6365)))),(0,Zt.U)(()=>(0,Oo.on)(n,a,r)),(0,Zt.U)(ae=>((t,e,n,r,i,a,c,f)=>(0,Oo.cc)(`${t.name}.auth`,"AngularFireAuth",t.name,()=>{const y=e.runOutsideAngular(()=>t.auth());if(n&&y.useEmulator(...n),r&&(y.tenantId=r),y.languageCode=i,a&&y.useDeviceLanguage(),c)for(const[v,b]of Object.entries(c))y.settings[v]=b;return f&&y.setPersistence(f),y},[n,r,i,a,c,f]))(ae,a,f,v,b,T,y,N)),yh({bufferSize:1,refCount:!1}));if(di(i))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=(0,lt.of)(null);else{Q.pipe(Hi()).subscribe();const Ae=Q.pipe((0,Sn.w)(Je=>Je.getRedirectResult().then(Ot=>Ot,()=>null)),Yb,yh({bufferSize:1,refCount:!1})),je=Q.pipe((0,Sn.w)(Je=>new _i.y(Ot=>({unsubscribe:a.runOutsideAngular(()=>Je.onAuthStateChanged(Pt=>Ot.next(Pt),Pt=>Ot.error(Pt),()=>Ot.complete()))})))),We=Q.pipe((0,Sn.w)(Je=>new _i.y(Ot=>({unsubscribe:a.runOutsideAngular(()=>Je.onIdTokenChanged(Pt=>Ot.next(Pt),Pt=>Ot.error(Pt),()=>Ot.complete()))}))));this.authState=Ae.pipe(Wi(je),(0,Su.R)(c.outsideAngular),(0,Kr.Q)(c.insideAngular)),this.user=Ae.pipe(Wi(We),(0,Su.R)(c.outsideAngular),(0,Kr.Q)(c.insideAngular)),this.idToken=this.user.pipe((0,Sn.w)(Je=>Je?(0,On.D)(Je.getIdToken()):(0,lt.of)(null))),this.idTokenResult=this.user.pipe((0,Sn.w)(Je=>Je?(0,On.D)(Je.getIdTokenResult()):(0,lt.of)(null))),this.credential=(0,vM.T)(Ae,$,this.authState.pipe(Gr(Je=>!Je))).pipe((0,Zt.U)(Je=>Je?.user?Je:null),(0,Su.R)(c.outsideAngular),(0,Kr.Q)(c.insideAngular))}return(0,Oo.pX)(this,Q,a,{spy:{apply:(ae,Ae,je)=>{(ae.startsWith("signIn")||ae.startsWith("createUser"))&&je.then(We=>$.next(We))}}})}}return t.\u0275fac=function(n){return new(n||t)(h.LFG(Oo.Dh),h.LFG(Oo.xv,8),h.LFG(h.Lbi),h.LFG(h.R0b),h.LFG(hl),h.LFG(Px,8),h.LFG(NC,8),h.LFG(zk,8),h.LFG(RC,8),h.LFG(kx,8),h.LFG(OC,8),h.LFG(J0,8))},t.\u0275prov=h.Yz7({token:t,factory:t.\u0275fac,providedIn:"any"}),t})();var PC=R(6878);class Lm{constructor(e){return e}}class tw{constructor(){return wm("auth")}}const gl=new h.OlP("angularfire2.auth-instances");function LC(t){return(e,n)=>{const r=e.runOutsideAngular(()=>t(n));return new Lm(r)}}const Lx={provide:tw,deps:[[new h.FiY,gl]]},Vx={provide:Lm,useFactory:function FC(t,e){const n=B0("auth",t,e);return n&&new Lm(n)},deps:[[new h.FiY,gl],Vu]};let qk=(()=>{class t{constructor(){(0,Nt.registerVersion)("angularfire",Oh.full,"auth")}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=h.oAB({type:t}),t.\u0275inj=h.cJS({providers:[Vx,Lx]}),t})();function VC(t,...e){return{ngModule:qk,providers:[{provide:gl,useFactory:LC(t),multi:!0,deps:[h.R0b,h.zs3,hl,j0,[new h.FiY,J0],...e]}]}}const Jk=Ti(PC.o,!0);var $e,GC=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},ks={},Vm=Vm||{},At=GC||self;function Um(t){var e=typeof t;return"array"==(e="object"!=e?e:t?Array.isArray(t)?"array":e:"null")||"object"==e&&"number"==typeof t.length}function Bu(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}var Bm="closure_uid_"+(1e9*Math.random()>>>0),Kx=0;function jm(t,e,n){return t.call.apply(t.bind,arguments)}function Yx(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),t.apply(e,i)}}return function(){return t.apply(e,arguments)}}function Pr(t,e,n){return(Pr=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?jm:Yx).apply(null,arguments)}function jh(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var r=n.slice();return r.push.apply(r,arguments),t.apply(this,r)}}function rr(t,e){function n(){}n.prototype=e.prototype,t.$=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.ac=function(r,i,a){for(var c=Array(arguments.length-2),f=2;f<arguments.length;f++)c[f-2]=arguments[f];return e.prototype[i].apply(r,c)}}function ju(){this.s=this.s,this.o=this.o}ju.prototype.s=!1,ju.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),0)&&function qC(t){Object.prototype.hasOwnProperty.call(t,Bm)&&t[Bm]||(t[Bm]=++Kx)}(this)},ju.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const Jx=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if("string"==typeof t)return"string"!=typeof e||1!=e.length?-1:t.indexOf(e,0);for(let n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1};function iw(t){const e=t.length;if(0<e){const n=Array(e);for(let r=0;r<e;r++)n[r]=t[r];return n}return[]}function Xx(t,e){for(let n=1;n<arguments.length;n++){const r=arguments[n];if(Um(r)){const i=t.length||0,a=r.length||0;t.length=i+a;for(let c=0;c<a;c++)t[i+c]=r[c]}else t.push(r)}}function Xr(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}Xr.prototype.h=function(){this.defaultPrevented=!0};var eN=function(){if(!At.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{At.addEventListener("test",()=>{},e),At.removeEventListener("test",()=>{},e)}catch{}return t}();function $h(t){return/^[\s\xa0]*$/.test(t)}function sw(){var t=At.navigator;return t&&(t=t.userAgent)?t:""}function ko(t){return-1!=sw().indexOf(t)}function WC(t){return WC[" "](t),t}WC[" "]=function(){};var ow,t,mF=ko("Opera"),yl=ko("Trident")||ko("MSIE"),tN=ko("Edge"),ZC=tN||yl,nN=ko("Gecko")&&!(-1!=sw().toLowerCase().indexOf("webkit")&&!ko("Edge"))&&!(ko("Trident")||ko("MSIE"))&&!ko("Edge"),yF=-1!=sw().toLowerCase().indexOf("webkit")&&!ko("Edge");function rN(){var t=At.document;return t?t.documentMode:void 0}e:{var KC="",s=(t=sw(),nN?/rv:([^\);]+)(\)|;)/.exec(t):tN?/Edge\/([\d\.]+)/.exec(t):yl?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t):yF?/WebKit\/(\S+)/.exec(t):mF?/(?:Version)[ \/]?(\S+)/.exec(t):void 0);if(s&&(KC=s?s[1]:""),yl){var o=rN();if(null!=o&&o>parseFloat(KC)){ow=String(o);break e}}ow=KC}var d=At.document&&yl&&(rN()||parseInt(ow,10))||void 0;function p(t,e){if(Xr.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(nN){e:{try{WC(e.nodeName);var i=!0;break e}catch{}i=!1}i||(e=null)}}else"mouseover"==n?e=t.fromElement:"mouseout"==n&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType="string"==typeof t.pointerType?t.pointerType:_[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&p.$.h.call(this)}}rr(p,Xr);var _={2:"touch",3:"pen",4:"mouse"};p.prototype.h=function(){p.$.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var w="closure_listenable_"+(1e6*Math.random()|0),D=0;function C(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.la=i,this.key=++D,this.fa=this.ia=!1}function A(t){t.fa=!0,t.listener=null,t.proxy=null,t.src=null,t.la=null}function x(t,e,n){for(const r in t)e.call(n,t[r],r,t)}function H(t){const e={};for(const n in t)e[n]=t[n];return e}const oe="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Ie(t,e){let n,r;for(let i=1;i<arguments.length;i++){for(n in r=arguments[i],r)t[n]=r[n];for(let a=0;a<oe.length;a++)n=oe[a],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function Ve(t){this.src=t,this.g={},this.h=0}function tt(t,e){var n=e.type;if(n in t.g){var a,r=t.g[n],i=Jx(r,e);(a=0<=i)&&Array.prototype.splice.call(r,i,1),a&&(A(e),0==t.g[n].length&&(delete t.g[n],t.h--))}}function pe(t,e,n,r){for(var i=0;i<t.length;++i){var a=t[i];if(!a.fa&&a.listener==e&&a.capture==!!n&&a.la==r)return i}return-1}Ve.prototype.add=function(t,e,n,r,i){var a=t.toString();(t=this.g[a])||(t=this.g[a]=[],this.h++);var c=pe(t,e,r,i);return-1<c?(e=t[c],n||(e.ia=!1)):((e=new C(e,this.src,a,!!r,i)).ia=n,t.push(e)),e};var gt="closure_lm_"+(1e6*Math.random()|0),Rt={};function en(t,e,n,r,i){if(r&&r.once)return $u(t,e,n,r,i);if(Array.isArray(e)){for(var a=0;a<e.length;a++)en(t,e[a],n,r,i);return null}return n=oN(n),t&&t[w]?t.O(e,n,Bu(r)?!!r.capture:!!r,i):ei(t,e,n,!1,r,i)}function ei(t,e,n,r,i,a){if(!e)throw Error("Invalid event type");var c=Bu(i)?!!i.capture:!!i,f=iN(t);if(f||(t[gt]=f=new Ve(t)),(n=f.add(e,n,r,c,a)).proxy)return n;if(r=function Fo(){const e=WB;return function t(n){return e.call(t.src,t.listener,n)}}(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)eN||(i=c),void 0===i&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(YC(e.toString()),r);else{if(!t.addListener||!t.removeListener)throw Error("addEventListener and attachEvent are unavailable.");t.addListener(r)}return n}function $u(t,e,n,r,i){if(Array.isArray(e)){for(var a=0;a<e.length;a++)$u(t,e[a],n,r,i);return null}return n=oN(n),t&&t[w]?t.P(e,n,Bu(r)?!!r.capture:!!r,i):ei(t,e,n,!0,r,i)}function $m(t,e,n,r,i){if(Array.isArray(e))for(var a=0;a<e.length;a++)$m(t,e[a],n,r,i);else r=Bu(r)?!!r.capture:!!r,n=oN(n),t&&t[w]?(t=t.i,(e=String(e).toString())in t.g&&-1<(n=pe(a=t.g[e],n,r,i))&&(A(a[n]),Array.prototype.splice.call(a,n,1),0==a.length&&(delete t.g[e],t.h--))):t&&(t=iN(t))&&(e=t.g[e.toString()],t=-1,e&&(t=pe(e,n,r,i)),(n=-1<t?e[t]:null)&&aw(n))}function aw(t){if("number"!=typeof t&&t&&!t.fa){var e=t.src;if(e&&e[w])tt(e.i,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(YC(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=iN(e))?(tt(n,t),0==n.h&&(n.src=null,e[gt]=null)):A(t)}}}function YC(t){return t in Rt?Rt[t]:Rt[t]="on"+t}function WB(t,e){if(t.fa)t=!0;else{e=new p(e,this);var n=t.listener,r=t.la||t.src;t.ia&&aw(t),t=n.call(r,e)}return t}function iN(t){return(t=t[gt])instanceof Ve?t:null}var sN="__closure_events_fn_"+(1e9*Math.random()>>>0);function oN(t){return"function"==typeof t?t:(t[sN]||(t[sN]=function(e){return t.handleEvent(e)}),t[sN])}function kr(){ju.call(this),this.i=new Ve(this),this.S=this,this.J=null}function ti(t,e){var n,r=t.J;if(r)for(n=[];r;r=r.J)n.push(r);if(t=t.S,r=e.type||e,"string"==typeof e)e=new Xr(e,t);else if(e instanceof Xr)e.target=e.target||t;else{var i=e;Ie(e=new Xr(r,t),i)}if(i=!0,n)for(var a=n.length-1;0<=a;a--){var c=e.g=n[a];i=QC(c,r,!0,e)&&i}if(i=QC(c=e.g=t,r,!0,e)&&i,i=QC(c,r,!1,e)&&i,n)for(a=0;a<n.length;a++)i=QC(c=e.g=n[a],r,!1,e)&&i}function QC(t,e,n,r){if(!(e=t.i.g[String(e)]))return!0;e=e.concat();for(var i=!0,a=0;a<e.length;++a){var c=e[a];if(c&&!c.fa&&c.capture==n){var f=c.listener,y=c.la||c.src;c.ia&&tt(t.i,c),i=!1!==f.call(y,r)&&i}}return i&&!r.defaultPrevented}rr(kr,ju),kr.prototype[w]=!0,kr.prototype.removeEventListener=function(t,e,n,r){$m(this,t,e,n,r)},kr.prototype.N=function(){if(kr.$.N.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)A(n[r]);delete t.g[e],t.h--}}this.J=null},kr.prototype.O=function(t,e,n,r){return this.i.add(String(t),e,!1,n,r)},kr.prototype.P=function(t,e,n,r){return this.i.add(String(t),e,!0,n,r)};var aN=At.JSON.stringify;function KB(){var t=uN;let e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}var _F=new class ZB{constructor(e,n){this.i=e,this.j=n,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}(()=>new QB,t=>t.reset());class QB{constructor(){this.next=this.g=this.h=null}set(e,n){this.h=e,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}}function JB(t){var e=1;t=t.split(":");const n=[];for(;0<e&&t.length;)n.push(t.shift()),e--;return t.length&&n.push(t.join(":")),n}function XB(t){At.setTimeout(()=>{throw t},0)}let uw,cw=!1,uN=new class YB{constructor(){this.h=this.g=null}add(e,n){const r=_F.get();r.set(e,n),this.h?this.h.next=r:this.g=r,this.h=r}},vF=()=>{const t=At.Promise.resolve(void 0);uw=()=>{t.then(ej)}};var ej=()=>{for(var t;t=KB();){try{t.h.call(t.g)}catch(n){XB(n)}var e=_F;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}cw=!1};function JC(t,e){kr.call(this),this.h=t||1,this.g=e||At,this.j=Pr(this.qb,this),this.l=Date.now()}function cN(t){t.ga=!1,t.T&&(t.g.clearTimeout(t.T),t.T=null)}function lN(t,e,n){if("function"==typeof t)n&&(t=Pr(t,n));else{if(!t||"function"!=typeof t.handleEvent)throw Error("Invalid listener argument");t=Pr(t.handleEvent,t)}return 2147483647<Number(e)?-1:At.setTimeout(t,e||0)}function wF(t){t.g=lN(()=>{t.g=null,t.i&&(t.i=!1,wF(t))},t.j);const e=t.h;t.h=null,t.m.apply(null,e)}rr(JC,kr),($e=JC.prototype).ga=!1,$e.T=null,$e.qb=function(){if(this.ga){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-t):(this.T&&(this.g.clearTimeout(this.T),this.T=null),ti(this,"tick"),this.ga&&(cN(this),this.start()))}},$e.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())},$e.N=function(){JC.$.N.call(this),cN(this),delete this.g};class tj extends ju{constructor(e,n){super(),this.m=e,this.j=n,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:wF(this)}N(){super.N(),this.g&&(At.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function lw(t){ju.call(this),this.h=t,this.g={}}rr(lw,ju);var EF=[];function IF(t,e,n,r){Array.isArray(n)||(n&&(EF[0]=n.toString()),n=EF);for(var i=0;i<n.length;i++){var a=en(e,n[i],r||t.handleEvent,!1,t.h||t);if(!a)break;t.g[a.key]=a}}function DF(t){x(t.g,function(e,n){this.g.hasOwnProperty(n)&&aw(e)},t),t.g={}}function XC(){this.g=!0}function Hm(t,e,n,r){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+function sj(t,e){if(!t.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n)for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var a=i[0];if("noop"!=a&&"stop"!=a&&"close"!=a)for(var c=1;c<i.length;c++)i[c]=""}}}return aN(n)}catch{return e}}(t,n)+(r?" "+r:"")})}lw.prototype.N=function(){lw.$.N.call(this),DF(this)},lw.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},XC.prototype.Ea=function(){this.g=!1},XC.prototype.info=function(){};var Hh={},bF=null;function eT(){return bF=bF||new kr}function CF(t){Xr.call(this,Hh.Ta,t)}function dw(t){const e=eT();ti(e,new CF(e))}function TF(t,e){Xr.call(this,Hh.STAT_EVENT,t),this.stat=e}function Ki(t){const e=eT();ti(e,new TF(e,t))}function SF(t,e){Xr.call(this,Hh.Ua,t),this.size=e}function hw(t,e){if("function"!=typeof t)throw Error("Fn must not be null and must be a function");return At.setTimeout(function(){t()},e)}Hh.Ta="serverreachability",rr(CF,Xr),Hh.STAT_EVENT="statevent",rr(TF,Xr),Hh.Ua="timingevent",rr(SF,Xr);var tT={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},AF={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function dN(){}function xF(){}dN.prototype.h=null;var pN,fw={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function hN(){Xr.call(this,"d")}function fN(){Xr.call(this,"c")}function nT(){}function pw(t,e,n,r){this.l=t,this.j=e,this.m=n,this.W=r||1,this.U=new lw(this),this.P=oj,this.V=new JC(t=ZC?125:void 0),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new NF}function NF(){this.i=null,this.g="",this.h=!1}rr(hN,Xr),rr(fN,Xr),rr(nT,dN),nT.prototype.g=function(){return new XMLHttpRequest},nT.prototype.i=function(){return{}},pN=new nT;var oj=45e3,gN={},rT={};function mN(t,e,n){t.L=1,t.v=aT(Hu(e)),t.s=n,t.S=!0,RF(t,null)}function RF(t,e){t.G=Date.now(),gw(t),t.A=Hu(t.v);var n=t.A,r=t.W;Array.isArray(r)||(r=[String(r)]),$F(n.i,"t",r),t.C=0,n=t.l.J,t.h=new NF,t.g=hL(t.l,n?e:null,!t.s),0<t.O&&(t.M=new tj(Pr(t.Pa,t,t.g),t.O)),IF(t.U,t.g,"readystatechange",t.nb),e=t.I?H(t.I):{},t.s?(t.u||(t.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.ha(t.A,t.u,t.s,e)):(t.u="GET",t.g.ha(t.A,t.u,null,e)),dw(),function nj(t,e,n,r,i,a){t.info(function(){if(t.g)if(a)for(var c="",f=a.split("&"),y=0;y<f.length;y++){var v=f[y].split("=");if(1<v.length){var b=v[0];v=v[1];var T=b.split("_");c=2<=T.length&&"type"==T[1]?c+(b+"=")+v+"&":c+(b+"=redacted&")}}else c=null;else c=a;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+"\n"+n+"\n"+c})}(t.j,t.u,t.A,t.m,t.W,t.s)}function OF(t){return!!t.g&&"GET"==t.u&&2!=t.L&&t.l.Ha}function PF(t,e,n){let i,r=!0;for(;!t.J&&t.C<n.length;){if(i=aj(t,n),i==rT){4==e&&(t.o=4,Ki(14),r=!1),Hm(t.j,t.m,null,"[Incomplete Response]");break}if(i==gN){t.o=4,Ki(15),Hm(t.j,t.m,n,"[Invalid Chunk]"),r=!1;break}Hm(t.j,t.m,i,null),yN(t,i)}OF(t)&&i!=rT&&i!=gN&&(t.h.g="",t.C=0),4!=e||0!=n.length||t.h.h||(t.o=1,Ki(16),r=!1),t.i=t.i&&r,r?0<n.length&&!t.ba&&(t.ba=!0,(e=t.l).g==t&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),bN(e),e.M=!0,Ki(11))):(Hm(t.j,t.m,n,"[Invalid Chunked Response]"),zh(t),mw(t))}function aj(t,e){var n=t.C,r=e.indexOf("\n",n);return-1==r?rT:(n=Number(e.substring(n,r)),isNaN(n)?gN:(r+=1)+n>e.length?rT:(e=e.slice(r,r+n),t.C=r+n,e))}function gw(t){t.Y=Date.now()+t.P,kF(t,t.P)}function kF(t,e){if(null!=t.B)throw Error("WatchDog timer not null");t.B=hw(Pr(t.lb,t),e)}function iT(t){t.B&&(At.clearTimeout(t.B),t.B=null)}function mw(t){0==t.l.H||t.J||uL(t.l,t)}function zh(t){iT(t);var e=t.M;e&&"function"==typeof e.sa&&e.sa(),t.M=null,cN(t.V),DF(t.U),t.g&&(e=t.g,t.g=null,e.abort(),e.sa())}function yN(t,e){try{var n=t.l;if(0!=n.H&&(n.g==t||_N(n.i,t)))if(!t.K&&_N(n.i,t)&&3==n.H){try{var r=n.Ja.g.parse(e)}catch{r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.u){if(n.g){if(!(n.g.G+3e3<t.G))break e;fT(n),dT(n)}DN(n),Ki(18)}}else n.Fa=i[1],0<n.Fa-n.V&&37500>i[2]&&n.G&&0==n.A&&!n.v&&(n.v=hw(Pr(n.ib,n),6e3));if(1>=GF(n.i)&&n.oa){try{n.oa()}catch{}n.oa=void 0}}else qh(n,11)}else if((t.K||n.g==t)&&fT(n),!$h(e))for(i=n.Ja.g.parse(e),e=0;e<i.length;e++){let v=i[e];if(n.V=v[0],v=v[1],2==n.H)if("c"==v[0]){n.K=v[1],n.pa=v[2];const b=v[3];null!=b&&(n.ra=b,n.l.info("VER="+n.ra));const T=v[4];null!=T&&(n.Ga=T,n.l.info("SVER="+n.Ga));const N=v[5];null!=N&&"number"==typeof N&&0<N&&(n.L=r=1.5*N,n.l.info("backChannelRequestTimeoutMs_="+r)),r=n;const O=t.g;if(O){const $=O.g?O.g.getResponseHeader("X-Client-Wire-Protocol"):null;if($){var a=r.i;a.g||-1==$.indexOf("spdy")&&-1==$.indexOf("quic")&&-1==$.indexOf("h2")||(a.j=a.l,a.g=new Set,a.h&&(vN(a,a.h),a.h=null))}if(r.F){const Q=O.g?O.g.getResponseHeader("X-HTTP-Session-Id"):null;Q&&(r.Da=Q,Mn(r.I,r.F,Q))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-t.G,n.l.info("Handshake RTT: "+n.S+"ms"));var c=t;if((r=n).wa=dL(r,r.J?r.pa:null,r.Y),c.K){qF(r.i,c);var f=c,y=r.L;y&&f.setTimeout(y),f.B&&(iT(f),gw(f)),r.g=c}else oL(r);0<n.j.length&&hT(n)}else"stop"!=v[0]&&"close"!=v[0]||qh(n,7);else 3==n.H&&("stop"==v[0]||"close"==v[0]?"stop"==v[0]?qh(n,7):IN(n):"noop"!=v[0]&&n.h&&n.h.Aa(v),n.A=0)}dw()}catch{}}function FF(t,e){if(t.forEach&&"function"==typeof t.forEach)t.forEach(e,void 0);else if(Um(t)||"string"==typeof t)Array.prototype.forEach.call(t,e,void 0);else for(var n=function cj(t){if(t.ta&&"function"==typeof t.ta)return t.ta();if(!t.Z||"function"!=typeof t.Z){if(typeof Map<"u"&&t instanceof Map)return Array.from(t.keys());if(!(typeof Set<"u"&&t instanceof Set)){if(Um(t)||"string"==typeof t){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}e=[],n=0;for(const r in t)e[n++]=r;return e}}}(t),r=function uj(t){if(t.Z&&"function"==typeof t.Z)return t.Z();if(typeof Map<"u"&&t instanceof Map||typeof Set<"u"&&t instanceof Set)return Array.from(t.values());if("string"==typeof t)return t.split("");if(Um(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}for(r in e=[],n=0,t)e[n++]=t[r];return e}(t),i=r.length,a=0;a<i;a++)e.call(void 0,r[a],n&&n[a],t)}($e=pw.prototype).setTimeout=function(t){this.P=t},$e.nb=function(t){t=t.target;const e=this.M;e&&3==Ra(t)?e.l():this.Pa(t)},$e.Pa=function(t){try{if(t==this.g)e:{const b=Ra(this.g);var e=this.g.Ia();if(this.g.da(),!(3>b)&&(3!=b||ZC||this.g&&(this.h.h||this.g.ja()||eL(this.g)))){this.J||4!=b||7==e||dw(),iT(this);var n=this.g.da();this.ca=n;t:if(OF(this)){var r=eL(this.g);t="";var i=r.length,a=4==Ra(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){zh(this),mw(this);var c="";break t}this.h.i=new At.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,t+=this.h.i.decode(r[e],{stream:a&&e==i-1});r.splice(0,i),this.h.g+=t,this.C=0,c=this.h.g}else c=this.g.ja();if(this.i=200==n,function rj(t,e,n,r,i,a,c){t.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+"\n"+n+"\n"+a+" "+c})}(this.j,this.u,this.A,this.m,this.W,b,n),this.i){if(this.aa&&!this.K){t:{if(this.g){var f,y=this.g;if((f=y.g?y.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!$h(f)){var v=f;break t}}v=null}if(!(n=v)){this.i=!1,this.o=3,Ki(12),zh(this),mw(this);break e}Hm(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,yN(this,n)}this.S?(PF(this,b,c),ZC&&this.i&&3==b&&(IF(this.U,this.V,"tick",this.mb),this.V.start())):(Hm(this.j,this.m,c,null),yN(this,c)),4==b&&zh(this),this.i&&!this.J&&(4==b?uL(this.l,this):(this.i=!1,gw(this)))}else(function Sj(t){const e={};t=(t.g&&2<=Ra(t)&&t.g.getAllResponseHeaders()||"").split("\r\n");for(let r=0;r<t.length;r++){if($h(t[r]))continue;var n=JB(t[r]);const i=n[0];if("string"!=typeof(n=n[1]))continue;n=n.trim();const a=e[i]||[];e[i]=a,a.push(n)}!function V(t,e){for(const n in t)e.call(void 0,t[n],n,t)}(e,function(r){return r.join(", ")})})(this.g),400==n&&0<c.indexOf("Unknown SID")?(this.o=3,Ki(12)):(this.o=0,Ki(13)),zh(this),mw(this)}}}catch{}},$e.mb=function(){if(this.g){var t=Ra(this.g),e=this.g.ja();this.C<e.length&&(iT(this),PF(this,t,e),this.i&&4!=t&&gw(this))}},$e.cancel=function(){this.J=!0,zh(this)},$e.lb=function(){this.B=null;const t=Date.now();0<=t-this.Y?(function ij(t,e){t.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.L&&(dw(),Ki(17)),zh(this),this.o=2,mw(this)):kF(this,this.Y-t)};var LF=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Gh(t){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,t instanceof Gh){this.h=t.h,sT(this,t.j),this.s=t.s,this.g=t.g,oT(this,t.m),this.l=t.l;var e=t.i,n=new vw;n.i=e.i,e.g&&(n.g=new Map(e.g),n.h=e.h),VF(this,n),this.o=t.o}else t&&(e=String(t).match(LF))?(this.h=!1,sT(this,e[1]||"",!0),this.s=yw(e[2]||""),this.g=yw(e[3]||"",!0),oT(this,e[4]),this.l=yw(e[5]||"",!0),VF(this,e[6]||"",!0),this.o=yw(e[7]||"")):(this.h=!1,this.i=new vw(null,this.h))}function Hu(t){return new Gh(t)}function sT(t,e,n){t.j=n?yw(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function oT(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.m=e}else t.m=null}function VF(t,e,n){e instanceof vw?(t.i=e,function mj(t,e){e&&!t.j&&(_l(t),t.i=null,t.g.forEach(function(n,r){var i=r.toLowerCase();r!=i&&(BF(this,r),$F(this,i,n))},t)),t.j=e}(t.i,t.h)):(n||(e=_w(e,pj)),t.i=new vw(e,t.h))}function Mn(t,e,n){t.i.set(e,n)}function aT(t){return Mn(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function yw(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function _w(t,e,n){return"string"==typeof t?(t=encodeURI(t).replace(e,dj),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function dj(t){return"%"+((t=t.charCodeAt(0))>>4&15).toString(16)+(15&t).toString(16)}Gh.prototype.toString=function(){var t=[],e=this.j;e&&t.push(_w(e,UF,!0),":");var n=this.g;return(n||"file"==e)&&(t.push("//"),(e=this.s)&&t.push(_w(e,UF,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&t.push(":",String(n))),(n=this.l)&&(this.g&&"/"!=n.charAt(0)&&t.push("/"),t.push(_w(n,"/"==n.charAt(0)?fj:hj,!0))),(n=this.i.toString())&&t.push("?",n),(n=this.o)&&t.push("#",_w(n,gj)),t.join("")};var UF=/[#\/\?@]/g,hj=/[#\?:]/g,fj=/[#\?]/g,pj=/[#\?@]/g,gj=/#/g;function vw(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function _l(t){t.g||(t.g=new Map,t.h=0,t.i&&function lj(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var a=t[n].substring(0,r);i=t[n].substring(r+1)}else a=t[n];e(a,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(t.i,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}function BF(t,e){_l(t),e=zm(t,e),t.g.has(e)&&(t.i=null,t.h-=t.g.get(e).length,t.g.delete(e))}function jF(t,e){return _l(t),e=zm(t,e),t.g.has(e)}function $F(t,e,n){BF(t,e),0<n.length&&(t.i=null,t.g.set(zm(t,e),iw(n)),t.h+=n.length)}function zm(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}function HF(t){this.l=t||_j,t=At.PerformanceNavigationTiming?0<(t=At.performance.getEntriesByType("navigation")).length&&("hq"==t[0].nextHopProtocol||"h2"==t[0].nextHopProtocol):!!(At.g&&At.g.Ka&&At.g.Ka()&&At.g.Ka().ec),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}($e=vw.prototype).add=function(t,e){_l(this),this.i=null,t=zm(this,t);var n=this.g.get(t);return n||this.g.set(t,n=[]),n.push(e),this.h+=1,this},$e.forEach=function(t,e){_l(this),this.g.forEach(function(n,r){n.forEach(function(i){t.call(e,i,r,this)},this)},this)},$e.ta=function(){_l(this);const t=Array.from(this.g.values()),e=Array.from(this.g.keys()),n=[];for(let r=0;r<e.length;r++){const i=t[r];for(let a=0;a<i.length;a++)n.push(e[r])}return n},$e.Z=function(t){_l(this);let e=[];if("string"==typeof t)jF(this,t)&&(e=e.concat(this.g.get(zm(this,t))));else{t=Array.from(this.g.values());for(let n=0;n<t.length;n++)e=e.concat(t[n])}return e},$e.set=function(t,e){return _l(this),this.i=null,jF(this,t=zm(this,t))&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this},$e.get=function(t,e){return t&&0<(t=this.Z(t)).length?String(t[0]):e},$e.toString=function(){if(this.i)return this.i;if(!this.g)return"";const t=[],e=Array.from(this.g.keys());for(var n=0;n<e.length;n++){var r=e[n];const a=encodeURIComponent(String(r)),c=this.Z(r);for(r=0;r<c.length;r++){var i=a;""!==c[r]&&(i+="="+encodeURIComponent(String(c[r]))),t.push(i)}}return this.i=t.join("&")};var _j=10;function zF(t){return!!t.h||!!t.g&&t.g.size>=t.j}function GF(t){return t.h?1:t.g?t.g.size:0}function _N(t,e){return t.h?t.h==e:!!t.g&&t.g.has(e)}function vN(t,e){t.g?t.g.add(e):t.h=e}function qF(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}function WF(t){if(null!=t.h)return t.i.concat(t.h.F);if(null!=t.g&&0!==t.g.size){let e=t.i;for(const n of t.g.values())e=e.concat(n.F);return e}return iw(t.i)}HF.prototype.cancel=function(){if(this.i=WF(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const t of this.g.values())t.cancel();this.g.clear()}};var vj=class{stringify(t){return At.JSON.stringify(t,void 0)}parse(t){return At.JSON.parse(t,void 0)}};function wj(){this.g=new vj}function Ej(t,e,n){const r=n||"";try{FF(t,function(i,a){let c=i;Bu(i)&&(c=aN(i)),e.push(r+a+"="+encodeURIComponent(c))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function uT(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch{}}function ww(t){this.l=t.fc||null,this.j=t.ob||!1}function cT(t,e){kr.call(this),this.F=t,this.u=e,this.m=void 0,this.readyState=wN,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}rr(ww,dN),ww.prototype.g=function(){return new cT(this.l,this.j)},ww.prototype.i=function(t){return function(){return t}}({}),rr(cT,kr);var wN=0;function ZF(t){t.j.read().then(t.Xa.bind(t)).catch(t.ka.bind(t))}function Ew(t){t.readyState=4,t.l=null,t.j=null,t.A=null,Iw(t)}function Iw(t){t.onreadystatechange&&t.onreadystatechange.call(t)}($e=cT.prototype).open=function(t,e){if(this.readyState!=wN)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=e,this.readyState=1,Iw(this)},$e.send=function(t){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(e.body=t),(this.F||At).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))},$e.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Ew(this)),this.readyState=wN},$e.$a=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,Iw(this)),this.g&&(this.readyState=3,Iw(this),this.g)))if("arraybuffer"===this.responseType)t.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof At.ReadableStream<"u"&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;ZF(this)}else t.text().then(this.Za.bind(this),this.ka.bind(this))},$e.Xa=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var e=t.value?t.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?Ew(this):Iw(this),3==this.readyState&&ZF(this)}},$e.Za=function(t){this.g&&(this.response=this.responseText=t,Ew(this))},$e.Ya=function(t){this.g&&(this.response=t,Ew(this))},$e.ka=function(){this.g&&Ew(this)},$e.setRequestHeader=function(t,e){this.v.append(t,e)},$e.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""},$e.getAllResponseHeaders=function(){if(!this.h)return"";const t=[],e=this.h.entries();for(var n=e.next();!n.done;)t.push((n=n.value)[0]+": "+n[1]),n=e.next();return t.join("\r\n")},Object.defineProperty(cT.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(t){this.m=t?"include":"same-origin"}});var Dj=At.JSON.parse;function qn(t){kr.call(this),this.headers=new Map,this.u=t||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=KF,this.L=this.M=!1}rr(qn,kr);var KF="",bj=/^https?$/i,Cj=["POST","PUT"];function YF(t,e){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=e,t.m=5,QF(t),lT(t)}function QF(t){t.F||(t.F=!0,ti(t,"complete"),ti(t,"error"))}function JF(t){if(t.h&&typeof Vm<"u"&&(!t.C[1]||4!=Ra(t)||2!=t.da()))if(t.v&&4==Ra(t))lN(t.La,0,t);else if(ti(t,"readystatechange"),4==Ra(t)){t.h=!1;try{const c=t.da();e:switch(c){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var n;if(!(n=e)){var r;if(r=0===c){var i=String(t.I).match(LF)[1]||null;!i&&At.self&&At.self.location&&(i=At.self.location.protocol.slice(0,-1)),r=!bj.test(i?i.toLowerCase():"")}n=r}if(n)ti(t,"complete"),ti(t,"success");else{t.m=6;try{var a=2<Ra(t)?t.g.statusText:""}catch{a=""}t.j=a+" ["+t.da()+"]",QF(t)}}finally{lT(t)}}}function lT(t,e){if(t.g){XF(t);const n=t.g,r=t.C[0]?()=>{}:null;t.g=null,t.C=null,e||ti(t,"ready");try{n.onreadystatechange=r}catch{}}}function XF(t){t.g&&t.L&&(t.g.ontimeout=null),t.A&&(At.clearTimeout(t.A),t.A=null)}function Ra(t){return t.g?t.g.readyState:0}function eL(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.K){case KF:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch{return null}}function tL(t){let e="";return x(t,function(n,r){e+=r,e+=":",e+=n,e+="\r\n"}),e}function EN(t,e,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=tL(n),"string"==typeof t?null!=n&&encodeURIComponent(String(n)):Mn(t,e,n))}function Dw(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function nL(t){this.Ga=0,this.j=[],this.l=new XC,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=Dw("failFast",!1,t),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=Dw("baseRetryDelayMs",5e3,t),this.hb=Dw("retryDelaySeedMs",1e4,t),this.eb=Dw("forwardChannelMaxRetries",2,t),this.xa=Dw("forwardChannelRequestTimeoutMs",2e4,t),this.va=t&&t.xmlHttpFactory||void 0,this.Ha=t&&t.dc||!1,this.L=void 0,this.J=t&&t.supportsCrossDomainXhr||!1,this.K="",this.i=new HF(t&&t.concurrentRequestLimit),this.Ja=new wj,this.P=t&&t.fastHandshake||!1,this.O=t&&t.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=t&&t.bc||!1,t&&t.Ea&&this.l.Ea(),t&&t.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&t&&t.detectBufferingProxy||!1,this.qa=void 0,t&&t.longPollingTimeout&&0<t.longPollingTimeout&&(this.qa=t.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}function IN(t){if(rL(t),3==t.H){var e=t.W++,n=Hu(t.I);if(Mn(n,"SID",t.K),Mn(n,"RID",e),Mn(n,"TYPE","terminate"),bw(t,n),(e=new pw(t,t.l,e)).L=2,e.v=aT(Hu(n)),n=!1,At.navigator&&At.navigator.sendBeacon)try{n=At.navigator.sendBeacon(e.v.toString(),"")}catch{}!n&&At.Image&&((new Image).src=e.v,n=!0),n||(e.g=hL(e.l,null),e.g.ha(e.v)),e.G=Date.now(),gw(e)}lL(t)}function dT(t){t.g&&(bN(t),t.g.cancel(),t.g=null)}function rL(t){dT(t),t.u&&(At.clearTimeout(t.u),t.u=null),fT(t),t.i.cancel(),t.m&&("number"==typeof t.m&&At.clearTimeout(t.m),t.m=null)}function hT(t){if(!zF(t.i)&&!t.m){t.m=!0;var e=t.Na;uw||vF(),cw||(uw(),cw=!0),uN.add(e,t),t.C=0}}function iL(t,e){var n;n=e?e.m:t.W++;const r=Hu(t.I);Mn(r,"SID",t.K),Mn(r,"RID",n),Mn(r,"AID",t.V),bw(t,r),t.o&&t.s&&EN(r,t.o,t.s),n=new pw(t,t.l,n,t.C+1),null===t.o&&(n.I=t.s),e&&(t.j=e.F.concat(t.j)),e=sL(t,n,1e3),n.setTimeout(Math.round(.5*t.xa)+Math.round(.5*t.xa*Math.random())),vN(t.i,n),mN(n,r,e)}function bw(t,e){t.na&&x(t.na,function(n,r){Mn(e,r,n)}),t.h&&FF({},function(n,r){Mn(e,r,n)})}function sL(t,e,n){n=Math.min(t.j.length,n);var r=t.h?Pr(t.h.Va,t.h,t):null;e:{var i=t.j;let a=-1;for(;;){const c=["count="+n];-1==a?0<n?(a=i[0].g,c.push("ofs="+a)):a=0:c.push("ofs="+a);let f=!0;for(let y=0;y<n;y++){let v=i[y].g;const b=i[y].map;if(v-=a,0>v)a=Math.max(0,i[y].g-100),f=!1;else try{Ej(b,c,"req"+v+"_")}catch{r&&r(b)}}if(f){r=c.join("&");break e}}}return t=t.j.splice(0,n),e.F=t,r}function oL(t){if(!t.g&&!t.u){t.ba=1;var e=t.Ma;uw||vF(),cw||(uw(),cw=!0),uN.add(e,t),t.A=0}}function DN(t){return!(t.g||t.u||3<=t.A||(t.ba++,t.u=hw(Pr(t.Ma,t),cL(t,t.A)),t.A++,0))}function bN(t){null!=t.B&&(At.clearTimeout(t.B),t.B=null)}function aL(t){t.g=new pw(t,t.l,"rpc",t.ba),null===t.o&&(t.g.I=t.s),t.g.O=0;var e=Hu(t.wa);Mn(e,"RID","rpc"),Mn(e,"SID",t.K),Mn(e,"AID",t.V),Mn(e,"CI",t.G?"0":"1"),!t.G&&t.qa&&Mn(e,"TO",t.qa),Mn(e,"TYPE","xmlhttp"),bw(t,e),t.o&&t.s&&EN(e,t.o,t.s),t.L&&t.g.setTimeout(t.L);var n=t.g;t=t.pa,n.L=1,n.v=aT(Hu(e)),n.s=null,n.S=!0,RF(n,t)}function fT(t){null!=t.v&&(At.clearTimeout(t.v),t.v=null)}function uL(t,e){var n=null;if(t.g==e){fT(t),bN(t),t.g=null;var r=2}else{if(!_N(t.i,e))return;n=e.F,qF(t.i,e),r=1}if(0!=t.H)if(e.i)if(1==r){n=e.s?e.s.length:0,e=Date.now()-e.G;var i=t.C;ti(r=eT(),new SF(r,n)),hT(t)}else oL(t);else if(3==(i=e.o)||0==i&&0<e.ca||!(1==r&&function Aj(t,e){return!(GF(t.i)>=t.i.j-(t.m?1:0)||(t.m?(t.j=e.F.concat(t.j),0):1==t.H||2==t.H||t.C>=(t.cb?0:t.eb)||(t.m=hw(Pr(t.Na,t,e),cL(t,t.C)),t.C++,0)))}(t,e)||2==r&&DN(t)))switch(n&&0<n.length&&(e=t.i,e.i=e.i.concat(n)),i){case 1:qh(t,5);break;case 4:qh(t,10);break;case 3:qh(t,6);break;default:qh(t,2)}}function cL(t,e){let n=t.ab+Math.floor(Math.random()*t.hb);return t.isActive()||(n*=2),n*e}function qh(t,e){if(t.l.info("Error code "+e),2==e){var n=null;t.h&&(n=null);var r=Pr(t.pb,t);n||(n=new Gh("//www.google.com/images/cleardot.gif"),At.location&&"http"==At.location.protocol||sT(n,"https"),aT(n)),function Ij(t,e){const n=new XC;if(At.Image){const r=new Image;r.onload=jh(uT,n,r,"TestLoadImage: loaded",!0,e),r.onerror=jh(uT,n,r,"TestLoadImage: error",!1,e),r.onabort=jh(uT,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=jh(uT,n,r,"TestLoadImage: timeout",!1,e),At.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=t}else e(!1)}(n.toString(),r)}else Ki(2);t.H=0,t.h&&t.h.za(e),lL(t),rL(t)}function lL(t){if(t.H=0,t.ma=[],t.h){const e=WF(t.i);(0!=e.length||0!=t.j.length)&&(Xx(t.ma,e),Xx(t.ma,t.j),t.i.i.length=0,iw(t.j),t.j.length=0),t.h.ya()}}function dL(t,e,n){var r=n instanceof Gh?Hu(n):new Gh(n);if(""!=r.g)e&&(r.g=e+"."+r.g),oT(r,r.m);else{var i=At.location;r=i.protocol,e=e?e+"."+i.hostname:i.hostname,i=+i.port;var a=new Gh(null);r&&sT(a,r),e&&(a.g=e),i&&oT(a,i),n&&(a.l=n),r=a}return e=t.Da,(n=t.F)&&e&&Mn(r,n,e),Mn(r,"VER",t.ra),bw(t,r),r}function hL(t,e,n){if(e&&!t.J)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new qn(n&&t.Ha&&!t.va?new ww({ob:!0}):t.va)).Oa(t.J),e}function fL(){}function pT(){if(yl&&!(10<=Number(d)))throw Error("Environmental error: no available transport.")}function Fs(t,e){kr.call(this),this.g=new nL(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(t?t["X-WebChannel-Client-Profile"]=e.Ca:t={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=t,(t=e&&e.cc)&&!$h(t)&&(this.g.o=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!$h(e)&&(this.g.F=e,null!==(t=this.h)&&e in t&&e in(t=this.h)&&delete t[e]),this.j=new Gm(this)}function pL(t){hN.call(this),t.__headers__&&(this.headers=t.__headers__,this.statusCode=t.__status__,delete t.__headers__,delete t.__status__);var e=t.__sm__;if(e){e:{for(const n in e){t=n;break e}t=void 0}(this.i=t)&&(t=this.i,e=null!==e&&t in e?e[t]:void 0),this.data=e}else this.data=t}function gL(){fN.call(this),this.status=1}function Gm(t){this.g=t}function Lo(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}function CN(t,e,n){n||(n=0);var r=Array(16);if("string"==typeof e)for(var i=0;16>i;++i)r[i]=e.charCodeAt(n++)|e.charCodeAt(n++)<<8|e.charCodeAt(n++)<<16|e.charCodeAt(n++)<<24;else for(i=0;16>i;++i)r[i]=e[n++]|e[n++]<<8|e[n++]<<16|e[n++]<<24;var a=t.g[3],c=(e=t.g[0])+(a^(n=t.g[1])&((i=t.g[2])^a))+r[0]+3614090360&4294967295;c=(n=(i=(a=(e=(n=(i=(a=(e=(n=(i=(a=(e=(n=(i=(a=(e=(n=(i=(a=(e=(n=(i=(a=(e=(n=(i=(a=(e=(n=(i=(a=(e=(n=(i=(a=(e=(n=(i=(a=(e=(n=(i=(a=(e=(n=(i=(a=(e=(n=(i=(a=(e=(n=(i=(a=(e=(n=(i=(a=(e=n+(c<<7&4294967295|c>>>25))+((c=a+(i^e&(n^i))+r[1]+3905402710&4294967295)<<12&4294967295|c>>>20))+((c=i+(n^a&(e^n))+r[2]+606105819&4294967295)<<17&4294967295|c>>>15))+((c=n+(e^i&(a^e))+r[3]+3250441966&4294967295)<<22&4294967295|c>>>10))+((c=e+(a^n&(i^a))+r[4]+4118548399&4294967295)<<7&4294967295|c>>>25))+((c=a+(i^e&(n^i))+r[5]+1200080426&4294967295)<<12&4294967295|c>>>20))+((c=i+(n^a&(e^n))+r[6]+2821735955&4294967295)<<17&4294967295|c>>>15))+((c=n+(e^i&(a^e))+r[7]+4249261313&4294967295)<<22&4294967295|c>>>10))+((c=e+(a^n&(i^a))+r[8]+1770035416&4294967295)<<7&4294967295|c>>>25))+((c=a+(i^e&(n^i))+r[9]+2336552879&4294967295)<<12&4294967295|c>>>20))+((c=i+(n^a&(e^n))+r[10]+4294925233&4294967295)<<17&4294967295|c>>>15))+((c=n+(e^i&(a^e))+r[11]+2304563134&4294967295)<<22&4294967295|c>>>10))+((c=e+(a^n&(i^a))+r[12]+1804603682&4294967295)<<7&4294967295|c>>>25))+((c=a+(i^e&(n^i))+r[13]+4254626195&4294967295)<<12&4294967295|c>>>20))+((c=i+(n^a&(e^n))+r[14]+2792965006&4294967295)<<17&4294967295|c>>>15))+((c=n+(e^i&(a^e))+r[15]+1236535329&4294967295)<<22&4294967295|c>>>10))+((c=e+(i^a&(n^i))+r[1]+4129170786&4294967295)<<5&4294967295|c>>>27))+((c=a+(n^i&(e^n))+r[6]+3225465664&4294967295)<<9&4294967295|c>>>23))+((c=i+(e^n&(a^e))+r[11]+643717713&4294967295)<<14&4294967295|c>>>18))+((c=n+(a^e&(i^a))+r[0]+3921069994&4294967295)<<20&4294967295|c>>>12))+((c=e+(i^a&(n^i))+r[5]+3593408605&4294967295)<<5&4294967295|c>>>27))+((c=a+(n^i&(e^n))+r[10]+38016083&4294967295)<<9&4294967295|c>>>23))+((c=i+(e^n&(a^e))+r[15]+3634488961&4294967295)<<14&4294967295|c>>>18))+((c=n+(a^e&(i^a))+r[4]+3889429448&4294967295)<<20&4294967295|c>>>12))+((c=e+(i^a&(n^i))+r[9]+568446438&4294967295)<<5&4294967295|c>>>27))+((c=a+(n^i&(e^n))+r[14]+3275163606&4294967295)<<9&4294967295|c>>>23))+((c=i+(e^n&(a^e))+r[3]+4107603335&4294967295)<<14&4294967295|c>>>18))+((c=n+(a^e&(i^a))+r[8]+1163531501&4294967295)<<20&4294967295|c>>>12))+((c=e+(i^a&(n^i))+r[13]+2850285829&4294967295)<<5&4294967295|c>>>27))+((c=a+(n^i&(e^n))+r[2]+4243563512&4294967295)<<9&4294967295|c>>>23))+((c=i+(e^n&(a^e))+r[7]+1735328473&4294967295)<<14&4294967295|c>>>18))+((c=n+(a^e&(i^a))+r[12]+2368359562&4294967295)<<20&4294967295|c>>>12))+((c=e+(n^i^a)+r[5]+4294588738&4294967295)<<4&4294967295|c>>>28))+((c=a+(e^n^i)+r[8]+2272392833&4294967295)<<11&4294967295|c>>>21))+((c=i+(a^e^n)+r[11]+1839030562&4294967295)<<16&4294967295|c>>>16))+((c=n+(i^a^e)+r[14]+4259657740&4294967295)<<23&4294967295|c>>>9))+((c=e+(n^i^a)+r[1]+2763975236&4294967295)<<4&4294967295|c>>>28))+((c=a+(e^n^i)+r[4]+1272893353&4294967295)<<11&4294967295|c>>>21))+((c=i+(a^e^n)+r[7]+4139469664&4294967295)<<16&4294967295|c>>>16))+((c=n+(i^a^e)+r[10]+3200236656&4294967295)<<23&4294967295|c>>>9))+((c=e+(n^i^a)+r[13]+681279174&4294967295)<<4&4294967295|c>>>28))+((c=a+(e^n^i)+r[0]+3936430074&4294967295)<<11&4294967295|c>>>21))+((c=i+(a^e^n)+r[3]+3572445317&4294967295)<<16&4294967295|c>>>16))+((c=n+(i^a^e)+r[6]+76029189&4294967295)<<23&4294967295|c>>>9))+((c=e+(n^i^a)+r[9]+3654602809&4294967295)<<4&4294967295|c>>>28))+((c=a+(e^n^i)+r[12]+3873151461&4294967295)<<11&4294967295|c>>>21))+((c=i+(a^e^n)+r[15]+530742520&4294967295)<<16&4294967295|c>>>16))+((c=n+(i^a^e)+r[2]+3299628645&4294967295)<<23&4294967295|c>>>9))+((c=e+(i^(n|~a))+r[0]+4096336452&4294967295)<<6&4294967295|c>>>26))+((c=a+(n^(e|~i))+r[7]+1126891415&4294967295)<<10&4294967295|c>>>22))+((c=i+(e^(a|~n))+r[14]+2878612391&4294967295)<<15&4294967295|c>>>17))+((c=n+(a^(i|~e))+r[5]+4237533241&4294967295)<<21&4294967295|c>>>11))+((c=e+(i^(n|~a))+r[12]+1700485571&4294967295)<<6&4294967295|c>>>26))+((c=a+(n^(e|~i))+r[3]+2399980690&4294967295)<<10&4294967295|c>>>22))+((c=i+(e^(a|~n))+r[10]+4293915773&4294967295)<<15&4294967295|c>>>17))+((c=n+(a^(i|~e))+r[1]+2240044497&4294967295)<<21&4294967295|c>>>11))+((c=e+(i^(n|~a))+r[8]+1873313359&4294967295)<<6&4294967295|c>>>26))+((c=a+(n^(e|~i))+r[15]+4264355552&4294967295)<<10&4294967295|c>>>22))+((c=i+(e^(a|~n))+r[6]+2734768916&4294967295)<<15&4294967295|c>>>17))+((c=n+(a^(i|~e))+r[13]+1309151649&4294967295)<<21&4294967295|c>>>11))+((a=(e=n+((c=e+(i^(n|~a))+r[4]+4149444226&4294967295)<<6&4294967295|c>>>26))+((c=a+(n^(e|~i))+r[11]+3174756917&4294967295)<<10&4294967295|c>>>22))^((i=a+((c=i+(e^(a|~n))+r[2]+718787259&4294967295)<<15&4294967295|c>>>17))|~e))+r[9]+3951481745&4294967295,t.g[0]=t.g[0]+e&4294967295,t.g[1]=t.g[1]+(i+(c<<21&4294967295|c>>>11))&4294967295,t.g[2]=t.g[2]+i&4294967295,t.g[3]=t.g[3]+a&4294967295}function ln(t,e){this.h=e;for(var n=[],r=!0,i=t.length-1;0<=i;i--){var a=0|t[i];r&&a==e||(n[i]=a,r=!1)}this.g=n}($e=qn.prototype).Oa=function(t){this.M=t},$e.ha=function(t,e,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+t);e=e?e.toUpperCase():"GET",this.I=t,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():pN.g(),this.C=function MF(t){return t.h||(t.h=t.i())}(this.u?this.u:pN),this.g.onreadystatechange=Pr(this.La,this);try{this.G=!0,this.g.open(e,String(t),!0),this.G=!1}catch(a){return void YF(this,a)}if(t=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else{if("function"!=typeof r.keys||"function"!=typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));for(const a of r.keys())n.set(a,r.get(a))}r=Array.from(n.keys()).find(a=>"content-type"==a.toLowerCase()),i=At.FormData&&t instanceof At.FormData,!(0<=Jx(Cj,e))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[a,c]of n)this.g.setRequestHeader(a,c);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{XF(this),0<this.B&&((this.L=function Tj(t){return yl&&"number"==typeof t.timeout&&void 0!==t.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Pr(this.ua,this)):this.A=lN(this.ua,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(a){YF(this,a)}},$e.ua=function(){typeof Vm<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,ti(this,"timeout"),this.abort(8))},$e.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,ti(this,"complete"),ti(this,"abort"),lT(this))},$e.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),lT(this,!0)),qn.$.N.call(this)},$e.La=function(){this.s||(this.G||this.v||this.l?JF(this):this.kb())},$e.kb=function(){JF(this)},$e.isActive=function(){return!!this.g},$e.da=function(){try{return 2<Ra(this)?this.g.status:-1}catch{return-1}},$e.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}},$e.Wa=function(t){if(this.g){var e=this.g.responseText;return t&&0==e.indexOf(t)&&(e=e.substring(t.length)),Dj(e)}},$e.Ia=function(){return this.m},$e.Sa=function(){return"string"==typeof this.j?this.j:String(this.j)},($e=nL.prototype).ra=8,$e.H=1,$e.Na=function(t){if(this.m)if(this.m=null,1==this.H){if(!t){this.W=Math.floor(1e5*Math.random()),t=this.W++;const i=new pw(this,this.l,t);let a=this.s;if(this.U&&(a?(a=H(a),Ie(a,this.U)):a=this.U),null!==this.o||this.O||(i.I=a,a=null),this.P)e:{for(var e=0,n=0;n<this.j.length;n++){var r=this.j[n];if(void 0===(r="__data__"in r.map&&"string"==typeof(r=r.map.__data__)?r.length:void 0))break;if(4096<(e+=r)){e=n;break e}if(4096===e||n===this.j.length-1){e=n+1;break e}}e=1e3}else e=1e3;e=sL(this,i,e),Mn(n=Hu(this.I),"RID",t),Mn(n,"CVER",22),this.F&&Mn(n,"X-HTTP-Session-Id",this.F),bw(this,n),a&&(this.O?e="headers="+encodeURIComponent(String(tL(a)))+"&"+e:this.o&&EN(n,this.o,a)),vN(this.i,i),this.bb&&Mn(n,"TYPE","init"),this.P?(Mn(n,"$req",e),Mn(n,"SID","null"),i.aa=!0,mN(i,n,null)):mN(i,n,e),this.H=2}}else 3==this.H&&(t?iL(this,t):0==this.j.length||zF(this.i)||iL(this))},$e.Ma=function(){if(this.u=null,aL(this),this.ca&&!(this.M||null==this.g||0>=this.S)){var t=2*this.S;this.l.info("BP detection timer enabled: "+t),this.B=hw(Pr(this.jb,this),t)}},$e.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,Ki(10),dT(this),aL(this))},$e.ib=function(){null!=this.v&&(this.v=null,dT(this),DN(this),Ki(19))},$e.pb=function(t){t?(this.l.info("Successfully pinged google.com"),Ki(2)):(this.l.info("Failed to ping google.com"),Ki(1))},$e.isActive=function(){return!!this.h&&this.h.isActive(this)},($e=fL.prototype).Ba=function(){},$e.Aa=function(){},$e.za=function(){},$e.ya=function(){},$e.isActive=function(){return!0},$e.Va=function(){},pT.prototype.g=function(t,e){return new Fs(t,e)},rr(Fs,kr),Fs.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var t=this.g,e=this.l,n=this.h||void 0;Ki(0),t.Y=e,t.na=n||{},t.G=t.aa,t.I=dL(t,null,t.Y),hT(t)},Fs.prototype.close=function(){IN(this.g)},Fs.prototype.u=function(t){var e=this.g;if("string"==typeof t){var n={};n.__data__=t,t=n}else this.v&&((n={}).__data__=aN(t),t=n);e.j.push(new class{constructor(t,e){this.g=t,this.map=e}}(e.fb++,t)),3==e.H&&hT(e)},Fs.prototype.N=function(){this.g.h=null,delete this.j,IN(this.g),delete this.g,Fs.$.N.call(this)},rr(pL,hN),rr(gL,fN),rr(Gm,fL),Gm.prototype.Ba=function(){ti(this.g,"a")},Gm.prototype.Aa=function(t){ti(this.g,new pL(t))},Gm.prototype.za=function(t){ti(this.g,new gL)},Gm.prototype.ya=function(){ti(this.g,"b")},rr(Lo,function Mj(){this.blockSize=-1}),Lo.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0},Lo.prototype.j=function(t,e){void 0===e&&(e=t.length);for(var n=e-this.blockSize,r=this.m,i=this.h,a=0;a<e;){if(0==i)for(;a<=n;)CN(this,t,a),a+=this.blockSize;if("string"==typeof t){for(;a<e;)if(r[i++]=t.charCodeAt(a++),i==this.blockSize){CN(this,r),i=0;break}}else for(;a<e;)if(r[i++]=t[a++],i==this.blockSize){CN(this,r),i=0;break}}this.h=i,this.i+=e},Lo.prototype.l=function(){var t=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);t[0]=128;for(var e=1;e<t.length-8;++e)t[e]=0;var n=8*this.i;for(e=t.length-8;e<t.length;++e)t[e]=255&n,n/=256;for(this.j(t),t=Array(16),e=n=0;4>e;++e)for(var r=0;32>r;r+=8)t[n++]=this.g[e]>>>r&255;return t};var xj={};function TN(t){return-128<=t&&128>t?function gF(t,e){var n=xj;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e(t)}(t,function(e){return new ln([0|e],0>e?-1:0)}):new ln([0|t],0>t?-1:0)}function Oa(t){if(isNaN(t)||!isFinite(t))return qm;if(0>t)return ni(Oa(-t));for(var e=[],n=1,r=0;t>=n;r++)e[r]=t/n|0,n*=SN;return new ln(e,0)}var SN=4294967296,qm=TN(0),AN=TN(1),yL=TN(16777216);function zu(t){if(0!=t.h)return!1;for(var e=0;e<t.g.length;e++)if(0!=t.g[e])return!1;return!0}function oo(t){return-1==t.h}function ni(t){for(var e=t.g.length,n=[],r=0;r<e;r++)n[r]=~t.g[r];return new ln(n,~t.h).add(AN)}function gT(t,e){return t.add(ni(e))}function mT(t,e){for(;(65535&t[e])!=t[e];)t[e+1]+=t[e]>>>16,t[e]&=65535,e++}function Cw(t,e){this.g=t,this.h=e}function yT(t,e){if(zu(e))throw Error("division by zero");if(zu(t))return new Cw(qm,qm);if(oo(t))return e=yT(ni(t),e),new Cw(ni(e.g),ni(e.h));if(oo(e))return e=yT(t,ni(e)),new Cw(ni(e.g),e.h);if(30<t.g.length){if(oo(t)||oo(e))throw Error("slowDivide_ only works with positive integers.");for(var n=AN,r=e;0>=r.X(t);)n=_L(n),r=_L(r);var i=Wm(n,1),a=Wm(r,1);for(r=Wm(r,2),n=Wm(n,2);!zu(r);){var c=a.add(r);0>=c.X(t)&&(i=i.add(n),a=c),r=Wm(r,1),n=Wm(n,1)}return e=gT(t,i.R(e)),new Cw(i,e)}for(i=qm;0<=t.X(e);){for(n=Math.max(1,Math.floor(t.ea()/e.ea())),r=48>=(r=Math.ceil(Math.log(n)/Math.LN2))?1:Math.pow(2,r-48),c=(a=Oa(n)).R(e);oo(c)||0<c.X(t);)c=(a=Oa(n-=r)).R(e);zu(a)&&(a=AN),i=i.add(a),t=gT(t,c)}return new Cw(i,t)}function _L(t){for(var e=t.g.length+1,n=[],r=0;r<e;r++)n[r]=t.D(r)<<1|t.D(r-1)>>>31;return new ln(n,t.h)}function Wm(t,e){var n=e>>5;e%=32;for(var r=t.g.length-n,i=[],a=0;a<r;a++)i[a]=0<e?t.D(a+n)>>>e|t.D(a+n+1)<<32-e:t.D(a+n);return new ln(i,t.h)}($e=ln.prototype).ea=function(){if(oo(this))return-ni(this).ea();for(var t=0,e=1,n=0;n<this.g.length;n++){var r=this.D(n);t+=(0<=r?r:SN+r)*e,e*=SN}return t},$e.toString=function(t){if(2>(t=t||10)||36<t)throw Error("radix out of range: "+t);if(zu(this))return"0";if(oo(this))return"-"+ni(this).toString(t);for(var e=Oa(Math.pow(t,6)),n=this,r="";;){var i=yT(n,e).g,a=((0<(n=gT(n,i.R(e))).g.length?n.g[0]:n.h)>>>0).toString(t);if(zu(n=i))return a+r;for(;6>a.length;)a="0"+a;r=a+r}},$e.D=function(t){return 0>t?0:t<this.g.length?this.g[t]:this.h},$e.X=function(t){return oo(t=gT(this,t))?-1:zu(t)?0:1},$e.abs=function(){return oo(this)?ni(this):this},$e.add=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0,i=0;i<=e;i++){var a=r+(65535&this.D(i))+(65535&t.D(i)),c=(a>>>16)+(this.D(i)>>>16)+(t.D(i)>>>16);r=c>>>16,n[i]=(c&=65535)<<16|(a&=65535)}return new ln(n,-2147483648&n[n.length-1]?-1:0)},$e.R=function(t){if(zu(this)||zu(t))return qm;if(oo(this))return oo(t)?ni(this).R(ni(t)):ni(ni(this).R(t));if(oo(t))return ni(this.R(ni(t)));if(0>this.X(yL)&&0>t.X(yL))return Oa(this.ea()*t.ea());for(var e=this.g.length+t.g.length,n=[],r=0;r<2*e;r++)n[r]=0;for(r=0;r<this.g.length;r++)for(var i=0;i<t.g.length;i++){var a=this.D(r)>>>16,c=65535&this.D(r),f=t.D(i)>>>16,y=65535&t.D(i);n[2*r+2*i]+=c*y,mT(n,2*r+2*i),n[2*r+2*i+1]+=a*y,mT(n,2*r+2*i+1),n[2*r+2*i+1]+=c*f,mT(n,2*r+2*i+1),n[2*r+2*i+2]+=a*f,mT(n,2*r+2*i+2)}for(r=0;r<e;r++)n[r]=n[2*r+1]<<16|n[2*r];for(r=e;r<2*e;r++)n[r]=0;return new ln(n,0)},$e.gb=function(t){return yT(this,t).h},$e.and=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)&t.D(r);return new ln(n,this.h&t.h)},$e.or=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)|t.D(r);return new ln(n,this.h|t.h)},$e.xor=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)^t.D(r);return new ln(n,this.h^t.h)},pT.prototype.createWebChannel=pT.prototype.g,Fs.prototype.send=Fs.prototype.u,Fs.prototype.open=Fs.prototype.m,Fs.prototype.close=Fs.prototype.close,tT.NO_ERROR=0,tT.TIMEOUT=8,tT.HTTP_ERROR=6,AF.COMPLETE="complete",xF.EventType=fw,fw.OPEN="a",fw.CLOSE="b",fw.ERROR="c",fw.MESSAGE="d",kr.prototype.listen=kr.prototype.O,qn.prototype.listenOnce=qn.prototype.P,qn.prototype.getLastError=qn.prototype.Sa,qn.prototype.getLastErrorCode=qn.prototype.Ia,qn.prototype.getStatus=qn.prototype.da,qn.prototype.getResponseJson=qn.prototype.Wa,qn.prototype.getResponseText=qn.prototype.ja,qn.prototype.send=qn.prototype.ha,qn.prototype.setWithCredentials=qn.prototype.Oa,Lo.prototype.digest=Lo.prototype.l,Lo.prototype.reset=Lo.prototype.reset,Lo.prototype.update=Lo.prototype.j,ln.prototype.add=ln.prototype.add,ln.prototype.multiply=ln.prototype.R,ln.prototype.modulo=ln.prototype.gb,ln.prototype.compare=ln.prototype.X,ln.prototype.toNumber=ln.prototype.ea,ln.prototype.toString=ln.prototype.toString,ln.prototype.getBits=ln.prototype.D,ln.fromNumber=Oa,ln.fromString=function mL(t,e){if(0==t.length)throw Error("number format error: empty string");if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if("-"==t.charAt(0))return ni(mL(t.substring(1),e));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var n=Oa(Math.pow(e,8)),r=qm,i=0;i<t.length;i+=8){var a=Math.min(8,t.length-i),c=parseInt(t.substring(i,i+a),e);8>a?(a=Oa(Math.pow(e,a)),r=r.R(a).add(Oa(c))):r=(r=r.R(n)).add(Oa(c))}return r};var Nj=ks.createWebChannelTransport=function(){return new pT},Rj=ks.getStatEventTarget=function(){return eT()},MN=ks.ErrorCode=tT,Oj=ks.EventType=AF,Pj=ks.Event=Hh,vL=ks.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},kj=ks.FetchXmlHttpFactory=ww,_T=ks.WebChannel=xF,Fj=ks.XhrIo=qn,Lj=ks.Md5=Lo,Zm=ks.Integer=ln;const wL="@firebase/firestore";class Fr{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Fr.UNAUTHENTICATED=new Fr(null),Fr.GOOGLE_CREDENTIALS=new Fr("google-credentials-uid"),Fr.FIRST_PARTY=new Fr("first-party-uid"),Fr.MOCK_USER=new Fr("mock-user");let Km="9.23.0";const vl=new Qr.Yd("@firebase/firestore");function xN(){return vl.logLevel}function Ce(t,...e){if(vl.logLevel<=Qr.in.DEBUG){const n=e.map(NN);vl.debug(`Firestore (${Km}): ${t}`,...n)}}function ir(t,...e){if(vl.logLevel<=Qr.in.ERROR){const n=e.map(NN);vl.error(`Firestore (${Km}): ${t}`,...n)}}function Vo(t,...e){if(vl.logLevel<=Qr.in.WARN){const n=e.map(NN);vl.warn(`Firestore (${Km}): ${t}`,...n)}}function NN(t){if("string"==typeof t)return t;try{return JSON.stringify(t)}catch{return t}}function Ye(t="Unexpected state"){const e=`FIRESTORE (${Km}) INTERNAL ASSERTION FAILED: `+t;throw ir(e),new Error(e)}function rt(t,e){t||Ye()}function Ge(t,e){return t}const ee={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class we extends wt.ZR{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class wr{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}class EL{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Vj{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Fr.UNAUTHENTICATED))}shutdown(){}}class Uj{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class Bj{constructor(e){this.t=e,this.currentUser=Fr.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){var r=this;let i=this.i;const a=v=>this.i!==i?(i=this.i,n(v)):Promise.resolve();let c=new wr;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new wr,e.enqueueRetryable(()=>a(this.currentUser))};const f=()=>{const v=c;e.enqueueRetryable((0,Y.Z)(function*(){yield v.promise,yield a(r.currentUser)}))},y=v=>{Ce("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=v,this.auth.addAuthTokenListener(this.o),f()};this.t.onInit(v=>y(v)),setTimeout(()=>{if(!this.auth){const v=this.t.getImmediate({optional:!0});v?y(v):(Ce("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new wr)}},0),f()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(Ce("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(rt("string"==typeof r.accessToken),new EL(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return rt(null===e||"string"==typeof e),new Fr(e)}}class jj{constructor(e,n,r){this.h=e,this.l=n,this.m=r,this.type="FirstParty",this.user=Fr.FIRST_PARTY,this.g=new Map}p(){return this.m?this.m():null}get headers(){this.g.set("X-Goog-AuthUser",this.h);const e=this.p();return e&&this.g.set("Authorization",e),this.l&&this.g.set("X-Goog-Iam-Authorization-Token",this.l),this.g}}class $j{constructor(e,n,r){this.h=e,this.l=n,this.m=r}getToken(){return Promise.resolve(new jj(this.h,this.l,this.m))}start(e,n){e.enqueueRetryable(()=>n(Fr.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class IL{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Hj{constructor(e){this.I=e,this.forceRefresh=!1,this.appCheck=null,this.T=null}start(e,n){const r=a=>{null!=a.error&&Ce("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${a.error.message}`);const c=a.token!==this.T;return this.T=a.token,Ce("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?n(a.token):Promise.resolve()};this.o=a=>{e.enqueueRetryable(()=>r(a))};const i=a=>{Ce("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=a,this.appCheck.addTokenListener(this.o)};this.I.onInit(a=>i(a)),setTimeout(()=>{if(!this.appCheck){const a=this.I.getImmediate({optional:!0});a?i(a):Ce("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(rt("string"==typeof n.token),this.T=n.token,new IL(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function zj(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}class DL{static A(){const n=62*Math.floor(256/62);let r="";for(;r.length<20;){const i=zj(40);for(let a=0;a<i.length;++a)r.length<20&&i[a]<n&&(r+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(i[a]%62))}return r}}function Mt(t,e){return t<e?-1:t>e?1:0}function Ym(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}class jn{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new we(ee.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new we(ee.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new we(ee.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new we(ee.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return jn.fromMillis(Date.now())}static fromDate(e){return jn.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new jn(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Mt(this.nanoseconds,e.nanoseconds):Mt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class it{constructor(e){this.timestamp=e}static fromTimestamp(e){return new it(e)}static min(){return new it(new jn(0,0))}static max(){return new it(new jn(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class Tw{constructor(e,n,r){void 0===n?n=0:n>e.length&&Ye(),void 0===r?r=e.length-n:r>e.length-n&&Ye(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return 0===Tw.comparator(this,e)}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Tw?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const a=e.get(i),c=n.get(i);if(a<c)return-1;if(a>c)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class Kt extends Tw{construct(e,n,r){return new Kt(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new we(ee.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new Kt(n)}static emptyPath(){return new Kt([])}}const Gj=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class sr extends Tw{construct(e,n,r){return new sr(e,n,r)}static isValidIdentifier(e){return Gj.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),sr.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new sr(["__name__"])}static fromServerFormat(e){const n=[];let r="",i=0;const a=()=>{if(0===r.length)throw new we(ee.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let c=!1;for(;i<e.length;){const f=e[i];if("\\"===f){if(i+1===e.length)throw new we(ee.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const y=e[i+1];if("\\"!==y&&"."!==y&&"`"!==y)throw new we(ee.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=y,i+=2}else"`"===f?(c=!c,i++):"."!==f||c?(r+=f,i++):(a(),i++)}if(a(),c)throw new we(ee.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new sr(n)}static emptyPath(){return new sr([])}}class He{constructor(e){this.path=e}static fromPath(e){return new He(Kt.fromString(e))}static fromName(e){return new He(Kt.fromString(e).popFirst(5))}static empty(){return new He(Kt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===Kt.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,n){return Kt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new He(new Kt(e.slice()))}}function TL(t){return new Ls(t.readTime,t.key,-1)}class Ls{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Ls(it.min(),He.empty(),-1)}static max(){return new Ls(it.max(),He.empty(),-1)}}function ON(t,e){let n=t.readTime.compareTo(e.readTime);return 0!==n?n:(n=He.comparator(t.documentKey,e.documentKey),0!==n?n:Mt(t.largestBatchId,e.largestBatchId))}const SL="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Zj{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function wl(t){return PN.apply(this,arguments)}function PN(){return PN=(0,Y.Z)(function*(t){if(t.code!==ee.FAILED_PRECONDITION||t.message!==SL)throw t;Ce("LocalStore","Unexpectedly lost primary lease")}),PN.apply(this,arguments)}class q{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Ye(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new q((r,i)=>{this.nextCallback=a=>{this.wrapSuccess(e,a).next(r,i)},this.catchCallback=a=>{this.wrapFailure(n,a).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof q?n:q.resolve(n)}catch(n){return q.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):q.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):q.reject(n)}static resolve(e){return new q((n,r)=>{n(e)})}static reject(e){return new q((n,r)=>{r(e)})}static waitFor(e){return new q((n,r)=>{let i=0,a=0,c=!1;e.forEach(f=>{++i,f.next(()=>{++a,c&&a===i&&n()},y=>r(y))}),c=!0,a===i&&n()})}static or(e){let n=q.resolve(!1);for(const r of e)n=n.next(i=>i?q.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,a)=>{r.push(n.call(this,i,a))}),this.waitFor(r)}static mapArray(e,n){return new q((r,i)=>{const a=e.length,c=new Array(a);let f=0;for(let y=0;y<a;y++){const v=y;n(e[v]).next(b=>{c[v]=b,++f,f===a&&r(c)},b=>i(b))}})}static doWhile(e,n){return new q((r,i)=>{const a=()=>{!0===e()?n().next(()=>{a()},i):r()};a()})}}function El(t){return"IndexedDbTransactionError"===t.name}let Vs=(()=>{class t{constructor(n,r){this.previousValue=n,r&&(r.sequenceNumberHandler=i=>this.ot(i),this.ut=i=>r.writeSequenceNumber(i))}ot(n){return this.previousValue=Math.max(n,this.previousValue),this.previousValue}next(){const n=++this.previousValue;return this.ut&&this.ut(n),n}}return t.ct=-1,t})();function Mw(t){return null==t}function xw(t){return 0===t&&1/t==-1/0}function FL(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Il(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function LL(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}class Dn{constructor(e,n){this.comparator=e,this.root=n||ri.EMPTY}insert(e,n){return new Dn(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,ri.BLACK,null,null))}remove(e){return new Dn(this.comparator,this.root.remove(e,this.comparator).copy(null,null,ri.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(0===r)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(0===i)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new DT(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new DT(this.root,e,this.comparator,!1)}getReverseIterator(){return new DT(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new DT(this.root,e,this.comparator,!0)}}class DT{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let a=1;for(;!e.isEmpty();)if(a=n?r(e.key,n):1,n&&i&&(a*=-1),a<0)e=this.isReverse?e.left:e.right;else{if(0===a){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class ri{constructor(e,n,r,i,a){this.key=e,this.value=n,this.color=r??ri.RED,this.left=i??ri.EMPTY,this.right=a??ri.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,a){return new ri(e??this.key,n??this.value,r??this.color,i??this.left,a??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const a=r(e,i.key);return i=a<0?i.copy(null,null,null,i.left.insert(e,n,r),null):0===a?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return ri.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===n(e,i.key)){if(i.right.isEmpty())return ri.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,ri.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,ri.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Ye();const e=this.left.check();if(e!==this.right.check())throw Ye();return e+(this.isRed()?0:1)}}ri.EMPTY=null,ri.RED=!0,ri.BLACK=!1,ri.EMPTY=new class{constructor(){this.size=0}get key(){throw Ye()}get value(){throw Ye()}get color(){throw Ye()}get left(){throw Ye()}get right(){throw Ye()}copy(t,e,n,r,i){return this}insert(t,e,n){return new ri(t,e)}remove(t,e){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class xn{constructor(e){this.comparator=e,this.data=new Dn(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=void 0!==n?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new VL(this.data.getIterator())}getIteratorFrom(e){return new VL(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof xn)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,a=r.getNext().key;if(0!==this.comparator(i,a))return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new xn(this.comparator);return n.data=e,n}}class VL{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class fs{constructor(e){this.fields=e,e.sort(sr.comparator)}static empty(){return new fs([])}unionWith(e){let n=new xn(sr.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new fs(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Ym(this.fields,e.fields,(n,r)=>n.isEqual(r))}}class UL extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Er{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(r){try{return atob(r)}catch(i){throw typeof DOMException<"u"&&i instanceof DOMException?new UL("Invalid base64 string: "+i):i}}(e);return new Er(n)}static fromUint8Array(e){const n=function(r){let i="";for(let a=0;a<r.length;++a)i+=String.fromCharCode(r[a]);return i}(e);return new Er(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const n=new Uint8Array(e.length);for(let r=0;r<e.length;r++)n[r]=e.charCodeAt(r);return n}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Mt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Er.EMPTY_BYTE_STRING=new Er("");const y$=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Dl(t){if(rt(!!t),"string"==typeof t){let e=0;const n=y$.exec(t);if(rt(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Wn(t.seconds),nanos:Wn(t.nanos)}}function Wn(t){return"number"==typeof t?t:"string"==typeof t?Number(t):0}function Gu(t){return"string"==typeof t?Er.fromBase64String(t):Er.fromUint8Array(t)}function bT(t){var e,n;return"server_timestamp"===(null===(n=((null===(e=t?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function CT(t){const e=t.mapValue.fields.__previous_value__;return bT(e)?CT(e):e}function Nw(t){const e=Dl(t.mapValue.fields.__local_write_time__.timestampValue);return new jn(e.seconds,e.nanos)}class _${constructor(e,n,r,i,a,c,f,y,v){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=a,this.forceLongPolling=c,this.autoDetectLongPolling=f,this.longPollingOptions=y,this.useFetchStreams=v}}class Kh{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new Kh("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof Kh&&e.projectId===this.projectId&&e.database===this.database}}const bl={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function Cl(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?bT(t)?4:HL(t)?9007199254740991:10:Ye()}function ka(t,e){if(t===e)return!0;const n=Cl(t);if(n!==Cl(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Nw(t).isEqual(Nw(e));case 3:return function(r,i){if("string"==typeof r.timestampValue&&"string"==typeof i.timestampValue&&r.timestampValue.length===i.timestampValue.length)return r.timestampValue===i.timestampValue;const a=Dl(r.timestampValue),c=Dl(i.timestampValue);return a.seconds===c.seconds&&a.nanos===c.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return i=e,Gu(t.bytesValue).isEqual(Gu(i.bytesValue));case 7:return t.referenceValue===e.referenceValue;case 8:return function(r,i){return Wn(r.geoPointValue.latitude)===Wn(i.geoPointValue.latitude)&&Wn(r.geoPointValue.longitude)===Wn(i.geoPointValue.longitude)}(t,e);case 2:return function(r,i){if("integerValue"in r&&"integerValue"in i)return Wn(r.integerValue)===Wn(i.integerValue);if("doubleValue"in r&&"doubleValue"in i){const a=Wn(r.doubleValue),c=Wn(i.doubleValue);return a===c?xw(a)===xw(c):isNaN(a)&&isNaN(c)}return!1}(t,e);case 9:return Ym(t.arrayValue.values||[],e.arrayValue.values||[],ka);case 10:return function(r,i){const a=r.mapValue.fields||{},c=i.mapValue.fields||{};if(FL(a)!==FL(c))return!1;for(const f in a)if(a.hasOwnProperty(f)&&(void 0===c[f]||!ka(a[f],c[f])))return!1;return!0}(t,e);default:return Ye()}var i}function Rw(t,e){return void 0!==(t.values||[]).find(n=>ka(n,e))}function Tl(t,e){if(t===e)return 0;const n=Cl(t),r=Cl(e);if(n!==r)return Mt(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Mt(t.booleanValue,e.booleanValue);case 2:return function(i,a){const c=Wn(i.integerValue||i.doubleValue),f=Wn(a.integerValue||a.doubleValue);return c<f?-1:c>f?1:c===f?0:isNaN(c)?isNaN(f)?0:-1:1}(t,e);case 3:return BL(t.timestampValue,e.timestampValue);case 4:return BL(Nw(t),Nw(e));case 5:return Mt(t.stringValue,e.stringValue);case 6:return function(i,a){const c=Gu(i),f=Gu(a);return c.compareTo(f)}(t.bytesValue,e.bytesValue);case 7:return function(i,a){const c=i.split("/"),f=a.split("/");for(let y=0;y<c.length&&y<f.length;y++){const v=Mt(c[y],f[y]);if(0!==v)return v}return Mt(c.length,f.length)}(t.referenceValue,e.referenceValue);case 8:return function(i,a){const c=Mt(Wn(i.latitude),Wn(a.latitude));return 0!==c?c:Mt(Wn(i.longitude),Wn(a.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(i,a){const c=i.values||[],f=a.values||[];for(let y=0;y<c.length&&y<f.length;++y){const v=Tl(c[y],f[y]);if(v)return v}return Mt(c.length,f.length)}(t.arrayValue,e.arrayValue);case 10:return function(i,a){if(i===bl.mapValue&&a===bl.mapValue)return 0;if(i===bl.mapValue)return 1;if(a===bl.mapValue)return-1;const c=i.fields||{},f=Object.keys(c),y=a.fields||{},v=Object.keys(y);f.sort(),v.sort();for(let b=0;b<f.length&&b<v.length;++b){const T=Mt(f[b],v[b]);if(0!==T)return T;const N=Tl(c[f[b]],y[v[b]]);if(0!==N)return N}return Mt(f.length,v.length)}(t.mapValue,e.mapValue);default:throw Ye()}}function BL(t,e){if("string"==typeof t&&"string"==typeof e&&t.length===e.length)return Mt(t,e);const n=Dl(t),r=Dl(e),i=Mt(n.seconds,r.seconds);return 0!==i?i:Mt(n.nanos,r.nanos)}function Jm(t){return LN(t)}function LN(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(r){const i=Dl(r);return`time(${i.seconds},${i.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?Gu(t.bytesValue).toBase64():"referenceValue"in t?He.fromName(t.referenceValue).toString():"geoPointValue"in t?`geo(${(e=t.geoPointValue).latitude},${e.longitude})`:"arrayValue"in t?function(r){let i="[",a=!0;for(const c of r.values||[])a?a=!1:i+=",",i+=LN(c);return i+"]"}(t.arrayValue):"mapValue"in t?function(r){const i=Object.keys(r.fields||{}).sort();let a="{",c=!0;for(const f of i)c?c=!1:a+=",",a+=`${f}:${LN(r.fields[f])}`;return a+"}"}(t.mapValue):Ye();var e}function Yh(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function VN(t){return!!t&&"integerValue"in t}function Ow(t){return!!t&&"arrayValue"in t}function jL(t){return!!t&&"nullValue"in t}function $L(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function AT(t){return!!t&&"mapValue"in t}function Pw(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&"object"==typeof t.timestampValue)return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return Il(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=Pw(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Pw(t.arrayValue.values[n]);return e}return Object.assign({},t)}function HL(t){return"__max__"===(((t.mapValue||{}).fields||{}).__type__||{}).stringValue}class ii{constructor(e){this.value=e}static empty(){return new ii({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!AT(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Pw(n)}setAll(e){let n=sr.emptyPath(),r={},i=[];e.forEach((c,f)=>{if(!n.isImmediateParentOf(f)){const y=this.getFieldsMap(n);this.applyChanges(y,r,i),r={},i=[],n=f.popLast()}c?r[f.lastSegment()]=Pw(c):i.push(f.lastSegment())});const a=this.getFieldsMap(n);this.applyChanges(a,r,i)}delete(e){const n=this.field(e.popLast());AT(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return ka(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];AT(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){Il(n,(i,a)=>e[i]=a);for(const i of r)delete e[i]}clone(){return new ii(Pw(this.value))}}function qL(t){const e=[];return Il(t.fields,(n,r)=>{const i=new sr([n]);if(AT(r)){const a=qL(r.mapValue).fields;if(0===a.length)e.push(i);else for(const c of a)e.push(i.child(c))}else e.push(i)}),new fs(e)}class Nn{constructor(e,n,r,i,a,c,f){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=a,this.data=c,this.documentState=f}static newInvalidDocument(e){return new Nn(e,0,it.min(),it.min(),it.min(),ii.empty(),0)}static newFoundDocument(e,n,r,i){return new Nn(e,1,n,it.min(),r,i,0)}static newNoDocument(e,n){return new Nn(e,2,n,it.min(),it.min(),ii.empty(),0)}static newUnknownDocument(e,n){return new Nn(e,3,n,it.min(),it.min(),ii.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(it.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=ii.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=ii.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=it.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof Nn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Nn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Sl{constructor(e,n){this.position=e,this.inclusive=n}}function WL(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const a=e[i],c=t.position[i];if(r=a.field.isKeyField()?He.comparator(He.fromName(c.referenceValue),n.key):Tl(c,n.data.field(a.field)),"desc"===a.dir&&(r*=-1),0!==r)break}return r}function ZL(t,e){if(null===t)return null===e;if(null===e||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!ka(t.position[n],e.position[n]))return!1;return!0}class Xm{constructor(e,n="asc"){this.field=e,this.dir=n}}function E$(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}class KL{}class Gt extends KL{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?"in"===n||"not-in"===n?this.createKeyFieldInFilter(e,n,r):new I$(e,n,r):"array-contains"===n?new C$(e,r):"in"===n?new t2(e,r):"not-in"===n?new T$(e,r):"array-contains-any"===n?new S$(e,r):new Gt(e,n,r)}static createKeyFieldInFilter(e,n,r){return"in"===n?new D$(e,r):new b$(e,r)}matches(e){const n=e.data.field(this.field);return"!="===this.op?null!==n&&this.matchesComparison(Tl(n,this.value)):null!==n&&Cl(this.value)===Cl(n)&&this.matchesComparison(Tl(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return Ye()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class dn extends KL{constructor(e,n){super(),this.filters=e,this.op=n,this.lt=null}static create(e,n){return new dn(e,n)}matches(e){return ey(this)?void 0===this.filters.find(n=>!n.matches(e)):void 0!==this.filters.find(n=>n.matches(e))}getFlattenedFilters(){return null!==this.lt||(this.lt=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.lt}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const e=this.ft(n=>n.isInequality());return null!==e?e.field:null}ft(e){for(const n of this.getFlattenedFilters())if(e(n))return n;return null}}function ey(t){return"and"===t.op}function BN(t){return function YL(t){for(const e of t.filters)if(e instanceof dn)return!1;return!0}(t)&&ey(t)}function jN(t){if(t instanceof Gt)return t.field.canonicalString()+t.op.toString()+Jm(t.value);if(BN(t))return t.filters.map(e=>jN(e)).join(",");{const e=t.filters.map(n=>jN(n)).join(",");return`${t.op}(${e})`}}function QL(t,e){return t instanceof Gt?(n=t,(r=e)instanceof Gt&&n.op===r.op&&n.field.isEqual(r.field)&&ka(n.value,r.value)):t instanceof dn?function(n,r){return r instanceof dn&&n.op===r.op&&n.filters.length===r.filters.length&&n.filters.reduce((i,a,c)=>i&&QL(a,r.filters[c]),!0)}(t,e):void Ye();var n,r}function XL(t){return t instanceof Gt?`${(e=t).field.canonicalString()} ${e.op} ${Jm(e.value)}`:t instanceof dn?function(e){return e.op.toString()+" {"+e.getFilters().map(XL).join(" ,")+"}"}(t):"Filter";var e}class I$ extends Gt{constructor(e,n,r){super(e,n,r),this.key=He.fromName(r.referenceValue)}matches(e){const n=He.comparator(e.key,this.key);return this.matchesComparison(n)}}class D$ extends Gt{constructor(e,n){super(e,"in",n),this.keys=e2(0,n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class b$ extends Gt{constructor(e,n){super(e,"not-in",n),this.keys=e2(0,n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function e2(t,e){var n;return((null===(n=e.arrayValue)||void 0===n?void 0:n.values)||[]).map(r=>He.fromName(r.referenceValue))}class C$ extends Gt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Ow(n)&&Rw(n.arrayValue,this.value)}}class t2 extends Gt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return null!==n&&Rw(this.value.arrayValue,n)}}class T$ extends Gt{constructor(e,n){super(e,"not-in",n)}matches(e){if(Rw(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return null!==n&&!Rw(this.value.arrayValue,n)}}class S$ extends Gt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Ow(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Rw(this.value.arrayValue,r))}}class A${constructor(e,n=null,r=[],i=[],a=null,c=null,f=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=a,this.startAt=c,this.endAt=f,this.dt=null}}function $N(t,e=null,n=[],r=[],i=null,a=null,c=null){return new A$(t,e,n,r,i,a,c)}function Qh(t){const e=Ge(t);if(null===e.dt){let n=e.path.canonicalString();null!==e.collectionGroup&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>jN(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>{return(i=r).field.canonicalString()+i.dir;var i}).join(","),Mw(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Jm(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Jm(r)).join(",")),e.dt=n}return e.dt}function kw(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!E$(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!QL(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!ZL(t.startAt,e.startAt)&&ZL(t.endAt,e.endAt)}function MT(t){return He.isDocumentKey(t.path)&&null===t.collectionGroup&&0===t.filters.length}class qu{constructor(e,n=null,r=[],i=[],a=null,c="F",f=null,y=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=a,this.limitType=c,this.startAt=f,this.endAt=y,this.wt=null,this._t=null}}function ty(t){return new qu(t)}function s2(t){return 0===t.filters.length&&null===t.limit&&null==t.startAt&&null==t.endAt&&(0===t.explicitOrderBy.length||1===t.explicitOrderBy.length&&t.explicitOrderBy[0].field.isKeyField())}function HN(t){return t.explicitOrderBy.length>0?t.explicitOrderBy[0].field:null}function NT(t){for(const e of t.filters){const n=e.getFirstInequalityField();if(null!==n)return n}return null}function zN(t){return null!==t.collectionGroup}function Jh(t){const e=Ge(t);if(null===e.wt){e.wt=[];const n=NT(e),r=HN(e);if(null!==n&&null===r)n.isKeyField()||e.wt.push(new Xm(n)),e.wt.push(new Xm(sr.keyField(),"asc"));else{let i=!1;for(const a of e.explicitOrderBy)e.wt.push(a),a.field.isKeyField()&&(i=!0);if(!i){const a=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.wt.push(new Xm(sr.keyField(),a))}}}return e.wt}function Yi(t){const e=Ge(t);if(!e._t)if("F"===e.limitType)e._t=$N(e.path,e.collectionGroup,Jh(e),e.filters,e.limit,e.startAt,e.endAt);else{const n=[];for(const a of Jh(e))n.push(new Xm(a.field,"desc"===a.dir?"asc":"desc"));const r=e.endAt?new Sl(e.endAt.position,e.endAt.inclusive):null,i=e.startAt?new Sl(e.startAt.position,e.startAt.inclusive):null;e._t=$N(e.path,e.collectionGroup,n,e.filters,e.limit,r,i)}return e._t}function GN(t,e){e.getFirstInequalityField(),NT(t);const n=t.filters.concat([e]);return new qu(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function RT(t,e,n){return new qu(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Fw(t,e){return kw(Yi(t),Yi(e))&&t.limitType===e.limitType}function o2(t){return`${Qh(Yi(t))}|lt:${t.limitType}`}function qN(t){return`Query(target=${function(e){let n=e.path.canonicalString();return null!==e.collectionGroup&&(n+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(n+=`, filters: [${e.filters.map(r=>XL(r)).join(", ")}]`),Mw(e.limit)||(n+=", limit: "+e.limit),e.orderBy.length>0&&(n+=`, orderBy: [${e.orderBy.map(r=>{return`${(i=r).field.canonicalString()} (${i.dir})`;var i}).join(", ")}]`),e.startAt&&(n+=", startAt: ",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Jm(r)).join(",")),e.endAt&&(n+=", endAt: ",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Jm(r)).join(",")),`Target(${n})`}(Yi(t))}; limitType=${t.limitType})`}function Lw(t,e){return e.isFoundDocument()&&function(n,r){const i=r.key.path;return null!==n.collectionGroup?r.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(i):He.isDocumentKey(n.path)?n.path.isEqual(i):n.path.isImmediateParentOf(i)}(t,e)&&function(n,r){for(const i of Jh(n))if(!i.field.isKeyField()&&null===r.data.field(i.field))return!1;return!0}(t,e)&&function(n,r){for(const i of n.filters)if(!i.matches(r))return!1;return!0}(t,e)&&(r=e,!((n=t).startAt&&!function(i,a,c){const f=WL(i,a,c);return i.inclusive?f<=0:f<0}(n.startAt,Jh(n),r)||n.endAt&&!function(i,a,c){const f=WL(i,a,c);return i.inclusive?f>=0:f>0}(n.endAt,Jh(n),r)));var n,r}function u2(t){return(e,n)=>{let r=!1;for(const i of Jh(t)){const a=M$(i,e,n);if(0!==a)return a;r=r||i.field.isKeyField()}return 0}}function M$(t,e,n){const r=t.field.isKeyField()?He.comparator(e.key,n.key):function(i,a,c){const f=a.data.field(i),y=c.data.field(i);return null!==f&&null!==y?Tl(f,y):Ye()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return Ye()}}class Wu{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(void 0!==r)for(const[i,a]of r)if(this.equalsFn(i,e))return a}has(e){return void 0!==this.get(e)}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(void 0===i)return this.inner[r]=[[e,n]],void this.innerSize++;for(let a=0;a<i.length;a++)if(this.equalsFn(i[a][0],e))return void(i[a]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(void 0===r)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return 1===r.length?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Il(this.inner,(n,r)=>{for(const[i,a]of r)e(i,a)})}isEmpty(){return LL(this.inner)}size(){return this.innerSize}}const x$=new Dn(He.comparator);function ps(){return x$}const c2=new Dn(He.comparator);function Vw(...t){let e=c2;for(const n of t)e=e.insert(n.key,n);return e}function l2(t){let e=c2;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Fa(){return Uw()}function d2(){return Uw()}function Uw(){return new Wu(t=>t.toString(),(t,e)=>t.isEqual(e))}const N$=new Dn(He.comparator),R$=new xn(He.comparator);function Lt(...t){let e=R$;for(const n of t)e=e.add(n);return e}const O$=new xn(Mt);function h2(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:xw(e)?"-0":e}}function f2(t){return{integerValue:""+t}}function p2(t,e){return function ML(t){return"number"==typeof t&&Number.isInteger(t)&&!xw(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}(e)?f2(e):h2(t,e)}class OT{constructor(){this._=void 0}}function P$(t,e,n){return t instanceof ny?function(r,i){const a={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return i&&bT(i)&&(i=CT(i)),i&&(a.fields.__previous_value__=i),{mapValue:a}}(n,e):t instanceof Xh?m2(t,e):t instanceof ef?y2(t,e):function(r,i){const a=g2(r,i),c=_2(a)+_2(r.gt);return VN(a)&&VN(r.gt)?f2(c):h2(r.serializer,c)}(t,e)}function k$(t,e,n){return t instanceof Xh?m2(t,e):t instanceof ef?y2(t,e):n}function g2(t,e){return t instanceof ry?VN(n=e)||(r=n)&&"doubleValue"in r?e:{integerValue:0}:null;var r,n}class ny extends OT{}class Xh extends OT{constructor(e){super(),this.elements=e}}function m2(t,e){const n=v2(e);for(const r of t.elements)n.some(i=>ka(i,r))||n.push(r);return{arrayValue:{values:n}}}class ef extends OT{constructor(e){super(),this.elements=e}}function y2(t,e){let n=v2(e);for(const r of t.elements)n=n.filter(i=>!ka(i,r));return{arrayValue:{values:n}}}class ry extends OT{constructor(e,n){super(),this.serializer=e,this.gt=n}}function _2(t){return Wn(t.integerValue||t.doubleValue)}function v2(t){return Ow(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}class L${constructor(e,n){this.version=e,this.transformResults=n}}class kn{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new kn}static exists(e){return new kn(void 0,e)}static updateTime(e){return new kn(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function PT(t,e){return void 0!==t.updateTime?e.isFoundDocument()&&e.version.isEqual(t.updateTime):void 0===t.exists||t.exists===e.isFoundDocument()}class kT{}function w2(t,e){if(!t.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return t.isNoDocument()?new sy(t.key,kn.none()):new iy(t.key,t.data,kn.none());{const n=t.data,r=ii.empty();let i=new xn(sr.comparator);for(let a of e.fields)if(!i.has(a)){let c=n.field(a);null===c&&a.length>1&&(a=a.popLast(),c=n.field(a)),null===c?r.delete(a):r.set(a,c),i=i.add(a)}return new Zu(t.key,r,new fs(i.toArray()),kn.none())}}function V$(t,e,n){t instanceof iy?function(r,i,a){const c=r.value.clone(),f=D2(r.fieldTransforms,i,a.transformResults);c.setAll(f),i.convertToFoundDocument(a.version,c).setHasCommittedMutations()}(t,e,n):t instanceof Zu?function(r,i,a){if(!PT(r.precondition,i))return void i.convertToUnknownDocument(a.version);const c=D2(r.fieldTransforms,i,a.transformResults),f=i.data;f.setAll(I2(r)),f.setAll(c),i.convertToFoundDocument(a.version,f).setHasCommittedMutations()}(t,e,n):e.convertToNoDocument(n.version).setHasCommittedMutations()}function jw(t,e,n,r){return t instanceof iy?function(i,a,c,f){if(!PT(i.precondition,a))return c;const y=i.value.clone(),v=b2(i.fieldTransforms,f,a);return y.setAll(v),a.convertToFoundDocument(a.version,y).setHasLocalMutations(),null}(t,e,n,r):t instanceof Zu?function(i,a,c,f){if(!PT(i.precondition,a))return c;const y=b2(i.fieldTransforms,f,a),v=a.data;return v.setAll(I2(i)),v.setAll(y),a.convertToFoundDocument(a.version,v).setHasLocalMutations(),null===c?null:c.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(b=>b.field))}(t,e,n,r):(c=n,PT(t.precondition,a=e)?(a.convertToNoDocument(a.version).setHasLocalMutations(),null):c);var a,c}function U$(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),a=g2(r.transform,i||null);null!=a&&(null===n&&(n=ii.empty()),n.set(r.field,a))}return n||null}function E2(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&(r=e.fieldTransforms,!!(void 0===(n=t.fieldTransforms)&&void 0===r||n&&r&&Ym(n,r,(i,a)=>function F$(t,e){return t.field.isEqual(e.field)&&(r=e.transform,(n=t.transform)instanceof Xh&&r instanceof Xh||n instanceof ef&&r instanceof ef?Ym(n.elements,r.elements,ka):n instanceof ry&&r instanceof ry?ka(n.gt,r.gt):n instanceof ny&&r instanceof ny);var n,r}(i,a))))&&(0===t.type?t.value.isEqual(e.value):1!==t.type||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask));var n,r}class iy extends kT{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Zu extends kT{constructor(e,n,r,i,a=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=a,this.type=1}getFieldMask(){return this.fieldMask}}function I2(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function D2(t,e,n){const r=new Map;rt(t.length===n.length);for(let i=0;i<n.length;i++){const a=t[i],c=a.transform,f=e.data.field(a.field);r.set(a.field,k$(c,f,n[i]))}return r}function b2(t,e,n){const r=new Map;for(const i of t){const a=i.transform,c=n.data.field(i.field);r.set(i.field,P$(a,c,e))}return r}class sy extends kT{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class ZN extends kT{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class KN{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const a=this.mutations[i];a.key.isEqual(e.key)&&V$(a,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=jw(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=jw(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=d2();return this.mutations.forEach(i=>{const a=e.get(i.key),c=a.overlayedDocument;let f=this.applyToLocalView(c,a.mutatedFields);f=n.has(i.key)?null:f;const y=w2(c,f);null!==y&&r.set(i.key,y),c.isValidDocument()||c.convertToNoDocument(it.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Lt())}isEqual(e){return this.batchId===e.batchId&&Ym(this.mutations,e.mutations,(n,r)=>E2(n,r))&&Ym(this.baseMutations,e.baseMutations,(n,r)=>E2(n,r))}}class YN{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){rt(e.mutations.length===r.length);let i=N$;const a=e.mutations;for(let c=0;c<a.length;c++)i=i.insert(a[c].key,r[c].version);return new YN(e,n,r,i)}}class QN{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class j${constructor(e,n){this.count=e,this.unchangedNames=n}}var fr,Yt;function T2(t){if(void 0===t)return ir("GRPC error has no .code"),ee.UNKNOWN;switch(t){case fr.OK:return ee.OK;case fr.CANCELLED:return ee.CANCELLED;case fr.UNKNOWN:return ee.UNKNOWN;case fr.DEADLINE_EXCEEDED:return ee.DEADLINE_EXCEEDED;case fr.RESOURCE_EXHAUSTED:return ee.RESOURCE_EXHAUSTED;case fr.INTERNAL:return ee.INTERNAL;case fr.UNAVAILABLE:return ee.UNAVAILABLE;case fr.UNAUTHENTICATED:return ee.UNAUTHENTICATED;case fr.INVALID_ARGUMENT:return ee.INVALID_ARGUMENT;case fr.NOT_FOUND:return ee.NOT_FOUND;case fr.ALREADY_EXISTS:return ee.ALREADY_EXISTS;case fr.PERMISSION_DENIED:return ee.PERMISSION_DENIED;case fr.FAILED_PRECONDITION:return ee.FAILED_PRECONDITION;case fr.ABORTED:return ee.ABORTED;case fr.OUT_OF_RANGE:return ee.OUT_OF_RANGE;case fr.UNIMPLEMENTED:return ee.UNIMPLEMENTED;case fr.DATA_LOSS:return ee.DATA_LOSS;default:return Ye()}}(Yt=fr||(fr={}))[Yt.OK=0]="OK",Yt[Yt.CANCELLED=1]="CANCELLED",Yt[Yt.UNKNOWN=2]="UNKNOWN",Yt[Yt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Yt[Yt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Yt[Yt.NOT_FOUND=5]="NOT_FOUND",Yt[Yt.ALREADY_EXISTS=6]="ALREADY_EXISTS",Yt[Yt.PERMISSION_DENIED=7]="PERMISSION_DENIED",Yt[Yt.UNAUTHENTICATED=16]="UNAUTHENTICATED",Yt[Yt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Yt[Yt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Yt[Yt.ABORTED=10]="ABORTED",Yt[Yt.OUT_OF_RANGE=11]="OUT_OF_RANGE",Yt[Yt.UNIMPLEMENTED=12]="UNIMPLEMENTED",Yt[Yt.INTERNAL=13]="INTERNAL",Yt[Yt.UNAVAILABLE=14]="UNAVAILABLE",Yt[Yt.DATA_LOSS=15]="DATA_LOSS";class JN{constructor(){this.onExistenceFilterMismatchCallbacks=new Map}static get instance(){return FT}static getOrCreateInstance(){return null===FT&&(FT=new JN),FT}onExistenceFilterMismatch(e){const n=Symbol();return this.onExistenceFilterMismatchCallbacks.set(n,e),()=>this.onExistenceFilterMismatchCallbacks.delete(n)}notifyOnExistenceFilterMismatch(e){this.onExistenceFilterMismatchCallbacks.forEach(n=>n(e))}}let FT=null;const $$=new Zm([4294967295,4294967295],0);function A2(t){const e=function S2(){return new TextEncoder}().encode(t),n=new Lj;return n.update(e),new Uint8Array(n.digest())}function M2(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),a=e.getUint32(12,!0);return[new Zm([n,r],0),new Zm([i,a],0)]}class XN{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new $w(`Invalid padding: ${n}`);if(r<0)throw new $w(`Invalid hash count: ${r}`);if(e.length>0&&0===this.hashCount)throw new $w(`Invalid hash count: ${r}`);if(0===e.length&&0!==n)throw new $w(`Invalid padding when bitmap length is 0: ${n}`);this.It=8*e.length-n,this.Tt=Zm.fromNumber(this.It)}Et(e,n,r){let i=e.add(n.multiply(Zm.fromNumber(r)));return 1===i.compare($$)&&(i=new Zm([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Tt).toNumber()}At(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}vt(e){if(0===this.It)return!1;const n=A2(e),[r,i]=M2(n);for(let a=0;a<this.hashCount;a++){const c=this.Et(r,i,a);if(!this.At(c))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,a=new Uint8Array(Math.ceil(e/8)),c=new XN(a,i,n);return r.forEach(f=>c.insert(f)),c}insert(e){if(0===this.It)return;const n=A2(e),[r,i]=M2(n);for(let a=0;a<this.hashCount;a++){const c=this.Et(r,i,a);this.Rt(c)}}Rt(e){const n=Math.floor(e/8);this.bitmap[n]|=1<<e%8}}class $w extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Hw{constructor(e,n,r,i,a){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=a}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,zw.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Hw(it.min(),i,new Dn(Mt),ps(),Lt())}}class zw{constructor(e,n,r,i,a){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=a}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new zw(r,n,Lt(),Lt(),Lt())}}class LT{constructor(e,n,r,i){this.Pt=e,this.removedTargetIds=n,this.key=r,this.bt=i}}class x2{constructor(e,n){this.targetId=e,this.Vt=n}}class N2{constructor(e,n,r=Er.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class R2{constructor(){this.St=0,this.Dt=P2(),this.Ct=Er.EMPTY_BYTE_STRING,this.xt=!1,this.Nt=!0}get current(){return this.xt}get resumeToken(){return this.Ct}get kt(){return 0!==this.St}get Mt(){return this.Nt}$t(e){e.approximateByteSize()>0&&(this.Nt=!0,this.Ct=e)}Ot(){let e=Lt(),n=Lt(),r=Lt();return this.Dt.forEach((i,a)=>{switch(a){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:Ye()}}),new zw(this.Ct,this.xt,e,n,r)}Ft(){this.Nt=!1,this.Dt=P2()}Bt(e,n){this.Nt=!0,this.Dt=this.Dt.insert(e,n)}Lt(e){this.Nt=!0,this.Dt=this.Dt.remove(e)}qt(){this.St+=1}Ut(){this.St-=1}Kt(){this.Nt=!0,this.xt=!0}}class H${constructor(e){this.Gt=e,this.Qt=new Map,this.jt=ps(),this.zt=O2(),this.Wt=new Dn(Mt)}Ht(e){for(const n of e.Pt)e.bt&&e.bt.isFoundDocument()?this.Jt(n,e.bt):this.Yt(n,e.key,e.bt);for(const n of e.removedTargetIds)this.Yt(n,e.key,e.bt)}Xt(e){this.forEachTarget(e,n=>{const r=this.Zt(n);switch(e.state){case 0:this.te(n)&&r.$t(e.resumeToken);break;case 1:r.Ut(),r.kt||r.Ft(),r.$t(e.resumeToken);break;case 2:r.Ut(),r.kt||this.removeTarget(n);break;case 3:this.te(n)&&(r.Kt(),r.$t(e.resumeToken));break;case 4:this.te(n)&&(this.ee(n),r.$t(e.resumeToken));break;default:Ye()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Qt.forEach((r,i)=>{this.te(i)&&n(i)})}ne(e){var n;const r=e.targetId,i=e.Vt.count,a=this.se(r);if(a){const c=a.target;if(MT(c))if(0===i){const f=new He(c.path);this.Yt(r,f,Nn.newNoDocument(f,it.min()))}else rt(1===i);else{const f=this.ie(r);if(f!==i){const y=this.re(e,f);0!==y&&(this.ee(r),this.Wt=this.Wt.insert(r,2===y?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch")),null===(n=JN.instance)||void 0===n||n.notifyOnExistenceFilterMismatch(function(v,b,T){var N,O,$,Q,ae,Ae;const je={localCacheCount:b,existenceFilterCount:T.count},We=T.unchangedNames;return We&&(je.bloomFilter={applied:0===v,hashCount:null!==(N=We?.hashCount)&&void 0!==N?N:0,bitmapLength:null!==(Q=null===($=null===(O=We?.bits)||void 0===O?void 0:O.bitmap)||void 0===$?void 0:$.length)&&void 0!==Q?Q:0,padding:null!==(Ae=null===(ae=We?.bits)||void 0===ae?void 0:ae.padding)&&void 0!==Ae?Ae:0}),je}(y,f,e.Vt))}}}}re(e,n){const{unchangedNames:r,count:i}=e.Vt;if(!r||!r.bits)return 1;const{bits:{bitmap:a="",padding:c=0},hashCount:f=0}=r;let y,v;try{y=Gu(a).toUint8Array()}catch(b){if(b instanceof UL)return Vo("Decoding the base64 bloom filter in existence filter failed ("+b.message+"); ignoring the bloom filter and falling back to full re-query."),1;throw b}try{v=new XN(y,c,f)}catch(b){return Vo(b instanceof $w?"BloomFilter error: ":"Applying bloom filter failed: ",b),1}return 0===v.It?1:i!==n-this.oe(e.targetId,v)?2:0}oe(e,n){const r=this.Gt.getRemoteKeysForTarget(e);let i=0;return r.forEach(a=>{const c=this.Gt.ue(),f=`projects/${c.projectId}/databases/${c.database}/documents/${a.path.canonicalString()}`;n.vt(f)||(this.Yt(e,a,null),i++)}),i}ce(e){const n=new Map;this.Qt.forEach((a,c)=>{const f=this.se(c);if(f){if(a.current&&MT(f.target)){const y=new He(f.target.path);null!==this.jt.get(y)||this.ae(c,y)||this.Yt(c,y,Nn.newNoDocument(y,e))}a.Mt&&(n.set(c,a.Ot()),a.Ft())}});let r=Lt();this.zt.forEach((a,c)=>{let f=!0;c.forEachWhile(y=>{const v=this.se(y);return!v||"TargetPurposeLimboResolution"===v.purpose||(f=!1,!1)}),f&&(r=r.add(a))}),this.jt.forEach((a,c)=>c.setReadTime(e));const i=new Hw(e,n,this.Wt,this.jt,r);return this.jt=ps(),this.zt=O2(),this.Wt=new Dn(Mt),i}Jt(e,n){if(!this.te(e))return;const r=this.ae(e,n.key)?2:0;this.Zt(e).Bt(n.key,r),this.jt=this.jt.insert(n.key,n),this.zt=this.zt.insert(n.key,this.he(n.key).add(e))}Yt(e,n,r){if(!this.te(e))return;const i=this.Zt(e);this.ae(e,n)?i.Bt(n,1):i.Lt(n),this.zt=this.zt.insert(n,this.he(n).delete(e)),r&&(this.jt=this.jt.insert(n,r))}removeTarget(e){this.Qt.delete(e)}ie(e){const n=this.Zt(e).Ot();return this.Gt.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}qt(e){this.Zt(e).qt()}Zt(e){let n=this.Qt.get(e);return n||(n=new R2,this.Qt.set(e,n)),n}he(e){let n=this.zt.get(e);return n||(n=new xn(Mt),this.zt=this.zt.insert(e,n)),n}te(e){const n=null!==this.se(e);return n||Ce("WatchChangeAggregator","Detected inactive target",e),n}se(e){const n=this.Qt.get(e);return n&&n.kt?null:this.Gt.le(e)}ee(e){this.Qt.set(e,new R2),this.Gt.getRemoteKeysForTarget(e).forEach(n=>{this.Yt(e,n,null)})}ae(e,n){return this.Gt.getRemoteKeysForTarget(e).has(n)}}function O2(){return new Dn(He.comparator)}function P2(){return new Dn(He.comparator)}const z$={asc:"ASCENDING",desc:"DESCENDING"},G$={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},q$={and:"AND",or:"OR"};class W${constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function eR(t,e){return t.useProto3Json||Mw(e)?e:{value:e}}function oy(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function k2(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function Z$(t,e){return oy(t,e.toTimestamp())}function or(t){return rt(!!t),it.fromTimestamp(function(e){const n=Dl(e);return new jn(n.seconds,n.nanos)}(t))}function tR(t,e){return(n=t,new Kt(["projects",n.projectId,"databases",n.database])).child("documents").child(e).canonicalString();var n}function F2(t){const e=Kt.fromString(t);return rt(G2(e)),e}function Gw(t,e){return tR(t.databaseId,e.path)}function La(t,e){const n=F2(e);if(n.get(1)!==t.databaseId.projectId)throw new we(ee.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new we(ee.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new He(V2(n))}function nR(t,e){return tR(t.databaseId,e)}function qw(t){return new Kt(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function V2(t){return rt(t.length>4&&"documents"===t.get(4)),t.popFirst(5)}function U2(t,e,n){return{name:Gw(t,e),fields:n.value.mapValue.fields}}function j2(t,e){return{documents:[nR(t,e.path)]}}function iR(t,e){const n={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(n.parent=nR(t,r),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=nR(t,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);const i=function(y){if(0!==y.length)return z2(dn.create(y,"and"))}(e.filters);i&&(n.structuredQuery.where=i);const a=function(y){if(0!==y.length)return y.map(v=>{return{field:Al((b=v).field),direction:X$(b.dir)};var b})}(e.orderBy);a&&(n.structuredQuery.orderBy=a);const c=eR(t,e.limit);var f,y;return null!==c&&(n.structuredQuery.limit=c),e.startAt&&(n.structuredQuery.startAt={before:(f=e.startAt).inclusive,values:f.position}),e.endAt&&(n.structuredQuery.endAt={before:!(y=e.endAt).inclusive,values:y.position}),n}function $2(t){let e=function L2(t){const e=F2(t);return 4===e.length?Kt.emptyPath():V2(e)}(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){rt(1===r);const b=n.from[0];b.allDescendants?i=b.collectionId:e=e.child(b.collectionId)}let a=[];n.where&&(a=function(b){const T=H2(b);return T instanceof dn&&BN(T)?T.getFilters():[T]}(n.where));let c=[];n.orderBy&&(c=n.orderBy.map(b=>{return new Xm(ay((T=b).field),function(N){switch(N){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(T.direction));var T}));let f=null;n.limit&&(f=function(b){let T;return T="object"==typeof b?b.value:b,Mw(T)?null:T}(n.limit));let y=null;var b;n.startAt&&(y=new Sl((b=n.startAt).values||[],!!b.before));let v=null;return n.endAt&&(v=function(b){return new Sl(b.values||[],!b.before)}(n.endAt)),function i2(t,e,n,r,i,a,c,f){return new qu(t,e,n,r,i,a,c,f)}(e,i,c,a,f,"F",y,v)}function H2(t){return void 0!==t.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const n=ay(e.unaryFilter.field);return Gt.create(n,"==",{doubleValue:NaN});case"IS_NULL":const r=ay(e.unaryFilter.field);return Gt.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=ay(e.unaryFilter.field);return Gt.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const a=ay(e.unaryFilter.field);return Gt.create(a,"!=",{nullValue:"NULL_VALUE"});default:return Ye()}}(t):void 0!==t.fieldFilter?Gt.create(ay((e=t).fieldFilter.field),function(n){switch(n){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Ye()}}(e.fieldFilter.op),e.fieldFilter.value):void 0!==t.compositeFilter?function(e){return dn.create(e.compositeFilter.filters.map(n=>H2(n)),function(n){switch(n){case"AND":return"and";case"OR":return"or";default:return Ye()}}(e.compositeFilter.op))}(t):Ye();var e}function X$(t){return z$[t]}function e3(t){return G$[t]}function t3(t){return q$[t]}function Al(t){return{fieldPath:t.canonicalString()}}function ay(t){return sr.fromServerFormat(t.fieldPath)}function z2(t){return t instanceof Gt?function(e){if("=="===e.op){if($L(e.value))return{unaryFilter:{field:Al(e.field),op:"IS_NAN"}};if(jL(e.value))return{unaryFilter:{field:Al(e.field),op:"IS_NULL"}}}else if("!="===e.op){if($L(e.value))return{unaryFilter:{field:Al(e.field),op:"IS_NOT_NAN"}};if(jL(e.value))return{unaryFilter:{field:Al(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Al(e.field),op:e3(e.op),value:e.value}}}(t):t instanceof dn?function(e){const n=e.getFilters().map(r=>z2(r));return 1===n.length?n[0]:{compositeFilter:{op:t3(e.op),filters:n}}}(t):Ye()}function n3(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function G2(t){return t.length>=4&&"projects"===t.get(0)&&"databases"===t.get(2)}class Ku{constructor(e,n,r,i,a=it.min(),c=it.min(),f=Er.EMPTY_BYTE_STRING,y=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=c,this.resumeToken=f,this.expectedCount=y}withSequenceNumber(e){return new Ku(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Ku(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Ku(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Ku(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class q2{constructor(e){this.fe=e}}function sR(t){const e=$2({parent:t.parent,structuredQuery:t.structuredQuery});return"LAST"===t.limitType?RT(e,e.limit,"L"):e}class sf{constructor(){}_e(e,n){this.me(e,n),n.ge()}me(e,n){if("nullValue"in e)this.ye(n,5);else if("booleanValue"in e)this.ye(n,10),n.pe(e.booleanValue?1:0);else if("integerValue"in e)this.ye(n,15),n.pe(Wn(e.integerValue));else if("doubleValue"in e){const r=Wn(e.doubleValue);isNaN(r)?this.ye(n,13):(this.ye(n,15),xw(r)?n.pe(0):n.pe(r))}else if("timestampValue"in e){const r=e.timestampValue;this.ye(n,20),"string"==typeof r?n.Ie(r):(n.Ie(`${r.seconds||""}`),n.pe(r.nanos||0))}else if("stringValue"in e)this.Te(e.stringValue,n),this.Ee(n);else if("bytesValue"in e)this.ye(n,30),n.Ae(Gu(e.bytesValue)),this.Ee(n);else if("referenceValue"in e)this.ve(e.referenceValue,n);else if("geoPointValue"in e){const r=e.geoPointValue;this.ye(n,45),n.pe(r.latitude||0),n.pe(r.longitude||0)}else"mapValue"in e?HL(e)?this.ye(n,Number.MAX_SAFE_INTEGER):(this.Re(e.mapValue,n),this.Ee(n)):"arrayValue"in e?(this.Pe(e.arrayValue,n),this.Ee(n)):Ye()}Te(e,n){this.ye(n,25),this.be(e,n)}be(e,n){n.Ie(e)}Re(e,n){const r=e.fields||{};this.ye(n,55);for(const i of Object.keys(r))this.Te(i,n),this.me(r[i],n)}Pe(e,n){const r=e.values||[];this.ye(n,50);for(const i of r)this.me(i,n)}ve(e,n){this.ye(n,37),He.fromName(e).path.forEach(r=>{this.ye(n,60),this.be(r,n)})}ye(e,n){e.pe(n)}Ee(e){e.pe(2)}}sf.Ve=new sf;class d3{constructor(){this.rn=new dR}addToCollectionParentIndex(e,n){return this.rn.add(n),q.resolve()}getCollectionParents(e,n){return q.resolve(this.rn.getEntries(n))}addFieldIndex(e,n){return q.resolve()}deleteFieldIndex(e,n){return q.resolve()}getDocumentsMatchingTarget(e,n){return q.resolve(null)}getIndexType(e,n){return q.resolve(0)}getFieldIndexes(e,n){return q.resolve([])}getNextCollectionGroupToUpdate(e){return q.resolve(null)}getMinOffset(e,n){return q.resolve(Ls.min())}getMinOffsetFromCollectionGroup(e,n){return q.resolve(Ls.min())}updateCollectionGroup(e,n,r){return q.resolve()}updateIndexEntries(e,n){return q.resolve()}}class dR{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new xn(Kt.comparator),a=!i.has(r);return this.index[n]=i.add(r),a}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new xn(Kt.comparator)).toArray()}}new Uint8Array(0);class Mi{constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new Mi(e,Mi.DEFAULT_COLLECTION_PERCENTILE,Mi.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}Mi.DEFAULT_COLLECTION_PERCENTILE=10,Mi.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Mi.DEFAULT=new Mi(41943040,Mi.DEFAULT_COLLECTION_PERCENTILE,Mi.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Mi.DISABLED=new Mi(-1,0,0);class uf{constructor(e){this.Nn=e}next(){return this.Nn+=2,this.Nn}static kn(){return new uf(0)}static Mn(){return new uf(-1)}}class y3{constructor(){this.changes=new Wu(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Nn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return void 0!==r?q.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class w3{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}class _V{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(null!==r&&jw(r.mutation,i,fs.empty(),jn.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,Lt()).next(()=>r))}getLocalViewOfDocuments(e,n,r=Lt()){const i=Fa();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(a=>{let c=Vw();return a.forEach((f,y)=>{c=c.insert(f,y.overlayedDocument)}),c}))}getOverlayedDocuments(e,n){const r=Fa();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,Lt()))}populateOverlays(e,n,r){const i=[];return r.forEach(a=>{n.has(a)||i.push(a)}),this.documentOverlayCache.getOverlays(e,i).next(a=>{a.forEach((c,f)=>{n.set(c,f)})})}computeViews(e,n,r,i){let a=ps();const c=Uw(),f=Uw();return n.forEach((y,v)=>{const b=r.get(v.key);i.has(v.key)&&(void 0===b||b.mutation instanceof Zu)?a=a.insert(v.key,v):void 0!==b?(c.set(v.key,b.mutation.getFieldMask()),jw(b.mutation,v,b.mutation.getFieldMask(),jn.now())):c.set(v.key,fs.empty())}),this.recalculateAndSaveOverlays(e,a).next(y=>(y.forEach((v,b)=>c.set(v,b)),n.forEach((v,b)=>{var T;return f.set(v,new w3(b,null!==(T=c.get(v))&&void 0!==T?T:null))}),f))}recalculateAndSaveOverlays(e,n){const r=Uw();let i=new Dn((c,f)=>c-f),a=Lt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(c=>{for(const f of c)f.keys().forEach(y=>{const v=n.get(y);if(null===v)return;let b=r.get(y)||fs.empty();b=f.applyToLocalView(v,b),r.set(y,b);const T=(i.get(f.batchId)||Lt()).add(y);i=i.insert(f.batchId,T)})}).next(()=>{const c=[],f=i.getReverseIterator();for(;f.hasNext();){const y=f.getNext(),v=y.key,b=y.value,T=d2();b.forEach(N=>{if(!a.has(N)){const O=w2(n.get(N),r.get(N));null!==O&&T.set(N,O),a=a.add(N)}}),c.push(this.documentOverlayCache.saveOverlays(e,v,T))}return q.waitFor(c)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r){return He.isDocumentKey((i=n).path)&&null===i.collectionGroup&&0===i.filters.length?this.getDocumentsMatchingDocumentQuery(e,n.path):zN(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r):this.getDocumentsMatchingCollectionQuery(e,n,r);var i}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(a=>{const c=i-a.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-a.size):q.resolve(Fa());let f=-1,y=a;return c.next(v=>q.forEach(v,(b,T)=>(f<T.largestBatchId&&(f=T.largestBatchId),a.get(b)?q.resolve():this.remoteDocumentCache.getEntry(e,b).next(N=>{y=y.insert(b,N)}))).next(()=>this.populateOverlays(e,v,a)).next(()=>this.computeViews(e,y,v,Lt())).next(b=>({batchId:f,changes:l2(b)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new He(n)).next(r=>{let i=Vw();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r){const i=n.collectionGroup;let a=Vw();return this.indexManager.getCollectionParents(e,i).next(c=>q.forEach(c,f=>{const y=(v=n,b=f.child(i),new qu(b,null,v.explicitOrderBy.slice(),v.filters.slice(),v.limit,v.limitType,v.startAt,v.endAt));var v,b;return this.getDocumentsMatchingCollectionQuery(e,y,r).next(v=>{v.forEach((b,T)=>{a=a.insert(b,T)})})}).next(()=>a))}getDocumentsMatchingCollectionQuery(e,n,r){let i;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(a=>(i=a,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,i))).next(a=>{i.forEach((f,y)=>{const v=y.getKey();null===a.get(v)&&(a=a.insert(v,Nn.newInvalidDocument(v)))});let c=Vw();return a.forEach((f,y)=>{const v=i.get(f);void 0!==v&&jw(v.mutation,y,fs.empty(),jn.now()),Lw(n,y)&&(c=c.insert(f,y))}),c})}}class E3{constructor(e){this.serializer=e,this.cs=new Map,this.hs=new Map}getBundleMetadata(e,n){return q.resolve(this.cs.get(n))}saveBundleMetadata(e,n){var r;return this.cs.set(n.id,{id:(r=n).id,version:r.version,createTime:or(r.createTime)}),q.resolve()}getNamedQuery(e,n){return q.resolve(this.hs.get(n))}saveNamedQuery(e,n){return this.hs.set(n.name,{name:(r=n).name,query:sR(r.bundledQuery),readTime:or(r.readTime)}),q.resolve();var r}}class I3{constructor(){this.overlays=new Dn(He.comparator),this.ls=new Map}getOverlay(e,n){return q.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Fa();return q.forEach(n,i=>this.getOverlay(e,i).next(a=>{null!==a&&r.set(i,a)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,a)=>{this.we(e,n,a)}),q.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.ls.get(r);return void 0!==i&&(i.forEach(a=>this.overlays=this.overlays.remove(a)),this.ls.delete(r)),q.resolve()}getOverlaysForCollection(e,n,r){const i=Fa(),a=n.length+1,c=new He(n.child("")),f=this.overlays.getIteratorFrom(c);for(;f.hasNext();){const y=f.getNext().value,v=y.getKey();if(!n.isPrefixOf(v.path))break;v.path.length===a&&y.largestBatchId>r&&i.set(y.getKey(),y)}return q.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let a=new Dn((v,b)=>v-b);const c=this.overlays.getIterator();for(;c.hasNext();){const v=c.getNext().value;if(v.getKey().getCollectionGroup()===n&&v.largestBatchId>r){let b=a.get(v.largestBatchId);null===b&&(b=Fa(),a=a.insert(v.largestBatchId,b)),b.set(v.getKey(),v)}}const f=Fa(),y=a.getIterator();for(;y.hasNext()&&(y.getNext().value.forEach((v,b)=>f.set(v,b)),!(f.size()>=i)););return q.resolve(f)}we(e,n,r){const i=this.overlays.get(r.key);if(null!==i){const c=this.ls.get(i.largestBatchId).delete(r.key);this.ls.set(i.largestBatchId,c)}this.overlays=this.overlays.insert(r.key,new QN(n,r));let a=this.ls.get(n);void 0===a&&(a=Lt(),this.ls.set(n,a)),this.ls.set(n,a.add(r.key))}}class hR{constructor(){this.fs=new xn(Vr.ds),this.ws=new xn(Vr._s)}isEmpty(){return this.fs.isEmpty()}addReference(e,n){const r=new Vr(e,n);this.fs=this.fs.add(r),this.ws=this.ws.add(r)}gs(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.ys(new Vr(e,n))}ps(e,n){e.forEach(r=>this.removeReference(r,n))}Is(e){const n=new He(new Kt([])),r=new Vr(n,e),i=new Vr(n,e+1),a=[];return this.ws.forEachInRange([r,i],c=>{this.ys(c),a.push(c.key)}),a}Ts(){this.fs.forEach(e=>this.ys(e))}ys(e){this.fs=this.fs.delete(e),this.ws=this.ws.delete(e)}Es(e){const n=new He(new Kt([])),r=new Vr(n,e),i=new Vr(n,e+1);let a=Lt();return this.ws.forEachInRange([r,i],c=>{a=a.add(c.key)}),a}containsKey(e){const n=new Vr(e,0),r=this.fs.firstAfterOrEqual(n);return null!==r&&e.isEqual(r.key)}}class Vr{constructor(e,n){this.key=e,this.As=n}static ds(e,n){return He.comparator(e.key,n.key)||Mt(e.As,n.As)}static _s(e,n){return Mt(e.As,n.As)||He.comparator(e.key,n.key)}}class D3{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.vs=1,this.Rs=new xn(Vr.ds)}checkEmpty(e){return q.resolve(0===this.mutationQueue.length)}addMutationBatch(e,n,r,i){const a=this.vs;this.vs++;const c=new KN(a,n,r,i);this.mutationQueue.push(c);for(const f of i)this.Rs=this.Rs.add(new Vr(f.key,a)),this.indexManager.addToCollectionParentIndex(e,f.key.path.popLast());return q.resolve(c)}lookupMutationBatch(e,n){return q.resolve(this.Ps(n))}getNextMutationBatchAfterBatchId(e,n){const i=this.bs(n+1),a=i<0?0:i;return q.resolve(this.mutationQueue.length>a?this.mutationQueue[a]:null)}getHighestUnacknowledgedBatchId(){return q.resolve(0===this.mutationQueue.length?-1:this.vs-1)}getAllMutationBatches(e){return q.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new Vr(n,0),i=new Vr(n,Number.POSITIVE_INFINITY),a=[];return this.Rs.forEachInRange([r,i],c=>{const f=this.Ps(c.As);a.push(f)}),q.resolve(a)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new xn(Mt);return n.forEach(i=>{const a=new Vr(i,0),c=new Vr(i,Number.POSITIVE_INFINITY);this.Rs.forEachInRange([a,c],f=>{r=r.add(f.As)})}),q.resolve(this.Vs(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let a=r;He.isDocumentKey(a)||(a=a.child(""));const c=new Vr(new He(a),0);let f=new xn(Mt);return this.Rs.forEachWhile(y=>{const v=y.key.path;return!!r.isPrefixOf(v)&&(v.length===i&&(f=f.add(y.As)),!0)},c),q.resolve(this.Vs(f))}Vs(e){const n=[];return e.forEach(r=>{const i=this.Ps(r);null!==i&&n.push(i)}),n}removeMutationBatch(e,n){rt(0===this.Ss(n.batchId,"removed")),this.mutationQueue.shift();let r=this.Rs;return q.forEach(n.mutations,i=>{const a=new Vr(i.key,n.batchId);return r=r.delete(a),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Rs=r})}Cn(e){}containsKey(e,n){const r=new Vr(n,0),i=this.Rs.firstAfterOrEqual(r);return q.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return q.resolve()}Ss(e,n){return this.bs(e)}bs(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}Ps(e){const n=this.bs(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}class b3{constructor(e){this.Ds=e,this.docs=new Dn(He.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),a=i?i.size:0,c=this.Ds(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:c}),this.size+=c-a,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return q.resolve(r?r.document.mutableCopy():Nn.newInvalidDocument(n))}getEntries(e,n){let r=ps();return n.forEach(i=>{const a=this.docs.get(i);r=r.insert(i,a?a.document.mutableCopy():Nn.newInvalidDocument(i))}),q.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let a=ps();const c=n.path,f=new He(c.child("")),y=this.docs.getIteratorFrom(f);for(;y.hasNext();){const{key:v,value:{document:b}}=y.getNext();if(!c.isPrefixOf(v.path))break;v.path.length>c.length+1||ON(TL(b),r)<=0||(i.has(b.key)||Lw(n,b))&&(a=a.insert(b.key,b.mutableCopy()))}return q.resolve(a)}getAllFromCollectionGroup(e,n,r,i){Ye()}Cs(e,n){return q.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new C3(this)}getSize(e){return q.resolve(this.size)}}class C3 extends y3{constructor(e){super(),this.os=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.os.addEntry(e,i)):this.os.removeEntry(r)}),q.waitFor(n)}getFromCache(e,n){return this.os.getEntry(e,n)}getAllFromCache(e,n){return this.os.getEntries(e,n)}}class T3{constructor(e){this.persistence=e,this.xs=new Wu(n=>Qh(n),kw),this.lastRemoteSnapshotVersion=it.min(),this.highestTargetId=0,this.Ns=0,this.ks=new hR,this.targetCount=0,this.Ms=uf.kn()}forEachTarget(e,n){return this.xs.forEach((r,i)=>n(i)),q.resolve()}getLastRemoteSnapshotVersion(e){return q.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return q.resolve(this.Ns)}allocateTargetId(e){return this.highestTargetId=this.Ms.next(),q.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Ns&&(this.Ns=n),q.resolve()}Fn(e){this.xs.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Ms=new uf(n),this.highestTargetId=n),e.sequenceNumber>this.Ns&&(this.Ns=e.sequenceNumber)}addTargetData(e,n){return this.Fn(n),this.targetCount+=1,q.resolve()}updateTargetData(e,n){return this.Fn(n),q.resolve()}removeTargetData(e,n){return this.xs.delete(n.target),this.ks.Is(n.targetId),this.targetCount-=1,q.resolve()}removeTargets(e,n,r){let i=0;const a=[];return this.xs.forEach((c,f)=>{f.sequenceNumber<=n&&null===r.get(f.targetId)&&(this.xs.delete(c),a.push(this.removeMatchingKeysForTargetId(e,f.targetId)),i++)}),q.waitFor(a).next(()=>i)}getTargetCount(e){return q.resolve(this.targetCount)}getTargetData(e,n){const r=this.xs.get(n)||null;return q.resolve(r)}addMatchingKeys(e,n,r){return this.ks.gs(n,r),q.resolve()}removeMatchingKeys(e,n,r){this.ks.ps(n,r);const i=this.persistence.referenceDelegate,a=[];return i&&n.forEach(c=>{a.push(i.markPotentiallyOrphaned(e,c))}),q.waitFor(a)}removeMatchingKeysForTargetId(e,n){return this.ks.Is(n),q.resolve()}getMatchingKeysForTargetId(e,n){const r=this.ks.Es(n);return q.resolve(r)}containsKey(e,n){return q.resolve(this.ks.containsKey(n))}}class fR{constructor(e,n){this.$s={},this.overlays={},this.Os=new Vs(0),this.Fs=!1,this.Fs=!0,this.referenceDelegate=e(this),this.Bs=new T3(this),this.indexManager=new d3,this.remoteDocumentCache=new b3(r=>this.referenceDelegate.Ls(r)),this.serializer=new q2(n),this.qs=new E3(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Fs=!1,Promise.resolve()}get started(){return this.Fs}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new I3,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.$s[e.toKey()];return r||(r=new D3(n,this.referenceDelegate),this.$s[e.toKey()]=r),r}getTargetCache(){return this.Bs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.qs}runTransaction(e,n,r){Ce("MemoryPersistence","Starting transaction:",e);const i=new S3(this.Os.next());return this.referenceDelegate.Us(),r(i).next(a=>this.referenceDelegate.Ks(i).next(()=>a)).toPromise().then(a=>(i.raiseOnCommittedEvent(),a))}Gs(e,n){return q.or(Object.values(this.$s).map(r=>()=>r.containsKey(e,n)))}}class S3 extends Zj{constructor(e){super(),this.currentSequenceNumber=e}}class qT{constructor(e){this.persistence=e,this.Qs=new hR,this.js=null}static zs(e){return new qT(e)}get Ws(){if(this.js)return this.js;throw Ye()}addReference(e,n,r){return this.Qs.addReference(r,n),this.Ws.delete(r.toString()),q.resolve()}removeReference(e,n,r){return this.Qs.removeReference(r,n),this.Ws.add(r.toString()),q.resolve()}markPotentiallyOrphaned(e,n){return this.Ws.add(n.toString()),q.resolve()}removeTarget(e,n){this.Qs.Is(n.targetId).forEach(i=>this.Ws.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(a=>this.Ws.add(a.toString()))}).next(()=>r.removeTargetData(e,n))}Us(){this.js=new Set}Ks(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return q.forEach(this.Ws,r=>{const i=He.fromPath(r);return this.Hs(e,i).next(a=>{a||n.removeEntry(i,it.min())})}).next(()=>(this.js=null,n.apply(e)))}updateLimboDocument(e,n){return this.Hs(e,n).next(r=>{r?this.Ws.delete(n.toString()):this.Ws.add(n.toString())})}Ls(e){return 0}Hs(e,n){return q.or([()=>q.resolve(this.Qs.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Gs(e,n)])}}class yR{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.Fi=r,this.Bi=i}static Li(e,n){let r=Lt(),i=Lt();for(const a of n.docChanges)switch(a.type){case 0:r=r.add(a.doc.key);break;case 1:i=i.add(a.doc.key)}return new yR(e,n.fromCache,r,i)}}class wV{constructor(){this.qi=!1}initialize(e,n){this.Ui=e,this.indexManager=n,this.qi=!0}getDocumentsMatchingQuery(e,n,r,i){return this.Ki(e,n).next(a=>a||this.Gi(e,n,i,r)).next(a=>a||this.Qi(e,n))}Ki(e,n){if(s2(n))return q.resolve(null);let r=Yi(n);return this.indexManager.getIndexType(e,r).next(i=>0===i?null:(null!==n.limit&&1===i&&(n=RT(n,null,"F"),r=Yi(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(a=>{const c=Lt(...a);return this.Ui.getDocuments(e,c).next(f=>this.indexManager.getMinOffset(e,r).next(y=>{const v=this.ji(n,f);return this.zi(n,v,c,y.readTime)?this.Ki(e,RT(n,null,"F")):this.Wi(e,v,n,y)}))})))}Gi(e,n,r,i){return s2(n)||i.isEqual(it.min())?this.Qi(e,n):this.Ui.getDocuments(e,r).next(a=>{const c=this.ji(n,a);return this.zi(n,c,r,i)?this.Qi(e,n):(xN()<=Qr.in.DEBUG&&Ce("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),qN(n)),this.Wi(e,c,n,function CL(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=it.fromTimestamp(1e9===r?new jn(n+1,0):new jn(n,r));return new Ls(i,He.empty(),e)}(i,-1)))})}ji(e,n){let r=new xn(u2(e));return n.forEach((i,a)=>{Lw(e,a)&&(r=r.add(a))}),r}zi(e,n,r,i){if(null===e.limit)return!1;if(r.size!==n.size)return!0;const a="F"===e.limitType?n.last():n.first();return!!a&&(a.hasPendingWrites||a.version.compareTo(i)>0)}Qi(e,n){return xN()<=Qr.in.DEBUG&&Ce("QueryEngine","Using full collection scan to execute query:",qN(n)),this.Ui.getDocumentsMatchingQuery(e,n,Ls.min())}Wi(e,n,r,i){return this.Ui.getDocumentsMatchingQuery(e,r,i).next(a=>(n.forEach(c=>{a=a.insert(c.key,c)}),a))}}class M3{constructor(e,n,r,i){this.persistence=e,this.Hi=n,this.serializer=i,this.Ji=new Dn(Mt),this.Yi=new Wu(a=>Qh(a),kw),this.Xi=new Map,this.Zi=e.getRemoteDocumentCache(),this.Bs=e.getTargetCache(),this.qs=e.getBundleCache(),this.tr(r)}tr(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new _V(this.Zi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Zi.setIndexManager(this.indexManager),this.Hi.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ji))}}function IV(t,e){return _R.apply(this,arguments)}function _R(){return _R=(0,Y.Z)(function*(t,e){const n=Ge(t);return yield n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(a=>(i=a,n.tr(e),n.mutationQueue.getAllMutationBatches(r))).next(a=>{const c=[],f=[];let y=Lt();for(const v of i){c.push(v.batchId);for(const b of v.mutations)y=y.add(b.key)}for(const v of a){f.push(v.batchId);for(const b of v.mutations)y=y.add(b.key)}return n.localDocuments.getDocuments(r,y).next(v=>({er:v,removedBatchIds:c,addedBatchIds:f}))})})}),_R.apply(this,arguments)}function DV(t){const e=Ge(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Bs.getLastRemoteSnapshotVersion(n))}function R3(t,e){const n=Ge(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(void 0===e&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function dy(t,e,n){return vR.apply(this,arguments)}function vR(){return vR=(0,Y.Z)(function*(t,e,n){const r=Ge(t),i=r.Ji.get(e),a=n?"readwrite":"readwrite-primary";try{n||(yield r.persistence.runTransaction("Release target",a,c=>r.persistence.referenceDelegate.removeTarget(c,i)))}catch(c){if(!El(c))throw c;Ce("LocalStore",`Failed to update sequence numbers for target ${e}: ${c}`)}r.Ji=r.Ji.remove(e),r.Yi.delete(i.target)}),vR.apply(this,arguments)}function KT(t,e,n){const r=Ge(t);let i=it.min(),a=Lt();return r.persistence.runTransaction("Execute query","readonly",c=>function(f,y,v){const b=Ge(f),T=b.Yi.get(v);return void 0!==T?q.resolve(b.Ji.get(T)):b.Bs.getTargetData(y,v)}(r,c,Yi(e)).next(f=>{if(f)return i=f.lastLimboFreeSnapshotVersion,r.Bs.getMatchingKeysForTargetId(c,f.targetId).next(y=>{a=y})}).next(()=>r.Hi.getDocumentsMatchingQuery(c,e,n?i:it.min(),n?a:Lt())).next(f=>(function SV(t,e,n){let r=t.Xi.get(e)||it.min();n.forEach((i,a)=>{a.readTime.compareTo(r)>0&&(r=a.readTime)}),t.Xi.set(e,r)}(r,function a2(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}(e),f),{documents:f,ir:a})))}class bR{constructor(){this.activeTargetIds=function WN(){return O$}()}lr(e){this.activeTargetIds=this.activeTargetIds.add(e)}dr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}hr(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class xV{constructor(){this.Hr=new bR,this.Jr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e){return this.Hr.lr(e),this.Jr[e]||"not-current"}updateQueryState(e,n,r){this.Jr[e]=n}removeLocalQueryTarget(e){this.Hr.dr(e)}isLocalQueryTarget(e){return this.Hr.activeTargetIds.has(e)}clearQueryState(e){delete this.Jr[e]}getAllActiveQueryTargets(){return this.Hr.activeTargetIds}isActiveQueryTarget(e){return this.Hr.activeTargetIds.has(e)}start(){return this.Hr=new bR,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class k3{Yr(e){}shutdown(){}}class NV{constructor(){this.Xr=()=>this.Zr(),this.eo=()=>this.no(),this.so=[],this.io()}Yr(e){this.so.push(e)}shutdown(){window.removeEventListener("online",this.Xr),window.removeEventListener("offline",this.eo)}io(){window.addEventListener("online",this.Xr),window.addEventListener("offline",this.eo)}Zr(){Ce("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.so)e(0)}no(){Ce("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.so)e(1)}static D(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let JT=null;function TR(){return null===JT?JT=268435456+Math.round(2147483648*Math.random()):JT++,"0x"+JT.toString(16)}const F3={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class L3{constructor(e){this.ro=e.ro,this.oo=e.oo}uo(e){this.co=e}ao(e){this.ho=e}onMessage(e){this.lo=e}close(){this.oo()}send(e){this.ro(e)}fo(){this.co()}wo(e){this.ho(e)}_o(e){this.lo(e)}}const xi="WebChannelConnection";class V3 extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.mo=(e.ssl?"https":"http")+"://"+e.host,this.yo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get po(){return!1}Io(e,n,r,i,a){const c=TR(),f=this.To(e,n);Ce("RestConnection",`Sending RPC '${e}' ${c}:`,f,r);const y={};return this.Eo(y,i,a),this.Ao(e,f,y,r).then(v=>(Ce("RestConnection",`Received RPC '${e}' ${c}: `,v),v),v=>{throw Vo("RestConnection",`RPC '${e}' ${c} failed with error: `,v,"url: ",f,"request:",r),v})}vo(e,n,r,i,a,c){return this.Io(e,n,r,i,a)}Eo(e,n,r){e["X-Goog-Api-Client"]="gl-js/ fire/"+Km,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((i,a)=>e[a]=i),r&&r.headers.forEach((i,a)=>e[a]=i)}To(e,n){return`${this.mo}/v1/${n}:${F3[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Ao(e,n,r,i){const a=TR();return new Promise((c,f)=>{const y=new Fj;y.setWithCredentials(!0),y.listenOnce(Oj.COMPLETE,()=>{try{switch(y.getLastErrorCode()){case MN.NO_ERROR:const b=y.getResponseJson();Ce(xi,`XHR for RPC '${e}' ${a} received:`,JSON.stringify(b)),c(b);break;case MN.TIMEOUT:Ce(xi,`RPC '${e}' ${a} timed out`),f(new we(ee.DEADLINE_EXCEEDED,"Request time out"));break;case MN.HTTP_ERROR:const T=y.getStatus();if(Ce(xi,`RPC '${e}' ${a} failed with status:`,T,"response text:",y.getResponseText()),T>0){let N=y.getResponseJson();Array.isArray(N)&&(N=N[0]);const O=N?.error;if(O&&O.status&&O.message){const $=function(Q){const ae=Q.toLowerCase().replace(/_/g,"-");return Object.values(ee).indexOf(ae)>=0?ae:ee.UNKNOWN}(O.status);f(new we($,O.message))}else f(new we(ee.UNKNOWN,"Server responded with status "+y.getStatus()))}else f(new we(ee.UNAVAILABLE,"Connection failed."));break;default:Ye()}}finally{Ce(xi,`RPC '${e}' ${a} completed.`)}});const v=JSON.stringify(i);Ce(xi,`RPC '${e}' ${a} sending request:`,i),y.send(n,"POST",v,r,15)})}Ro(e,n,r){const i=TR(),a=[this.mo,"/","google.firestore.v1.Firestore","/",e,"/channel"],c=Nj(),f=Rj(),y={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},v=this.longPollingOptions.timeoutSeconds;void 0!==v&&(y.longPollingTimeout=Math.round(1e3*v)),this.useFetchStreams&&(y.xmlHttpFactory=new kj({})),this.Eo(y.initMessageHeaders,n,r),y.encodeInitMessageHeaders=!0;const b=a.join("");Ce(xi,`Creating RPC '${e}' stream ${i}: ${b}`,y);const T=c.createWebChannel(b,y);let N=!1,O=!1;const $=new L3({ro:ae=>{O?Ce(xi,`Not sending because RPC '${e}' stream ${i} is closed:`,ae):(N||(Ce(xi,`Opening RPC '${e}' stream ${i} transport.`),T.open(),N=!0),Ce(xi,`RPC '${e}' stream ${i} sending:`,ae),T.send(ae))},oo:()=>T.close()}),Q=(ae,Ae,je)=>{ae.listen(Ae,We=>{try{je(We)}catch(Je){setTimeout(()=>{throw Je},0)}})};return Q(T,_T.EventType.OPEN,()=>{O||Ce(xi,`RPC '${e}' stream ${i} transport opened.`)}),Q(T,_T.EventType.CLOSE,()=>{O||(O=!0,Ce(xi,`RPC '${e}' stream ${i} transport closed`),$.wo())}),Q(T,_T.EventType.ERROR,ae=>{O||(O=!0,Vo(xi,`RPC '${e}' stream ${i} transport errored:`,ae),$.wo(new we(ee.UNAVAILABLE,"The operation could not be completed")))}),Q(T,_T.EventType.MESSAGE,ae=>{var Ae;if(!O){const je=ae.data[0];rt(!!je);const Je=je.error||(null===(Ae=je[0])||void 0===Ae?void 0:Ae.error);if(Je){Ce(xi,`RPC '${e}' stream ${i} received error:`,Je);const Ot=Je.status;let Pt=function(oi){const uo=fr[oi];if(void 0!==uo)return T2(uo)}(Ot),an=Je.message;void 0===Pt&&(Pt=ee.INTERNAL,an="Unknown error status: "+Ot+" with message "+Je.message),O=!0,$.wo(new we(Pt,an)),T.close()}else Ce(xi,`RPC '${e}' stream ${i} received:`,je),$._o(je)}}),Q(f,Pj.STAT_EVENT,ae=>{ae.stat===vL.PROXY?Ce(xi,`RPC '${e}' stream ${i} detected buffering proxy`):ae.stat===vL.NOPROXY&&Ce(xi,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{$.fo()},0),$}}function XT(){return typeof document<"u"?document:null}function nE(t){return new W$(t,!0)}class SR{constructor(e,n,r=1e3,i=1.5,a=6e4){this.ii=e,this.timerId=n,this.Po=r,this.bo=i,this.Vo=a,this.So=0,this.Do=null,this.Co=Date.now(),this.reset()}reset(){this.So=0}xo(){this.So=this.Vo}No(e){this.cancel();const n=Math.floor(this.So+this.ko()),r=Math.max(0,Date.now()-this.Co),i=Math.max(0,n-r);i>0&&Ce("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.So} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.Do=this.ii.enqueueAfterDelay(this.timerId,i,()=>(this.Co=Date.now(),e())),this.So*=this.bo,this.So<this.Po&&(this.So=this.Po),this.So>this.Vo&&(this.So=this.Vo)}Mo(){null!==this.Do&&(this.Do.skipDelay(),this.Do=null)}cancel(){null!==this.Do&&(this.Do.cancel(),this.Do=null)}ko(){return(Math.random()-.5)*this.So}}class OV{constructor(e,n,r,i,a,c,f,y){this.ii=e,this.$o=r,this.Oo=i,this.connection=a,this.authCredentialsProvider=c,this.appCheckCredentialsProvider=f,this.listener=y,this.state=0,this.Fo=0,this.Bo=null,this.Lo=null,this.stream=null,this.qo=new SR(e,n)}Uo(){return 1===this.state||5===this.state||this.Ko()}Ko(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Go()}stop(){var e=this;return(0,Y.Z)(function*(){e.Uo()&&(yield e.close(0))})()}Qo(){this.state=0,this.qo.reset()}jo(){this.Ko()&&null===this.Bo&&(this.Bo=this.ii.enqueueAfterDelay(this.$o,6e4,()=>this.zo()))}Wo(e){this.Ho(),this.stream.send(e)}zo(){var e=this;return(0,Y.Z)(function*(){if(e.Ko())return e.close(0)})()}Ho(){this.Bo&&(this.Bo.cancel(),this.Bo=null)}Jo(){this.Lo&&(this.Lo.cancel(),this.Lo=null)}close(e,n){var r=this;return(0,Y.Z)(function*(){r.Ho(),r.Jo(),r.qo.cancel(),r.Fo++,4!==e?r.qo.reset():n&&n.code===ee.RESOURCE_EXHAUSTED?(ir(n.toString()),ir("Using maximum backoff delay to prevent overloading the backend."),r.qo.xo()):n&&n.code===ee.UNAUTHENTICATED&&3!==r.state&&(r.authCredentialsProvider.invalidateToken(),r.appCheckCredentialsProvider.invalidateToken()),null!==r.stream&&(r.Yo(),r.stream.close(),r.stream=null),r.state=e,yield r.listener.ao(n)})()}Yo(){}auth(){this.state=1;const e=this.Xo(this.Fo),n=this.Fo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Fo===n&&this.Zo(r,i)},r=>{e(()=>{const i=new we(ee.UNKNOWN,"Fetching auth token failed: "+r.message);return this.tu(i)})})}Zo(e,n){const r=this.Xo(this.Fo);this.stream=this.eu(e,n),this.stream.uo(()=>{r(()=>(this.state=2,this.Lo=this.ii.enqueueAfterDelay(this.Oo,1e4,()=>(this.Ko()&&(this.state=3),Promise.resolve())),this.listener.uo()))}),this.stream.ao(i=>{r(()=>this.tu(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}Go(){var e=this;this.state=5,this.qo.No((0,Y.Z)(function*(){e.state=0,e.start()}))}tu(e){return Ce("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Xo(e){return n=>{this.ii.enqueueAndForget(()=>this.Fo===e?n():(Ce("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class U3 extends OV{constructor(e,n,r,i,a,c){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,c),this.serializer=a}eu(e,n){return this.connection.Ro("Listen",e,n)}onMessage(e){this.qo.reset();const n=function Y$(t,e){let n;if("targetChange"in e){const r="NO_CHANGE"===(y=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===y?1:"REMOVE"===y?2:"CURRENT"===y?3:"RESET"===y?4:Ye(),i=e.targetChange.targetIds||[],a=function(y,v){return y.useProto3Json?(rt(void 0===v||"string"==typeof v),Er.fromBase64String(v||"")):(rt(void 0===v||v instanceof Uint8Array),Er.fromUint8Array(v||new Uint8Array))}(t,e.targetChange.resumeToken),c=e.targetChange.cause,f=c&&function(y){const v=void 0===y.code?ee.UNKNOWN:T2(y.code);return new we(v,y.message||"")}(c);n=new N2(r,i,a,f||null)}else if("documentChange"in e){const r=e.documentChange,i=La(t,r.document.name),a=or(r.document.updateTime),c=r.document.createTime?or(r.document.createTime):it.min(),f=new ii({mapValue:{fields:r.document.fields}}),y=Nn.newFoundDocument(i,a,c,f);n=new LT(r.targetIds||[],r.removedTargetIds||[],y.key,y)}else if("documentDelete"in e){const r=e.documentDelete,i=La(t,r.document),a=r.readTime?or(r.readTime):it.min(),c=Nn.newNoDocument(i,a);n=new LT([],r.removedTargetIds||[],c.key,c)}else if("documentRemove"in e){const r=e.documentRemove,i=La(t,r.document);n=new LT([],r.removedTargetIds||[],i,null)}else{if(!("filter"in e))return Ye();{const r=e.filter,{count:i=0,unchangedNames:a}=r,c=new j$(i,a);n=new x2(r.targetId,c)}}var y;return n}(this.serializer,e),r=function(i){if(!("targetChange"in i))return it.min();const a=i.targetChange;return a.targetIds&&a.targetIds.length?it.min():a.readTime?or(a.readTime):it.min()}(e);return this.listener.nu(n,r)}su(e){const n={};n.database=qw(this.serializer),n.addTarget=function(i,a){let c;const f=a.target;if(c=MT(f)?{documents:j2(i,f)}:{query:iR(i,f)},c.targetId=a.targetId,a.resumeToken.approximateByteSize()>0){c.resumeToken=k2(i,a.resumeToken);const y=eR(i,a.expectedCount);null!==y&&(c.expectedCount=y)}else if(a.snapshotVersion.compareTo(it.min())>0){c.readTime=oy(i,a.snapshotVersion.toTimestamp());const y=eR(i,a.expectedCount);null!==y&&(c.expectedCount=y)}return c}(this.serializer,e);const r=function J$(t,e){const n=function(r){switch(r){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ye()}}(e.purpose);return null==n?null:{"goog-listen-tags":n}}(0,e);r&&(n.labels=r),this.Wo(n)}iu(e){const n={};n.database=qw(this.serializer),n.removeTarget=e,this.Wo(n)}}class B3 extends OV{constructor(e,n,r,i,a,c){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,c),this.serializer=a,this.ru=!1}get ou(){return this.ru}start(){this.ru=!1,this.lastStreamToken=void 0,super.start()}Yo(){this.ru&&this.uu([])}eu(e,n){return this.connection.Ro("Write",e,n)}onMessage(e){if(rt(!!e.streamToken),this.lastStreamToken=e.streamToken,this.ru){this.qo.reset();const n=function Q$(t,e){return t&&t.length>0?(rt(void 0!==e),t.map(n=>function(r,i){let a=or(r.updateTime?r.updateTime:i);return a.isEqual(it.min())&&(a=or(i)),new L$(a,r.transformResults||[])}(n,e))):[]}(e.writeResults,e.commitTime),r=or(e.commitTime);return this.listener.cu(r,n)}return rt(!e.writeResults||0===e.writeResults.length),this.ru=!0,this.listener.au()}hu(){const e={};e.database=qw(this.serializer),this.Wo(e)}uu(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>function Ww(t,e){let n;if(e instanceof iy)n={update:U2(t,e.key,e.value)};else if(e instanceof sy)n={delete:Gw(t,e.key)};else if(e instanceof Zu)n={update:U2(t,e.key,e.data),updateMask:n3(e.fieldMask)};else{if(!(e instanceof ZN))return Ye();n={verify:Gw(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(i,a){const c=a.transform;if(c instanceof ny)return{fieldPath:a.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(c instanceof Xh)return{fieldPath:a.field.canonicalString(),appendMissingElements:{values:c.elements}};if(c instanceof ef)return{fieldPath:a.field.canonicalString(),removeAllFromArray:{values:c.elements}};if(c instanceof ry)return{fieldPath:a.field.canonicalString(),increment:c.gt};throw Ye()}(0,r))),e.precondition.isNone||(n.currentDocument=void 0!==(i=e.precondition).updateTime?{updateTime:Z$(t,i.updateTime)}:void 0!==i.exists?{exists:i.exists}:Ye()),n;var i}(this.serializer,r))};this.Wo(n)}}class j3 extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.lu=!1}fu(){if(this.lu)throw new we(ee.FAILED_PRECONDITION,"The client has already been terminated.")}Io(e,n,r){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,a])=>this.connection.Io(e,n,r,i,a)).catch(i=>{throw"FirebaseError"===i.name?(i.code===ee.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new we(ee.UNKNOWN,i.toString())})}vo(e,n,r,i){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,c])=>this.connection.vo(e,n,r,a,c,i)).catch(a=>{throw"FirebaseError"===a.name?(a.code===ee.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new we(ee.UNKNOWN,a.toString())})}terminate(){this.lu=!0}}class H3{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.wu=0,this._u=null,this.mu=!0}gu(){0===this.wu&&(this.yu("Unknown"),this._u=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._u=null,this.pu("Backend didn't respond within 10 seconds."),this.yu("Offline"),Promise.resolve())))}Iu(e){"Online"===this.state?this.yu("Unknown"):(this.wu++,this.wu>=1&&(this.Tu(),this.pu(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.yu("Offline")))}set(e){this.Tu(),this.wu=0,"Online"===e&&(this.mu=!1),this.yu(e)}yu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}pu(e){const n=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.mu?(ir(n),this.mu=!1):Ce("OnlineStateTracker",n)}Tu(){null!==this._u&&(this._u.cancel(),this._u=null)}}class z3{constructor(e,n,r,i,a){var c=this;this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Eu=[],this.Au=new Map,this.vu=new Set,this.Ru=[],this.Pu=a,this.Pu.Yr(f=>{r.enqueueAndForget((0,Y.Z)(function*(){var y;Rl(c)&&(Ce("RemoteStore","Restarting streams for network reachability change."),yield(y=(0,Y.Z)(function*(v){const b=Ge(v);b.vu.add(4),yield hy(b),b.bu.set("Unknown"),b.vu.delete(4),yield rE(b)}),function(v){return y.apply(this,arguments)})(c))}))}),this.bu=new H3(r,i)}}function rE(t){return MR.apply(this,arguments)}function MR(){return MR=(0,Y.Z)(function*(t){if(Rl(t))for(const e of t.Ru)yield e(!0)}),MR.apply(this,arguments)}function hy(t){return xR.apply(this,arguments)}function xR(){return xR=(0,Y.Z)(function*(t){for(const e of t.Ru)yield e(!1)}),xR.apply(this,arguments)}function eS(t,e){const n=Ge(t);n.Au.has(e.targetId)||(n.Au.set(e.targetId,e),OR(n)?RR(n):py(n).Ko()&&NR(n,e))}function iE(t,e){const n=Ge(t),r=py(n);n.Au.delete(e),r.Ko()&&PV(n,e),0===n.Au.size&&(r.Ko()?r.jo():Rl(n)&&n.bu.set("Unknown"))}function NR(t,e){if(t.Vu.qt(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(it.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}py(t).su(e)}function PV(t,e){t.Vu.qt(e),py(t).iu(e)}function RR(t){t.Vu=new H$({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),le:e=>t.Au.get(e)||null,ue:()=>t.datastore.serializer.databaseId}),py(t).start(),t.bu.gu()}function OR(t){return Rl(t)&&!py(t).Uo()&&t.Au.size>0}function Rl(t){return 0===Ge(t).vu.size}function kV(t){t.Vu=void 0}function G3(t){return PR.apply(this,arguments)}function PR(){return PR=(0,Y.Z)(function*(t){t.Au.forEach((e,n)=>{NR(t,e)})}),PR.apply(this,arguments)}function q3(t,e){return kR.apply(this,arguments)}function kR(){return kR=(0,Y.Z)(function*(t,e){kV(t),OR(t)?(t.bu.Iu(e),RR(t)):t.bu.set("Unknown")}),kR.apply(this,arguments)}function W3(t,e,n){return FR.apply(this,arguments)}function FR(){return FR=(0,Y.Z)(function*(t,e,n){if(t.bu.set("Online"),e instanceof N2&&2===e.state&&e.cause)try{yield(r=(0,Y.Z)(function*(i,a){const c=a.cause;for(const f of a.targetIds)i.Au.has(f)&&(yield i.remoteSyncer.rejectListen(f,c),i.Au.delete(f),i.Vu.removeTarget(f))}),function(i,a){return r.apply(this,arguments)})(t,e)}catch(r){Ce("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield tS(t,r)}else if(e instanceof LT?t.Vu.Ht(e):e instanceof x2?t.Vu.ne(e):t.Vu.Xt(e),!n.isEqual(it.min()))try{const r=yield DV(t.localStore);n.compareTo(r)>=0&&(yield function(i,a){const c=i.Vu.ce(a);return c.targetChanges.forEach((f,y)=>{if(f.resumeToken.approximateByteSize()>0){const v=i.Au.get(y);v&&i.Au.set(y,v.withResumeToken(f.resumeToken,a))}}),c.targetMismatches.forEach((f,y)=>{const v=i.Au.get(f);if(!v)return;i.Au.set(f,v.withResumeToken(Er.EMPTY_BYTE_STRING,v.snapshotVersion)),PV(i,f);const b=new Ku(v.target,f,y,v.sequenceNumber);NR(i,b)}),i.remoteSyncer.applyRemoteEvent(c)}(t,n))}catch(r){Ce("RemoteStore","Failed to raise snapshot:",r),yield tS(t,r)}var r}),FR.apply(this,arguments)}function tS(t,e,n){return LR.apply(this,arguments)}function LR(){return LR=(0,Y.Z)(function*(t,e,n){if(!El(e))throw e;t.vu.add(1),yield hy(t),t.bu.set("Offline"),n||(n=()=>DV(t.localStore)),t.asyncQueue.enqueueRetryable((0,Y.Z)(function*(){Ce("RemoteStore","Retrying IndexedDB access"),yield n(),t.vu.delete(1),yield rE(t)}))}),LR.apply(this,arguments)}function FV(t,e){return e().catch(n=>tS(t,n,e))}function fy(t){return VR.apply(this,arguments)}function VR(){return VR=(0,Y.Z)(function*(t){const e=Ge(t),n=Ol(e);let r=e.Eu.length>0?e.Eu[e.Eu.length-1].batchId:-1;for(;Z3(e);)try{const i=yield R3(e.localStore,r);if(null===i){0===e.Eu.length&&n.jo();break}r=i.batchId,K3(e,i)}catch(i){yield tS(e,i)}LV(e)&&VV(e)}),VR.apply(this,arguments)}function Z3(t){return Rl(t)&&t.Eu.length<10}function K3(t,e){t.Eu.push(e);const n=Ol(t);n.Ko()&&n.ou&&n.uu(e.mutations)}function LV(t){return Rl(t)&&!Ol(t).Uo()&&t.Eu.length>0}function VV(t){Ol(t).start()}function Y3(t){return UR.apply(this,arguments)}function UR(){return UR=(0,Y.Z)(function*(t){Ol(t).hu()}),UR.apply(this,arguments)}function Q3(t){return BR.apply(this,arguments)}function BR(){return BR=(0,Y.Z)(function*(t){const e=Ol(t);for(const n of t.Eu)e.uu(n.mutations)}),BR.apply(this,arguments)}function J3(t,e,n){return jR.apply(this,arguments)}function jR(){return jR=(0,Y.Z)(function*(t,e,n){const r=t.Eu.shift(),i=YN.from(r,e,n);yield FV(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),yield fy(t)}),jR.apply(this,arguments)}function X3(t,e){return $R.apply(this,arguments)}function $R(){return $R=(0,Y.Z)(function*(t,e){var n;e&&Ol(t).ou&&(yield(n=(0,Y.Z)(function*(r,i){if(function C2(t){switch(t){default:return Ye();case ee.CANCELLED:case ee.UNKNOWN:case ee.DEADLINE_EXCEEDED:case ee.RESOURCE_EXHAUSTED:case ee.INTERNAL:case ee.UNAVAILABLE:case ee.UNAUTHENTICATED:return!1;case ee.INVALID_ARGUMENT:case ee.NOT_FOUND:case ee.ALREADY_EXISTS:case ee.PERMISSION_DENIED:case ee.FAILED_PRECONDITION:case ee.ABORTED:case ee.OUT_OF_RANGE:case ee.UNIMPLEMENTED:case ee.DATA_LOSS:return!0}}(a=i.code)&&a!==ee.ABORTED){const c=r.Eu.shift();Ol(r).Qo(),yield FV(r,()=>r.remoteSyncer.rejectFailedWrite(c.batchId,i)),yield fy(r)}var a}),function(r,i){return n.apply(this,arguments)})(t,e)),LV(t)&&VV(t)}),$R.apply(this,arguments)}function UV(t,e){return HR.apply(this,arguments)}function HR(){return HR=(0,Y.Z)(function*(t,e){const n=Ge(t);n.asyncQueue.verifyOperationInProgress(),Ce("RemoteStore","RemoteStore received new credentials");const r=Rl(n);n.vu.add(3),yield hy(n),r&&n.bu.set("Unknown"),yield n.remoteSyncer.handleCredentialChange(e),n.vu.delete(3),yield rE(n)}),HR.apply(this,arguments)}function GR(){return GR=(0,Y.Z)(function*(t,e){const n=Ge(t);e?(n.vu.delete(2),yield rE(n)):e||(n.vu.add(2),yield hy(n),n.bu.set("Unknown"))}),GR.apply(this,arguments)}function py(t){return t.Su||(t.Su=function(e,n,r){const i=Ge(e);return i.fu(),new U3(n,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,r)}(t.datastore,t.asyncQueue,{uo:G3.bind(null,t),ao:q3.bind(null,t),nu:W3.bind(null,t)}),t.Ru.push(function(){var e=(0,Y.Z)(function*(n){n?(t.Su.Qo(),OR(t)?RR(t):t.bu.set("Unknown")):(yield t.Su.stop(),kV(t))});return function(n){return e.apply(this,arguments)}}())),t.Su}function Ol(t){return t.Du||(t.Du=function(e,n,r){const i=Ge(e);return i.fu(),new B3(n,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,r)}(t.datastore,t.asyncQueue,{uo:Y3.bind(null,t),ao:X3.bind(null,t),au:Q3.bind(null,t),cu:J3.bind(null,t)}),t.Ru.push(function(){var e=(0,Y.Z)(function*(n){n?(t.Du.Qo(),yield fy(t)):(yield t.Du.stop(),t.Eu.length>0&&(Ce("RemoteStore",`Stopping write stream with ${t.Eu.length} pending writes`),t.Eu=[]))});return function(n){return e.apply(this,arguments)}}())),t.Du}class qR{constructor(e,n,r,i,a){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=a,this.deferred=new wr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(c=>{})}static createAndSchedule(e,n,r,i,a){const c=Date.now()+r,f=new qR(e,n,c,i,a);return f.start(r),f}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new we(ee.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function gy(t,e){if(ir("AsyncQueue",`${e}: ${t}`),El(t))return new we(ee.UNAVAILABLE,`${e}: ${t}`);throw t}class my{constructor(e){this.comparator=e?(n,r)=>e(n,r)||He.comparator(n.key,r.key):(n,r)=>He.comparator(n.key,r.key),this.keyedMap=Vw(),this.sortedSet=new Dn(this.comparator)}static emptySet(e){return new my(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof my)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,a=r.getNext().key;if(!i.isEqual(a))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,n){const r=new my;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}class BV{constructor(){this.Cu=new Dn(He.comparator)}track(e){const n=e.doc.key,r=this.Cu.get(n);r?0!==e.type&&3===r.type?this.Cu=this.Cu.insert(n,e):3===e.type&&1!==r.type?this.Cu=this.Cu.insert(n,{type:r.type,doc:e.doc}):2===e.type&&2===r.type?this.Cu=this.Cu.insert(n,{type:2,doc:e.doc}):2===e.type&&0===r.type?this.Cu=this.Cu.insert(n,{type:0,doc:e.doc}):1===e.type&&0===r.type?this.Cu=this.Cu.remove(n):1===e.type&&2===r.type?this.Cu=this.Cu.insert(n,{type:1,doc:r.doc}):0===e.type&&1===r.type?this.Cu=this.Cu.insert(n,{type:2,doc:e.doc}):Ye():this.Cu=this.Cu.insert(n,e)}xu(){const e=[];return this.Cu.inorderTraversal((n,r)=>{e.push(r)}),e}}class yy{constructor(e,n,r,i,a,c,f,y,v){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=a,this.fromCache=c,this.syncStateChanged=f,this.excludesMetadataChanges=y,this.hasCachedResults=v}static fromInitialDocuments(e,n,r,i,a){const c=[];return n.forEach(f=>{c.push({type:0,doc:f})}),new yy(e,n,my.emptySet(n),c,r,i,!0,!1,a)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Fw(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}class eH{constructor(){this.Nu=void 0,this.listeners=[]}}class tH{constructor(){this.queries=new Wu(e=>o2(e),Fw),this.onlineState="Unknown",this.ku=new Set}}function WR(t,e){return ZR.apply(this,arguments)}function ZR(){return ZR=(0,Y.Z)(function*(t,e){const n=Ge(t),r=e.query;let i=!1,a=n.queries.get(r);if(a||(i=!0,a=new eH),i)try{a.Nu=yield n.onListen(r)}catch(c){const f=gy(c,`Initialization of query '${qN(e.query)}' failed`);return void e.onError(f)}n.queries.set(r,a),a.listeners.push(e),e.Mu(n.onlineState),a.Nu&&e.$u(a.Nu)&&QR(n)}),ZR.apply(this,arguments)}function KR(t,e){return YR.apply(this,arguments)}function YR(){return YR=(0,Y.Z)(function*(t,e){const n=Ge(t),r=e.query;let i=!1;const a=n.queries.get(r);if(a){const c=a.listeners.indexOf(e);c>=0&&(a.listeners.splice(c,1),i=0===a.listeners.length)}if(i)return n.queries.delete(r),n.onUnlisten(r)}),YR.apply(this,arguments)}function nH(t,e){const n=Ge(t);let r=!1;for(const i of e){const c=n.queries.get(i.query);if(c){for(const f of c.listeners)f.$u(i)&&(r=!0);c.Nu=i}}r&&QR(n)}function rH(t,e,n){const r=Ge(t),i=r.queries.get(e);if(i)for(const a of i.listeners)a.onError(n);r.queries.delete(e)}function QR(t){t.ku.forEach(e=>{e.next()})}class JR{constructor(e,n,r){this.query=e,this.Ou=n,this.Fu=!1,this.Bu=null,this.onlineState="Unknown",this.options=r||{}}$u(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)3!==i.type&&r.push(i);e=new yy(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Fu?this.Lu(e)&&(this.Ou.next(e),n=!0):this.qu(e,this.onlineState)&&(this.Uu(e),n=!0),this.Bu=e,n}onError(e){this.Ou.error(e)}Mu(e){this.onlineState=e;let n=!1;return this.Bu&&!this.Fu&&this.qu(this.Bu,e)&&(this.Uu(this.Bu),n=!0),n}qu(e,n){return!e.fromCache||(!this.options.Ku||!("Offline"!==n))&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===n)}Lu(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Bu&&this.Bu.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}Uu(e){e=yy.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Fu=!0,this.Ou.next(e)}}class HV{constructor(e){this.key=e}}class zV{constructor(e){this.key=e}}class GV{constructor(e,n){this.query=e,this.Yu=n,this.Xu=null,this.hasCachedResults=!1,this.current=!1,this.Zu=Lt(),this.mutatedKeys=Lt(),this.tc=u2(e),this.ec=new my(this.tc)}get nc(){return this.Yu}sc(e,n){const r=n?n.ic:new BV,i=n?n.ec:this.ec;let a=n?n.mutatedKeys:this.mutatedKeys,c=i,f=!1;const y="F"===this.query.limitType&&i.size===this.query.limit?i.last():null,v="L"===this.query.limitType&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((b,T)=>{const N=i.get(b),O=Lw(this.query,T)?T:null,$=!!N&&this.mutatedKeys.has(N.key),Q=!!O&&(O.hasLocalMutations||this.mutatedKeys.has(O.key)&&O.hasCommittedMutations);let ae=!1;N&&O?N.data.isEqual(O.data)?$!==Q&&(r.track({type:3,doc:O}),ae=!0):this.rc(N,O)||(r.track({type:2,doc:O}),ae=!0,(y&&this.tc(O,y)>0||v&&this.tc(O,v)<0)&&(f=!0)):!N&&O?(r.track({type:0,doc:O}),ae=!0):N&&!O&&(r.track({type:1,doc:N}),ae=!0,(y||v)&&(f=!0)),ae&&(O?(c=c.add(O),a=Q?a.add(b):a.delete(b)):(c=c.delete(b),a=a.delete(b)))}),null!==this.query.limit)for(;c.size>this.query.limit;){const b="F"===this.query.limitType?c.last():c.first();c=c.delete(b.key),a=a.delete(b.key),r.track({type:1,doc:b})}return{ec:c,ic:r,zi:f,mutatedKeys:a}}rc(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r){const i=this.ec;this.ec=e.ec,this.mutatedKeys=e.mutatedKeys;const a=e.ic.xu();a.sort((v,b)=>function(T,N){const O=$=>{switch($){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ye()}};return O(T)-O(N)}(v.type,b.type)||this.tc(v.doc,b.doc)),this.oc(r);const c=n?this.uc():[],f=0===this.Zu.size&&this.current?1:0,y=f!==this.Xu;return this.Xu=f,0!==a.length||y?{snapshot:new yy(this.query,e.ec,i,a,e.mutatedKeys,0===f,y,!1,!!r&&r.resumeToken.approximateByteSize()>0),cc:c}:{cc:c}}Mu(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({ec:this.ec,ic:new BV,mutatedKeys:this.mutatedKeys,zi:!1},!1)):{cc:[]}}ac(e){return!this.Yu.has(e)&&!!this.ec.has(e)&&!this.ec.get(e).hasLocalMutations}oc(e){e&&(e.addedDocuments.forEach(n=>this.Yu=this.Yu.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Yu=this.Yu.delete(n)),this.current=e.current)}uc(){if(!this.current)return[];const e=this.Zu;this.Zu=Lt(),this.ec.forEach(r=>{this.ac(r.key)&&(this.Zu=this.Zu.add(r.key))});const n=[];return e.forEach(r=>{this.Zu.has(r)||n.push(new zV(r))}),this.Zu.forEach(r=>{e.has(r)||n.push(new HV(r))}),n}hc(e){this.Yu=e.ir,this.Zu=Lt();const n=this.sc(e.documents);return this.applyChanges(n,!0)}lc(){return yy.fromInitialDocuments(this.query,this.ec,this.mutatedKeys,0===this.Xu,this.hasCachedResults)}}class oH{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class aH{constructor(e){this.key=e,this.fc=!1}}class uH{constructor(e,n,r,i,a,c){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=a,this.maxConcurrentLimboResolutions=c,this.dc={},this.wc=new Wu(f=>o2(f),Fw),this._c=new Map,this.mc=new Set,this.gc=new Dn(He.comparator),this.yc=new Map,this.Ic=new hR,this.Tc={},this.Ec=new Map,this.Ac=uf.Mn(),this.onlineState="Unknown",this.vc=void 0}get isPrimaryClient(){return!0===this.vc}}function cH(t,e){return XR.apply(this,arguments)}function XR(){return XR=(0,Y.Z)(function*(t,e){const n=function IO(t){const e=Ge(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=qV.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=_H.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=hH.bind(null,e),e.dc.nu=nH.bind(null,e.eventManager),e.dc.Pc=rH.bind(null,e.eventManager),e}(t);let r,i;const a=n.wc.get(e);if(a)r=a.targetId,n.sharedClientState.addLocalQueryTarget(r),i=a.view.lc();else{const c=yield function ly(t,e){const n=Ge(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Bs.getTargetData(r,e).next(a=>a?(i=a,q.resolve(i)):n.Bs.allocateTargetId(r).next(c=>(i=new Ku(e,c,"TargetPurposeListen",r.currentSequenceNumber),n.Bs.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.Ji.get(r.targetId);return(null===i||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.Ji=n.Ji.insert(r.targetId,r),n.Yi.set(e,r.targetId)),r})}(n.localStore,Yi(e)),f=n.sharedClientState.addLocalQueryTarget(c.targetId);r=c.targetId,i=yield function eO(t,e,n,r,i){return tO.apply(this,arguments)}(n,e,r,"current"===f,c.resumeToken),n.isPrimaryClient&&eS(n.remoteStore,c)}return i}),XR.apply(this,arguments)}function tO(){return tO=(0,Y.Z)(function*(t,e,n,r,i){t.Rc=(T,N,O)=>{return($=(0,Y.Z)(function*(Q,ae,Ae,je){let We=ae.view.sc(Ae);We.zi&&(We=yield KT(Q.localStore,ae.query,!1).then(({documents:Pt})=>ae.view.sc(Pt,We)));const Je=je&&je.targetChanges.get(ae.targetId),Ot=ae.view.applyChanges(We,Q.isPrimaryClient,Je);return dO(Q,ae.targetId,Ot.cc),Ot.snapshot}),function(Q,ae,Ae,je){return $.apply(this,arguments)})(t,T,N,O);var $};const a=yield KT(t.localStore,e,!0),c=new GV(e,a.ir),f=c.sc(a.documents),y=zw.createSynthesizedTargetChangeForCurrentChange(n,r&&"Offline"!==t.onlineState,i),v=c.applyChanges(f,t.isPrimaryClient,y);dO(t,n,v.cc);const b=new oH(e,n,c);return t.wc.set(e,b),t._c.has(n)?t._c.get(n).push(e):t._c.set(n,[e]),v.snapshot}),tO.apply(this,arguments)}function lH(t,e){return nO.apply(this,arguments)}function nO(){return nO=(0,Y.Z)(function*(t,e){const n=Ge(t),r=n.wc.get(e),i=n._c.get(r.targetId);if(i.length>1)return n._c.set(r.targetId,i.filter(a=>!Fw(a,e))),void n.wc.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)||(yield dy(n.localStore,r.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(r.targetId),iE(n.remoteStore,r.targetId),_y(n,r.targetId)}).catch(wl))):(_y(n,r.targetId),yield dy(n.localStore,r.targetId,!0))}),nO.apply(this,arguments)}function rO(){return rO=(0,Y.Z)(function*(t,e,n){const r=function DO(t){const e=Ge(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=fH.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=pH.bind(null,e),e}(t);try{const i=yield function(a,c){const f=Ge(a),y=jn.now(),v=c.reduce((N,O)=>N.add(O.key),Lt());let b,T;return f.persistence.runTransaction("Locally write mutations","readwrite",N=>{let O=ps(),$=Lt();return f.Zi.getEntries(N,v).next(Q=>{O=Q,O.forEach((ae,Ae)=>{Ae.isValidDocument()||($=$.add(ae))})}).next(()=>f.localDocuments.getOverlayedDocuments(N,O)).next(Q=>{b=Q;const ae=[];for(const Ae of c){const je=U$(Ae,b.get(Ae.key).overlayedDocument);null!=je&&ae.push(new Zu(Ae.key,je,qL(je.value.mapValue),kn.exists(!0)))}return f.mutationQueue.addMutationBatch(N,y,ae,c)}).next(Q=>{T=Q;const ae=Q.applyToLocalDocumentSet(b,$);return f.documentOverlayCache.saveOverlays(N,Q.batchId,ae)})}).then(()=>({batchId:T.batchId,changes:l2(b)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(a,c,f){let y=a.Tc[a.currentUser.toKey()];y||(y=new Dn(Mt)),y=y.insert(c,f),a.Tc[a.currentUser.toKey()]=y}(r,i.batchId,n),yield Yu(r,i.changes),yield fy(r.remoteStore)}catch(i){const a=gy(i,"Failed to persist write");n.reject(a)}}),rO.apply(this,arguments)}function qV(t,e){return iO.apply(this,arguments)}function iO(){return iO=(0,Y.Z)(function*(t,e){const n=Ge(t);try{const r=yield function N3(t,e){const n=Ge(t),r=e.snapshotVersion;let i=n.Ji;return n.persistence.runTransaction("Apply remote event","readwrite-primary",a=>{const c=n.Zi.newChangeBuffer({trackRemovals:!0});i=n.Ji;const f=[];e.targetChanges.forEach((b,T)=>{const N=i.get(T);if(!N)return;f.push(n.Bs.removeMatchingKeys(a,b.removedDocuments,T).next(()=>n.Bs.addMatchingKeys(a,b.addedDocuments,T)));let O=N.withSequenceNumber(a.currentSequenceNumber);var $,Q,ae;null!==e.targetMismatches.get(T)?O=O.withResumeToken(Er.EMPTY_BYTE_STRING,it.min()).withLastLimboFreeSnapshotVersion(it.min()):b.resumeToken.approximateByteSize()>0&&(O=O.withResumeToken(b.resumeToken,r)),i=i.insert(T,O),Q=O,ae=b,(0===($=N).resumeToken.approximateByteSize()||Q.snapshotVersion.toMicroseconds()-$.snapshotVersion.toMicroseconds()>=3e8||ae.addedDocuments.size+ae.modifiedDocuments.size+ae.removedDocuments.size>0)&&f.push(n.Bs.updateTargetData(a,O))});let y=ps(),v=Lt();if(e.documentUpdates.forEach(b=>{e.resolvedLimboDocuments.has(b)&&f.push(n.persistence.referenceDelegate.updateLimboDocument(a,b))}),f.push(function bV(t,e,n){let r=Lt(),i=Lt();return n.forEach(a=>r=r.add(a)),e.getEntries(t,r).next(a=>{let c=ps();return n.forEach((f,y)=>{const v=a.get(f);y.isFoundDocument()!==v.isFoundDocument()&&(i=i.add(f)),y.isNoDocument()&&y.version.isEqual(it.min())?(e.removeEntry(f,y.readTime),c=c.insert(f,y)):!v.isValidDocument()||y.version.compareTo(v.version)>0||0===y.version.compareTo(v.version)&&v.hasPendingWrites?(e.addEntry(y),c=c.insert(f,y)):Ce("LocalStore","Ignoring outdated watch update for ",f,". Current version:",v.version," Watch version:",y.version)}),{nr:c,sr:i}})}(a,c,e.documentUpdates).next(b=>{y=b.nr,v=b.sr})),!r.isEqual(it.min())){const b=n.Bs.getLastRemoteSnapshotVersion(a).next(T=>n.Bs.setTargetsMetadata(a,a.currentSequenceNumber,r));f.push(b)}return q.waitFor(f).next(()=>c.apply(a)).next(()=>n.localDocuments.getLocalViewOfDocuments(a,y,v)).next(()=>y)}).then(a=>(n.Ji=i,a))}(n.localStore,e);e.targetChanges.forEach((i,a)=>{const c=n.yc.get(a);c&&(rt(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?c.fc=!0:i.modifiedDocuments.size>0?rt(c.fc):i.removedDocuments.size>0&&(rt(c.fc),c.fc=!1))}),yield Yu(n,r,e)}catch(r){yield wl(r)}}),iO.apply(this,arguments)}function WV(t,e,n){const r=Ge(t);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){const i=[];r.wc.forEach((a,c)=>{const f=c.view.Mu(e);f.snapshot&&i.push(f.snapshot)}),function(a,c){const f=Ge(a);f.onlineState=c;let y=!1;f.queries.forEach((v,b)=>{for(const T of b.listeners)T.Mu(c)&&(y=!0)}),y&&QR(f)}(r.eventManager,e),i.length&&r.dc.nu(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function hH(t,e,n){return sO.apply(this,arguments)}function sO(){return sO=(0,Y.Z)(function*(t,e,n){const r=Ge(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.yc.get(e),a=i&&i.key;if(a){let c=new Dn(He.comparator);c=c.insert(a,Nn.newNoDocument(a,it.min()));const f=Lt().add(a),y=new Hw(it.min(),new Map,new Dn(Mt),c,f);yield qV(r,y),r.gc=r.gc.remove(a),r.yc.delete(e),hO(r)}else yield dy(r.localStore,e,!1).then(()=>_y(r,e,n)).catch(wl)}),sO.apply(this,arguments)}function fH(t,e){return oO.apply(this,arguments)}function oO(){return oO=(0,Y.Z)(function*(t,e){const n=Ge(t),r=e.batch.batchId;try{const i=yield function x3(t,e){const n=Ge(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),a=n.Zi.newChangeBuffer({trackRemovals:!0});return function(c,f,y,v){const b=y.batch,T=b.keys();let N=q.resolve();return T.forEach(O=>{N=N.next(()=>v.getEntry(f,O)).next($=>{const Q=y.docVersions.get(O);rt(null!==Q),$.version.compareTo(Q)<0&&(b.applyToRemoteDocument($,y),$.isValidDocument()&&($.setReadTime(y.commitVersion),v.addEntry($)))})}),N.next(()=>c.mutationQueue.removeMutationBatch(f,b))}(n,r,e,a).next(()=>a.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(c){let f=Lt();for(let y=0;y<c.mutationResults.length;++y)c.mutationResults[y].transformResults.length>0&&(f=f.add(c.batch.mutations[y].key));return f}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}(n.localStore,e);lO(n,r,null),cO(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),yield Yu(n,i)}catch(i){yield wl(i)}}),oO.apply(this,arguments)}function pH(t,e,n){return aO.apply(this,arguments)}function aO(){return aO=(0,Y.Z)(function*(t,e,n){const r=Ge(t);try{const i=yield function(a,c){const f=Ge(a);return f.persistence.runTransaction("Reject batch","readwrite-primary",y=>{let v;return f.mutationQueue.lookupMutationBatch(y,c).next(b=>(rt(null!==b),v=b.keys(),f.mutationQueue.removeMutationBatch(y,b))).next(()=>f.mutationQueue.performConsistencyCheck(y)).next(()=>f.documentOverlayCache.removeOverlaysForBatchId(y,v,c)).next(()=>f.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(y,v)).next(()=>f.localDocuments.getDocuments(y,v))})}(r.localStore,e);lO(r,e,n),cO(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),yield Yu(r,i)}catch(i){yield wl(i)}}),aO.apply(this,arguments)}function cO(t,e){(t.Ec.get(e)||[]).forEach(n=>{n.resolve()}),t.Ec.delete(e)}function lO(t,e,n){const r=Ge(t);let i=r.Tc[r.currentUser.toKey()];if(i){const a=i.get(e);a&&(n?a.reject(n):a.resolve(),i=i.remove(e)),r.Tc[r.currentUser.toKey()]=i}}function _y(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t._c.get(e))t.wc.delete(r),n&&t.dc.Pc(r,n);t._c.delete(e),t.isPrimaryClient&&t.Ic.Is(e).forEach(r=>{t.Ic.containsKey(r)||ZV(t,r)})}function ZV(t,e){t.mc.delete(e.path.canonicalString());const n=t.gc.get(e);null!==n&&(iE(t.remoteStore,n),t.gc=t.gc.remove(e),t.yc.delete(n),hO(t))}function dO(t,e,n){for(const r of n)r instanceof HV?(t.Ic.addReference(r.key,e),mH(t,r)):r instanceof zV?(Ce("SyncEngine","Document no longer in limbo: "+r.key),t.Ic.removeReference(r.key,e),t.Ic.containsKey(r.key)||ZV(t,r.key)):Ye()}function mH(t,e){const n=e.key,r=n.path.canonicalString();t.gc.get(n)||t.mc.has(r)||(Ce("SyncEngine","New document in limbo: "+n),t.mc.add(r),hO(t))}function hO(t){for(;t.mc.size>0&&t.gc.size<t.maxConcurrentLimboResolutions;){const e=t.mc.values().next().value;t.mc.delete(e);const n=new He(Kt.fromString(e)),r=t.Ac.next();t.yc.set(r,new aH(n)),t.gc=t.gc.insert(n,r),eS(t.remoteStore,new Ku(Yi(ty(n.path)),r,"TargetPurposeLimboResolution",Vs.ct))}}function Yu(t,e,n){return fO.apply(this,arguments)}function fO(){return fO=(0,Y.Z)(function*(t,e,n){const r=Ge(t),i=[],a=[],c=[];var f;r.wc.isEmpty()||(r.wc.forEach((f,y)=>{c.push(r.Rc(y,e,n).then(v=>{if((v||n)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(y.targetId,v?.fromCache?"not-current":"current"),v){i.push(v);const b=yR.Li(y.targetId,v);a.push(b)}}))}),yield Promise.all(c),r.dc.nu(i),yield(f=(0,Y.Z)(function*(y,v){const b=Ge(y);try{yield b.persistence.runTransaction("notifyLocalViewChanges","readwrite",T=>q.forEach(v,N=>q.forEach(N.Fi,O=>b.persistence.referenceDelegate.addReference(T,N.targetId,O)).next(()=>q.forEach(N.Bi,O=>b.persistence.referenceDelegate.removeReference(T,N.targetId,O)))))}catch(T){if(!El(T))throw T;Ce("LocalStore","Failed to update sequence numbers: "+T)}for(const T of v){const N=T.targetId;if(!T.fromCache){const O=b.Ji.get(N),Q=O.withLastLimboFreeSnapshotVersion(O.snapshotVersion);b.Ji=b.Ji.insert(N,Q)}}}),function(y,v){return f.apply(this,arguments)})(r.localStore,a))}),fO.apply(this,arguments)}function yH(t,e){return pO.apply(this,arguments)}function pO(){return pO=(0,Y.Z)(function*(t,e){const n=Ge(t);if(!n.currentUser.isEqual(e)){Ce("SyncEngine","User change. New user:",e.toKey());const r=yield IV(n.localStore,e);n.currentUser=e,(i=n).Ec.forEach(c=>{c.forEach(f=>{f.reject(new we(ee.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),i.Ec.clear(),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield Yu(n,r.er)}var i}),pO.apply(this,arguments)}function _H(t,e){const n=Ge(t),r=n.yc.get(e);if(r&&r.fc)return Lt().add(r.key);{let i=Lt();const a=n._c.get(e);if(!a)return i;for(const c of a){const f=n.wc.get(c);i=i.unionWith(f.view.nc)}return i}}class nS{constructor(){this.synchronizeTabs=!1}initialize(e){var n=this;return(0,Y.Z)(function*(){n.serializer=nE(e.databaseInfo.databaseId),n.sharedClientState=n.createSharedClientState(e),n.persistence=n.createPersistence(e),yield n.persistence.start(),n.localStore=n.createLocalStore(e),n.gcScheduler=n.createGarbageCollectionScheduler(e,n.localStore),n.indexBackfillerScheduler=n.createIndexBackfillerScheduler(e,n.localStore)})()}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){return function EV(t,e,n,r){return new M3(t,e,n,r)}(this.persistence,new wV,e.initialUser,this.serializer)}createPersistence(e){return new fR(qT.zs,this.serializer)}createSharedClientState(e){return new xV}terminate(){var e=this;return(0,Y.Z)(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class vy{initialize(e,n){var r=this;return(0,Y.Z)(function*(){r.localStore||(r.localStore=e.localStore,r.sharedClientState=e.sharedClientState,r.datastore=r.createDatastore(n),r.remoteStore=r.createRemoteStore(n),r.eventManager=r.createEventManager(n),r.syncEngine=r.createSyncEngine(n,!e.synchronizeTabs),r.sharedClientState.onlineStateHandler=i=>WV(r.syncEngine,i,1),r.remoteStore.remoteSyncer.handleCredentialChange=yH.bind(null,r.syncEngine),yield function zR(t,e){return GR.apply(this,arguments)}(r.remoteStore,r.syncEngine.isPrimaryClient))})()}createEventManager(e){return new tH}createDatastore(e){const n=nE(e.databaseInfo.databaseId),r=new V3(e.databaseInfo);return new j3(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return n=this.localStore,r=this.datastore,i=e.asyncQueue,a=f=>WV(this.syncEngine,f,0),c=NV.D()?new NV:new k3,new z3(n,r,i,a,c);var n,r,i,a,c}createSyncEngine(e,n){return function(r,i,a,c,f,y,v){const b=new uH(r,i,a,c,f,y);return v&&(b.vc=!0),b}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}terminate(){return(e=(0,Y.Z)(function*(n){const r=Ge(n);Ce("RemoteStore","RemoteStore shutting down."),r.vu.add(5),yield hy(r),r.Pu.shutdown(),r.bu.set("Unknown")}),function(n){return e.apply(this,arguments)})(this.remoteStore);var e}}class rS{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Sc(this.observer.next,e)}error(e){this.observer.error?this.Sc(this.observer.error,e):ir("Uncaught Error in snapshot listener:",e.toString())}Dc(){this.muted=!0}Sc(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}}class NH{constructor(e,n,r,i){var a=this;this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Fr.UNAUTHENTICATED,this.clientId=DL.A(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,function(){var c=(0,Y.Z)(function*(f){Ce("FirestoreClient","Received user=",f.uid),yield a.authCredentialListener(f),a.user=f});return function(f){return c.apply(this,arguments)}}()),this.appCheckCredentials.start(r,c=>(Ce("FirestoreClient","Received new app check token=",c),this.appCheckCredentialListener(c,this.user)))}getConfiguration(){var e=this;return(0,Y.Z)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new we(ee.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const n=new wr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,Y.Z)(function*(){try{e._onlineComponents&&(yield e._onlineComponents.terminate()),e._offlineComponents&&(yield e._offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),n.resolve()}catch(r){const i=gy(r,"Failed to shutdown persistence");n.reject(i)}})),n.promise}}function iS(t,e){return bO.apply(this,arguments)}function bO(){return bO=(0,Y.Z)(function*(t,e){t.asyncQueue.verifyOperationInProgress(),Ce("FirestoreClient","Initializing OfflineComponentProvider");const n=yield t.getConfiguration();yield e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(function(){var i=(0,Y.Z)(function*(a){r.isEqual(a)||(yield IV(e.localStore,a),r=a)});return function(a){return i.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}),bO.apply(this,arguments)}function CO(t,e){return TO.apply(this,arguments)}function TO(){return TO=(0,Y.Z)(function*(t,e){t.asyncQueue.verifyOperationInProgress();const n=yield function SO(t){return AO.apply(this,arguments)}(t);Ce("FirestoreClient","Initializing OnlineComponentProvider");const r=yield t.getConfiguration();yield e.initialize(n,r),t.setCredentialChangeListener(i=>UV(e.remoteStore,i)),t.setAppCheckTokenChangeListener((i,a)=>UV(e.remoteStore,a)),t._onlineComponents=e}),TO.apply(this,arguments)}function AO(){return AO=(0,Y.Z)(function*(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){Ce("FirestoreClient","Using user provided OfflineComponentProvider");try{yield iS(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function eU(t){return"FirebaseError"===t.name?t.code===ee.FAILED_PRECONDITION||t.code===ee.UNIMPLEMENTED:!(typeof DOMException<"u"&&t instanceof DOMException)||22===t.code||20===t.code||11===t.code}(n))throw n;Vo("Error using user provided cache. Falling back to memory cache: "+n),yield iS(t,new nS)}}else Ce("FirestoreClient","Using default OfflineComponentProvider"),yield iS(t,new nS);return t._offlineComponents}),AO.apply(this,arguments)}function sS(t){return MO.apply(this,arguments)}function MO(){return MO=(0,Y.Z)(function*(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(Ce("FirestoreClient","Using user provided OnlineComponentProvider"),yield CO(t,t._uninitializedComponentsProvider._online)):(Ce("FirestoreClient","Using default OnlineComponentProvider"),yield CO(t,new vy))),t._onlineComponents}),MO.apply(this,arguments)}function wy(t){return NO.apply(this,arguments)}function NO(){return NO=(0,Y.Z)(function*(t){const e=yield sS(t),n=e.eventManager;return n.onListen=cH.bind(null,e.syncEngine),n.onUnlisten=lH.bind(null,e.syncEngine),n}),NO.apply(this,arguments)}function oU(t){const e={};return void 0!==t.timeoutSeconds&&(e.timeoutSeconds=t.timeoutSeconds),e}const aU=new Map;function RO(t,e,n){if(!n)throw new we(ee.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function uU(t){if(!He.isDocumentKey(t))throw new we(ee.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function cU(t){if(He.isDocumentKey(t))throw new we(ee.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function aS(t){if(void 0===t)return"undefined";if(null===t)return"null";if("string"==typeof t)return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if("number"==typeof t||"boolean"==typeof t)return""+t;if("object"==typeof t){if(t instanceof Array)return"an array";{const e=(n=t).constructor?n.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var n;return"function"==typeof t?"a function":Ye()}function Wt(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new we(ee.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=aS(t);throw new we(ee.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}class dU{constructor(e){var n,r;if(void 0===e.host){if(void 0!==e.ssl)throw new we(ee.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(n=e.ssl)||void 0===n||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.cache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new we(ee.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}(function BH(t,e,n,r){if(!0===e&&!0===r)throw new we(ee.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)})("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!(this.experimentalForceLongPolling||void 0!==e.experimentalAutoDetectLongPolling&&!e.experimentalAutoDetectLongPolling),this.experimentalLongPollingOptions=oU(null!==(r=e.experimentalLongPollingOptions)&&void 0!==r?r:{}),function(i){if(void 0!==i.timeoutSeconds){if(isNaN(i.timeoutSeconds))throw new we(ee.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new we(ee.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new we(ee.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.experimentalLongPollingOptions.timeoutSeconds===e.experimentalLongPollingOptions.timeoutSeconds&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class sE{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new dU({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new we(ee.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new we(ee.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new dU(e),void 0!==e.credentials&&(this._authCredentials=function(n){if(!n)return new Vj;switch(n.type){case"firstParty":return new $j(n.sessionIndex||"0",n.iamToken||null,n.authTokenFactory||null);case"provider":return n.client;default:throw new we(ee.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const n=aU.get(e);n&&(Ce("ComponentProvider","Removing Datastore"),aU.delete(e),n.terminate())}(this),Promise.resolve()}}class ar{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Va(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new ar(this.firestore,e,this._key)}}class si{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new si(this.firestore,e,this._query)}}class Va extends si{constructor(e,n,r){super(e,n,ty(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new ar(this.firestore,null,new He(e))}withConverter(e){return new Va(this.firestore,e,this._path)}}function $H(t,e,...n){if(t=(0,wt.m9)(t),RO("collection","path",e),t instanceof sE){const r=Kt.fromString(e,...n);return cU(r),new Va(t,null,r)}{if(!(t instanceof ar||t instanceof Va))throw new we(ee.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Kt.fromString(e,...n));return cU(r),new Va(t.firestore,null,r)}}function hU(t,e,...n){if(t=(0,wt.m9)(t),1===arguments.length&&(e=DL.A()),RO("doc","path",e),t instanceof sE){const r=Kt.fromString(e,...n);return uU(r),new ar(t,null,new He(r))}{if(!(t instanceof ar||t instanceof Va))throw new we(ee.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Kt.fromString(e,...n));return uU(r),new ar(t.firestore,t instanceof Va?t.converter:null,new He(r))}}class HH{constructor(){this.Gc=Promise.resolve(),this.Qc=[],this.jc=!1,this.zc=[],this.Wc=null,this.Hc=!1,this.Jc=!1,this.Yc=[],this.qo=new SR(this,"async_queue_retry"),this.Xc=()=>{const n=XT();n&&Ce("AsyncQueue","Visibility state changed to "+n.visibilityState),this.qo.Mo()};const e=XT();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Xc)}get isShuttingDown(){return this.jc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Zc(),this.ta(e)}enterRestrictedMode(e){if(!this.jc){this.jc=!0,this.Jc=e||!1;const n=XT();n&&"function"==typeof n.removeEventListener&&n.removeEventListener("visibilitychange",this.Xc)}}enqueue(e){if(this.Zc(),this.jc)return new Promise(()=>{});const n=new wr;return this.ta(()=>this.jc&&this.Jc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Qc.push(e),this.ea()))}ea(){var e=this;return(0,Y.Z)(function*(){if(0!==e.Qc.length){try{yield e.Qc[0](),e.Qc.shift(),e.qo.reset()}catch(n){if(!El(n))throw n;Ce("AsyncQueue","Operation failed with retryable error: "+n)}e.Qc.length>0&&e.qo.No(()=>e.ea())}})()}ta(e){const n=this.Gc.then(()=>(this.Hc=!0,e().catch(r=>{throw this.Wc=r,this.Hc=!1,ir("INTERNAL UNHANDLED ERROR: ",function(a){let c=a.message||"";return a.stack&&(c=a.stack.includes(a.message)?a.stack:a.message+"\n"+a.stack),c}(r)),r}).then(r=>(this.Hc=!1,r))));return this.Gc=n,n}enqueueAfterDelay(e,n,r){this.Zc(),this.Yc.indexOf(e)>-1&&(n=0);const i=qR.createAndSchedule(this,e,n,r,a=>this.na(a));return this.zc.push(i),i}Zc(){this.Wc&&Ye()}verifyOperationInProgress(){}sa(){var e=this;return(0,Y.Z)(function*(){let n;do{n=e.Gc,yield n}while(n!==e.Gc)})()}ia(e){for(const n of this.zc)if(n.timerId===e)return!0;return!1}ra(e){return this.sa().then(()=>{this.zc.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.zc)if(n.skipDelay(),"all"!==e&&n.timerId===e)break;return this.sa()})}oa(e){this.Yc.push(e)}na(e){const n=this.zc.indexOf(e);this.zc.splice(n,1)}}function OO(t){return function(e,n){if("object"!=typeof e||null===e)return!1;const r=e;for(const i of["next","error","complete"])if(i in r&&"function"==typeof r[i])return!0;return!1}(t)}class Rn extends sE{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new HH,this._persistenceKey=i?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||pU(this),this._firestoreClient.terminate()}}function GH(t,e){const n="object"==typeof t?t:(0,Nt.getApp)(),r="string"==typeof t?t:e||"(default)",i=(0,Nt._getProvider)(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const a=(0,wt.P0)("firestore");a&&function jH(t,e,n,r={}){var i;const a=(t=Wt(t,sE))._getSettings(),c=`${e}:${n}`;if("firestore.googleapis.com"!==a.host&&a.host!==c&&Vo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},a),{host:c,ssl:!1})),r.mockUserToken){let f,y;if("string"==typeof r.mockUserToken)f=r.mockUserToken,y=Fr.MOCK_USER;else{f=(0,wt.Sg)(r.mockUserToken,null===(i=t._app)||void 0===i?void 0:i.options.projectId);const v=r.mockUserToken.sub||r.mockUserToken.user_id;if(!v)throw new we(ee.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");y=new Fr(v)}t._authCredentials=new Uj(new EL(f,y))}}(i,...a)}return i}function pr(t){return t._firestoreClient||pU(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function pU(t){var e,n,r;const i=t._freezeSettings(),a=(f=(null===(e=t._app)||void 0===e?void 0:e.options.appId)||"",new _$(t._databaseId,f,t._persistenceKey,(v=i).host,v.ssl,v.experimentalForceLongPolling,v.experimentalAutoDetectLongPolling,oU(v.experimentalLongPollingOptions),v.useFetchStreams));var f,v;t._firestoreClient=new NH(t._authCredentials,t._appCheckCredentials,t._queue,a),null!==(n=i.cache)&&void 0!==n&&n._offlineComponentProvider&&null!==(r=i.cache)&&void 0!==r&&r._onlineComponentProvider&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.cache.kind,_offline:i.cache._offlineComponentProvider,_online:i.cache._onlineComponentProvider})}class lf{constructor(e){this._byteString=e}static fromBase64String(e){try{return new lf(Er.fromBase64String(e))}catch(n){throw new we(ee.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new lf(Er.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class Ey{constructor(...e){for(let n=0;n<e.length;++n)if(0===e[n].length)throw new we(ee.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new sr(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class yU{constructor(e){this._methodName=e}}class PO{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new we(ee.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new we(ee.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Mt(this._lat,e._lat)||Mt(this._long,e._long)}}const WH=/^__.*__$/;class ZH{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return null!==this.fieldMask?new Zu(e,this.data,this.fieldMask,n,this.fieldTransforms):new iy(e,this.data,n,this.fieldTransforms)}}function vU(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ye()}}class uS{constructor(e,n,r,i,a,c){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,void 0===a&&this.ua(),this.fieldTransforms=a||[],this.fieldMask=c||[]}get path(){return this.settings.path}get ca(){return this.settings.ca}aa(e){return new uS(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ha(e){var n;const r=null===(n=this.path)||void 0===n?void 0:n.child(e),i=this.aa({path:r,la:!1});return i.fa(e),i}da(e){var n;const r=null===(n=this.path)||void 0===n?void 0:n.child(e),i=this.aa({path:r,la:!1});return i.ua(),i}wa(e){return this.aa({path:void 0,la:!0})}_a(e){return lS(e,this.settings.methodName,this.settings.ma||!1,this.path,this.settings.ga)}contains(e){return void 0!==this.fieldMask.find(n=>e.isPrefixOf(n))||void 0!==this.fieldTransforms.find(n=>e.isPrefixOf(n.field))}ua(){if(this.path)for(let e=0;e<this.path.length;e++)this.fa(this.path.get(e))}fa(e){if(0===e.length)throw this._a("Document fields must not be empty");if(vU(this.ca)&&WH.test(e))throw this._a('Document fields cannot begin and end with "__"')}}class KH{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||nE(e)}ya(e,n,r,i=!1){return new uS({ca:e,methodName:n,ga:r,path:sr.emptyPath(),la:!1,ma:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Iy(t){const e=t._freezeSettings(),n=nE(t._databaseId);return new KH(t._databaseId,!!e.ignoreUndefinedProperties,n)}function kO(t,e,n,r,i,a={}){const c=t.ya(a.merge||a.mergeFields?2:0,e,n,i);LO("Data must be an object, but it was:",c,r);const f=bU(r,c);let y,v;if(a.merge)y=new fs(c.fieldMask),v=c.fieldTransforms;else if(a.mergeFields){const b=[];for(const T of a.mergeFields){const N=uE(e,T,n);if(!c.contains(N))throw new we(ee.INVALID_ARGUMENT,`Field '${N}' is specified in your field mask but missing from your input data.`);TU(b,N)||b.push(N)}y=new fs(b),v=c.fieldTransforms.filter(T=>y.covers(T.field))}else y=null,v=c.fieldTransforms;return new ZH(new ii(f),y,v)}function df(t,e){if(CU(t=(0,wt.m9)(t)))return LO("Unsupported field value:",e,t),bU(t,e);if(t instanceof yU)return function(n,r){if(!vU(r.ca))throw r._a(`${n._methodName}() can only be used with update() and set()`);if(!r.path)throw r._a(`${n._methodName}() is not currently supported inside arrays`);const i=n._toFieldTransform(r);i&&r.fieldTransforms.push(i)}(t,e),null;if(void 0===t&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.la&&4!==e.ca)throw e._a("Nested arrays are not supported");return function(n,r){const i=[];let a=0;for(const c of n){let f=df(c,r.wa(a));null==f&&(f={nullValue:"NULL_VALUE"}),i.push(f),a++}return{arrayValue:{values:i}}}(t,e)}return function(n,r){if(null===(n=(0,wt.m9)(n)))return{nullValue:"NULL_VALUE"};if("number"==typeof n)return p2(r.serializer,n);if("boolean"==typeof n)return{booleanValue:n};if("string"==typeof n)return{stringValue:n};if(n instanceof Date){const i=jn.fromDate(n);return{timestampValue:oy(r.serializer,i)}}if(n instanceof jn){const i=new jn(n.seconds,1e3*Math.floor(n.nanoseconds/1e3));return{timestampValue:oy(r.serializer,i)}}if(n instanceof PO)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof lf)return{bytesValue:k2(r.serializer,n._byteString)};if(n instanceof ar){const i=r.databaseId,a=n.firestore._databaseId;if(!a.isEqual(i))throw r._a(`Document reference is for database ${a.projectId}/${a.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:tR(n.firestore._databaseId||r.databaseId,n._key.path)}}throw r._a(`Unsupported field value: ${aS(n)}`)}(t,e)}function bU(t,e){const n={};return LL(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Il(t,(r,i)=>{const a=df(i,e.ha(r));null!=a&&(n[r]=a)}),{mapValue:{fields:n}}}function CU(t){return!("object"!=typeof t||null===t||t instanceof Array||t instanceof Date||t instanceof jn||t instanceof PO||t instanceof lf||t instanceof ar||t instanceof yU)}function LO(t,e,n){if(!CU(n)||"object"!=typeof(r=n)||null===r||Object.getPrototypeOf(r)!==Object.prototype&&null!==Object.getPrototypeOf(r)){const r=aS(n);throw e._a("an object"===r?t+" a custom object":t+" "+r)}var r}function uE(t,e,n){if((e=(0,wt.m9)(e))instanceof Ey)return e._internalPath;if("string"==typeof e)return cS(t,e);throw lS("Field path arguments must be of type string or ",t,!1,void 0,n)}const XH=new RegExp("[~\\*/\\[\\]]");function cS(t,e,n){if(e.search(XH)>=0)throw lS(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Ey(...e.split("."))._internalPath}catch{throw lS(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function lS(t,e,n,r,i){const a=r&&!r.isEmpty(),c=void 0!==i;let f=`Function ${e}() called with invalid data`;n&&(f+=" (via `toFirestore()`)"),f+=". ";let y="";return(a||c)&&(y+=" (found",a&&(y+=` in field ${r}`),c&&(y+=` in document ${i}`),y+=")"),new we(ee.INVALID_ARGUMENT,f+t+y)}function TU(t,e){return t.some(n=>n.isEqual(e))}class VO{constructor(e,n,r,i,a){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=a}get id(){return this._key.path.lastSegment()}get ref(){return new ar(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new e4(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(dS("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n)}}}class e4 extends VO{data(){return super.data()}}function dS(t,e){return"string"==typeof e?cS(t,e):e instanceof Ey?e._internalPath:e._delegate._internalPath}function SU(t){if("L"===t.limitType&&0===t.explicitOrderBy.length)throw new we(ee.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class UO{}class AU extends UO{}function t4(t,e,...n){let r=[];e instanceof UO&&r.push(e),r=r.concat(n),function(i){const a=i.filter(f=>f instanceof Dy).length,c=i.filter(f=>f instanceof cE).length;if(a>1||a>0&&c>0)throw new we(ee.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)t=i._apply(t);return t}class cE extends AU{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new cE(e,n,r)}_apply(e){const n=this._parse(e);return RU(e._query,n),new si(e.firestore,e.converter,GN(e._query,n))}_parse(e){const n=Iy(e.firestore);return function(i,a,c,f,y,v,b){let T;if(y.isKeyField()){if("array-contains"===v||"array-contains-any"===v)throw new we(ee.INVALID_ARGUMENT,`Invalid Query. You can't perform '${v}' queries on documentId().`);if("in"===v||"not-in"===v){NU(b,v);const N=[];for(const O of b)N.push(xU(f,i,O));T={arrayValue:{values:N}}}else T=xU(f,i,b)}else"in"!==v&&"not-in"!==v&&"array-contains-any"!==v||NU(b,v),T=function DU(t,e,n,r=!1){return df(n,t.ya(r?4:3,e))}(c,"where",b,"in"===v||"not-in"===v);return Gt.create(y,v,T)}(e._query,0,n,e.firestore._databaseId,this._field,this._op,this._value)}}function n4(t,e,n){const r=e,i=dS("where",t);return cE._create(i,r,n)}class Dy extends UO{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new Dy(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return 1===n.length?n[0]:dn.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return 0===n.getFilters().length?e:(function(r,i){let a=r;const c=i.getFlattenedFilters();for(const f of c)RU(a,f),a=GN(a,f)}(e._query,n),new si(e.firestore,e.converter,GN(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class BO extends AU{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new BO(e,n)}_apply(e){const n=function(r,i,a){if(null!==r.startAt)throw new we(ee.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==r.endAt)throw new we(ee.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const c=new Xm(i,a);return function(f,y){if(null===HN(f)){const v=NT(f);null!==v&&OU(0,v,y.field)}}(r,c),c}(e._query,this._field,this._direction);return new si(e.firestore,e.converter,function(r,i){const a=r.explicitOrderBy.concat([i]);return new qu(r.path,r.collectionGroup,a,r.filters.slice(),r.limit,r.limitType,r.startAt,r.endAt)}(e._query,n))}}function r4(t,e="asc"){const n=e,r=dS("orderBy",t);return BO._create(r,n)}function xU(t,e,n){if("string"==typeof(n=(0,wt.m9)(n))){if(""===n)throw new we(ee.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!zN(e)&&-1!==n.indexOf("/"))throw new we(ee.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(Kt.fromString(n));if(!He.isDocumentKey(r))throw new we(ee.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return Yh(t,new He(r))}if(n instanceof ar)return Yh(t,n._key);throw new we(ee.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${aS(n)}.`)}function NU(t,e){if(!Array.isArray(t)||0===t.length)throw new we(ee.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function RU(t,e){if(e.isInequality()){const r=NT(t),i=e.field;if(null!==r&&!r.isEqual(i))throw new we(ee.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${r.toString()}' and '${i.toString()}'`);const a=HN(t);null!==a&&OU(0,i,a)}const n=function(r,i){for(const a of r)for(const c of a.getFlattenedFilters())if(i.indexOf(c.op)>=0)return c.op;return null}(t.filters,function(r){switch(r){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==n)throw new we(ee.INVALID_ARGUMENT,n===e.op?`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`:`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}function OU(t,e,n){if(!n.isEqual(e))throw new we(ee.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${n.toString()}' instead.`)}class i4{convertValue(e,n="none"){switch(Cl(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Wn(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Gu(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw Ye()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return Il(e,(i,a)=>{r[i]=this.convertValue(a,n)}),r}convertGeoPoint(e){return new PO(Wn(e.latitude),Wn(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=CT(e);return null==r?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Nw(e));default:return null}}convertTimestamp(e){const n=Dl(e);return new jn(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=Kt.fromString(e);rt(G2(r));const i=new Kh(r.get(1),r.get(3)),a=new He(r.popFirst(5));return i.isEqual(n)||ir(`Document ${a} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),a}}function jO(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}class hf{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class by extends VO{constructor(e,n,r,i,a,c){super(e,n,r,i,c),this._firestore=e,this._firestoreImpl=e,this.metadata=a}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new gS(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(dS("DocumentSnapshot.get",e));if(null!==r)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class gS extends by{data(e={}){return super.data(e)}}class Cy{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new hf(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new gS(this._firestore,this._userDataWriter,r.key,r,new hf(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new we(ee.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(r,i){if(r._snapshot.oldDocs.isEmpty()){let a=0;return r._snapshot.docChanges.map(c=>({type:"added",doc:new gS(r._firestore,r._userDataWriter,c.doc.key,c.doc,new hf(r._snapshot.mutatedKeys.has(c.doc.key),r._snapshot.fromCache),r.query.converter),oldIndex:-1,newIndex:a++}))}{let a=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(c=>i||3!==c.type).map(c=>{const f=new gS(r._firestore,r._userDataWriter,c.doc.key,c.doc,new hf(r._snapshot.mutatedKeys.has(c.doc.key),r._snapshot.fromCache),r.query.converter);let y=-1,v=-1;return 0!==c.type&&(y=a.indexOf(c.doc.key),a=a.delete(c.doc.key)),1!==c.type&&(a=a.add(c.doc),v=a.indexOf(c.doc.key)),{type:o4(c.type),doc:f,oldIndex:y,newIndex:v}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function o4(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ye()}}function a4(t){t=Wt(t,ar);const e=Wt(t.firestore,Rn);return function iU(t,e,n={}){const r=new wr;return t.asyncQueue.enqueueAndForget((0,Y.Z)(function*(){return function(i,a,c,f,y){const v=new rS({next:T=>{a.enqueueAndForget(()=>KR(i,b));const N=T.docs.has(c);!N&&T.fromCache?y.reject(new we(ee.UNAVAILABLE,"Failed to get document because the client is offline.")):N&&T.fromCache&&f&&"server"===f.source?y.reject(new we(ee.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):y.resolve(T)},error:T=>y.reject(T)}),b=new JR(ty(c.path),v,{includeMetadataChanges:!0,Ku:!0});return WR(i,b)}(yield wy(t),t.asyncQueue,e,n,r)})),r.promise}(pr(e),t._key).then(n=>$O(e,t,n))}class Pl extends i4{constructor(e){super(),this.firestore=e}convertBytes(e){return new lf(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new ar(this.firestore,null,n)}}function u4(t){t=Wt(t,si);const e=Wt(t.firestore,Rn),n=pr(e),r=new Pl(e);return SU(t._query),function sU(t,e,n={}){const r=new wr;return t.asyncQueue.enqueueAndForget((0,Y.Z)(function*(){return function(i,a,c,f,y){const v=new rS({next:T=>{a.enqueueAndForget(()=>KR(i,b)),T.fromCache&&"server"===f.source?y.reject(new we(ee.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):y.resolve(T)},error:T=>y.reject(T)}),b=new JR(c,v,{includeMetadataChanges:!0,Ku:!0});return WR(i,b)}(yield wy(t),t.asyncQueue,e,n,r)})),r.promise}(n,t._query).then(i=>new Cy(e,r,t,i))}function c4(t,e,n){t=Wt(t,ar);const r=Wt(t.firestore,Rn),i=jO(t.converter,e,n);return lE(r,[kO(Iy(r),"setDoc",t._key,i,null!==t.converter,n).toMutation(t._key,kn.none())])}function l4(t,e){const n=Wt(t.firestore,Rn),r=hU(t),i=jO(t.converter,e);return lE(n,[kO(Iy(t.firestore),"addDoc",r._key,i,null!==t.converter,{}).toMutation(r._key,kn.exists(!1))]).then(()=>r)}function d4(t,...e){var n,r,i;t=(0,wt.m9)(t);let a={includeMetadataChanges:!1},c=0;"object"!=typeof e[c]||OO(e[c])||(a=e[c],c++);const f={includeMetadataChanges:a.includeMetadataChanges};if(OO(e[c])){const T=e[c];e[c]=null===(n=T.next)||void 0===n?void 0:n.bind(T),e[c+1]=null===(r=T.error)||void 0===r?void 0:r.bind(T),e[c+2]=null===(i=T.complete)||void 0===i?void 0:i.bind(T)}let y,v,b;if(t instanceof ar)v=Wt(t.firestore,Rn),b=ty(t._key.path),y={next:T=>{e[c]&&e[c]($O(v,t,T))},error:e[c+1],complete:e[c+2]};else{const T=Wt(t,si);v=Wt(T.firestore,Rn),b=T._query;const N=new Pl(v);y={next:O=>{e[c]&&e[c](new Cy(v,N,T,O))},error:e[c+1],complete:e[c+2]},SU(t._query)}return function(T,N,O,$){const Q=new rS($),ae=new JR(N,Q,O);return T.asyncQueue.enqueueAndForget((0,Y.Z)(function*(){return WR(yield wy(T),ae)})),()=>{Q.Dc(),T.asyncQueue.enqueueAndForget((0,Y.Z)(function*(){return KR(yield wy(T),ae)}))}}(pr(v),b,f,y)}function lE(t,e){return function(n,r){const i=new wr;return n.asyncQueue.enqueueAndForget((0,Y.Z)(function*(){return function dH(t,e,n){return rO.apply(this,arguments)}(yield function xO(t){return sS(t).then(e=>e.syncEngine)}(n),r,i)})),i.promise}(pr(t),e)}function $O(t,e,n){const r=n.docs.get(e._key),i=new Pl(t);return new by(t,i,e._key,r,new hf(n.hasPendingWrites,n.fromCache),e.converter)}!function(t,e=!0){Km=Nt.SDK_VERSION,(0,Nt._registerComponent)(new Yr.wA("firestore",(n,{instanceIdentifier:r,options:i})=>{const a=n.getProvider("app").getImmediate(),c=new Rn(new Bj(n.getProvider("auth-internal")),new Hj(n.getProvider("app-check-internal")),function(f,y){if(!Object.prototype.hasOwnProperty.apply(f.options,["projectId"]))throw new we(ee.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Kh(f.options.projectId,y)}(a,r),a);return i=Object.assign({useFetchStreams:e},i),c._setSettings(i),c},"PUBLIC").setMultipleInstances(!0)),(0,Nt.registerVersion)(wL,"3.13.0",t),(0,Nt.registerVersion)(wL,"3.13.0","esm2017")}();class dE{constructor(e){return e}}const FU="firestore",HO=new h.OlP("angularfire2.firestore-instances");function C4(t){return(e,n)=>{const r=e.runOutsideAngular(()=>t(n));return new dE(r)}}const T4={provide:class D4{constructor(){return wm(FU)}},deps:[[new h.FiY,HO]]},S4={provide:dE,useFactory:function b4(t,e){const n=B0(FU,t,e);return n&&new dE(n)},deps:[[new h.FiY,HO],Vu]};let A4=(()=>{class t{constructor(){(0,Nt.registerVersion)("angularfire",Oh.full,"fst")}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=h.oAB({type:t}),t.\u0275inj=h.cJS({providers:[S4,T4]}),t})();function M4(t,...e){return{ngModule:A4,providers:[{provide:HO,useFactory:C4(t),multi:!0,deps:[h.R0b,h.zs3,hl,j0,[new h.FiY,tw],[new h.FiY,J0],...e]}]}}const x4=Ti(l4,!0),kl=Ti($H,!0),LU=Ti(hU,!0),N4=Ti(a4,!0),yS=Ti(u4,!0),R4=Ti(GH,!0),O4=Ti(d4,!0),VU=Ti(r4,!0),_S=Ti(t4,!0),P4=Ti(c4,!0),UU=Ti(n4,!0);let zO=(()=>{var t;class e{constructor(r){this.firestore=r}subscribeToMessages(){const r=kl(this.firestore,"Message"),i=_S(r,VU("Timestamp","asc"));return new _i.y(a=>{const c=O4(i,f=>{const y=f.docs.map(v=>v.data());a.next(y)});return()=>c()})}getUsers(){var r=this;return(0,Y.Z)(function*(){const i=kl(r.firestore,"User");(yield yS(i)).docs.map(f=>f.data())})()}SaveUser(r,i,a){var c=this;return(0,Y.Z)(function*(){const f=kl(c.firestore,"User"),y=LU(f,r);yield P4(y,{UserName:i,Email:a,JoinDate:new Date,Rol:"Usuario"})})()}GetUserEmailByUserName(r){var i=this;return(0,Y.Z)(function*(){const a=kl(i.firestore,"User"),c=_S(a,UU("UserName","==",r)),f=yield yS(c);if(f.empty)return null;const v=f.docs[0].data();return v&&v.Email?(console.log(v.Email),v.Email):null})()}userExist(r){var i=this;return(0,Y.Z)(function*(){const a=kl(i.firestore,"User"),c=_S(a,UU("UserName","==",r)),f=yield yS(c);return!f.empty&&f.docs[0].data().UserName==r})()}getUserNameByUID(r){var i=this;return(0,Y.Z)(function*(){const a=kl(i.firestore,"User"),c=LU(a,r),f=yield N4(c);return f.exists()?f.data().UserName:(console.log("User not found"),"")})()}sendMessage(r,i){var a=this;return(0,Y.Z)(function*(){const c=kl(a.firestore,"Message");yield x4(c,{Message:r,UserName:i,Timestamp:new Date})})()}getMessage(){var r=this;return(0,Y.Z)(function*(){const i=kl(r.firestore,"Message"),a=_S(i,VU("Timestamp","asc"));return(yield yS(a)).docs.map(y=>y.data())})()}}return(t=e).\u0275fac=function(r){return new(r||t)(h.LFG(dE))},t.\u0275prov=h.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),e})(),hE=(()=>{var t;class e{constructor(r,i){this.ngFireAuth=r,this.data=i,this.logueado=!1,this.userName=""}logIn(r,i){var a=this;return(0,Y.Z)(function*(){try{const c=yield a.ngFireAuth.signInWithEmailAndPassword(r,i),f=(yield a.getUserUid())||"";return a.userName=yield a.data.getUserNameByUID(f),a.logueado=!0,c}catch{try{const f=(yield a.data.GetUserEmailByUserName(r))||"",y=yield a.ngFireAuth.signInWithEmailAndPassword(f.toString(),i),v=(yield a.getUserUid())||"";return a.userName=yield a.data.getUserNameByUID(v),a.logueado=!0,y}catch{return null}}})()}logOut(){var r=this;return(0,Y.Z)(function*(){return r.logueado=!1,r.userName="",yield r.ngFireAuth.signOut()})()}register(r,i,a){var c=this;return(0,Y.Z)(function*(){if(!(yield c.data.userExist(a))){yield c.ngFireAuth.createUserWithEmailAndPassword(r,i),yield c.logIn(r,i);const y=(yield c.getUserUid())||"";return yield c.data.SaveUser(y,a,r),!0}return!1})()}getUserUid(){var r=this;return(0,Y.Z)(function*(){return new Promise((i,a)=>{r.ngFireAuth.authState.subscribe(c=>{i(c?c.uid:null)})})})()}}return(t=e).\u0275fac=function(r){return new(r||t)(h.LFG(Fm),h.LFG(zO))},t.\u0275prov=h.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),e})(),GO=(()=>{var t;class e{constructor(){this.isLoading=!1}show(){this.isLoading=!0}hide(){this.isLoading=!1}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=h.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();function k4(t,e){1&t&&(h.TgZ(0,"small"),h._uU(1,"\xa1El Email / Usuario es requerido!"),h.qZA())}function F4(t,e){if(1&t&&(h.TgZ(0,"div"),h.YNc(1,k4,2,0,"small",7),h.qZA()),2&t){const n=h.oxw();h.xp6(1),h.Q6J("ngIf",n.regForm.controls.email.errors.required&&n.regForm.controls.email.touched)}}function L4(t,e){1&t&&(h.TgZ(0,"small"),h._uU(1,"\xa1La contrase\xf1a es requerido!"),h.qZA())}function V4(t,e){if(1&t&&(h.TgZ(0,"div"),h.YNc(1,L4,2,0,"small",7),h.qZA()),2&t){const n=h.oxw();h.xp6(1),h.Q6J("ngIf",n.regForm.controls.password.errors.required&&n.regForm.controls.password.touched)}}let U4=(()=>{var t;class e{constructor(r,i,a,c,f,y){this.router=r,this.formBuilder=i,this.toast=a,this.auth=c,this.data=f,this.loading=y,this.regForm=this.formBuilder.group({email:["",[Js.required]],password:["",[Js.required]]})}ngOnInit(){}OnLoginClick(){var r=this;return(0,Y.Z)(function*(){if(r.loading.show(),r.regForm.controls.email.valid&&r.regForm.controls.password.valid)try{const a=(yield r.auth.logIn(r.regForm.controls.email.value,r.regForm.controls.password.value))?.user?.uid||"";yield r.data.getUserNameByUID(a),r.toast.success("\xa1Log In completado!","\xc9xito"),r.router.navigateByUrl("/home"),console.log(r.auth.userName)}catch{r.toast.error("\xa1Credenciales incorrectas!","Error")}else r.toast.error("\xa1Errores en los campos!","Error");r.loading.hide()})()}OnFillClick(r,i){this.regForm.controls.email.setValue(r),this.regForm.controls.password.setValue(i)}get errorControl(){return this.regForm?.controls}}return(t=e).\u0275fac=function(r){return new(r||t)(h.Y36(Ii),h.Y36(rD),h.Y36(mg),h.Y36(hE),h.Y36(zO),h.Y36(GO))},t.\u0275cmp=h.Xpm({type:t,selectors:[["app-login"]],decls:31,vars:3,consts:[[1,"container","d-flex","justify-content-center","align-items-center"],[1,"screen"],[1,"screen-content","d-flex","justify-content-center","align-items-center"],[1,"login",3,"formGroup"],[1,"login__field"],[1,"login__icon","fas","fa-user"],["type","email","placeholder","User name / Email","formControlName","email",1,"login-input"],[4,"ngIf"],[1,"login__icon","fas","fa-lock"],["type","password","placeholder","Password","formControlName","password",1,"login-input"],[1,"users-container","d-flex","justify-content-between","align-items-center"],["type","button",1,"btn","user",3,"click"],[2,"margin-right","5px"],[1,"bi","bi-person"],["type","button",1,"btn","btn-success",2,"margin-top","20px"],[1,"button__text",3,"click"],[1,"button__icon","fas","fa-chevron-right"]],template:function(r,i){1&r&&(h.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"form",3)(4,"h2"),h._uU(5,"Login"),h.qZA(),h.TgZ(6,"div",4),h._UZ(7,"i",5)(8,"input",6),h.YNc(9,F4,2,1,"div",7),h.qZA(),h.TgZ(10,"div",4),h._UZ(11,"i",8)(12,"input",9),h.YNc(13,V4,2,1,"div",7),h.qZA(),h.TgZ(14,"div",10)(15,"button",11),h.NdJ("click",function(){return i.OnFillClick("admin@admin.com","123456")}),h.TgZ(16,"span",12),h._uU(17,"1"),h.qZA(),h._UZ(18,"i",13),h.qZA(),h.TgZ(19,"button",11),h.NdJ("click",function(){return i.OnFillClick("invitado@invitado.com","123456")}),h.TgZ(20,"span",12),h._uU(21,"2"),h.qZA(),h._UZ(22,"i",13),h.qZA(),h.TgZ(23,"button",11),h.NdJ("click",function(){return i.OnFillClick("tester@tester.com","123456")}),h.TgZ(24,"span",12),h._uU(25,"3"),h.qZA(),h._UZ(26,"i",13),h.qZA()(),h.TgZ(27,"button",14)(28,"span",15),h.NdJ("click",function(){return i.OnLoginClick()}),h._uU(29,"Log In Now"),h.qZA(),h._UZ(30,"i",16),h.qZA()()()()()),2&r&&(h.xp6(3),h.Q6J("formGroup",i.regForm),h.xp6(6),h.Q6J("ngIf",null!=i.regForm.controls.email.errors),h.xp6(4),h.Q6J("ngIf",null!=i.regForm.controls.password.errors))},dependencies:[ts,lh,$c,Yp,Xd,eo,fh],styles:['@import"https://fonts.googleapis.com/css2?family=Phudu:wght@900&family=Poppins:ital,wght@0,300;0,400;0,600;0,800;0,900;1,900&display=swap";*[_ngcontent-%COMP%]{font-family:Poppins,sans-serif;font-weight:600}.container[_ngcontent-%COMP%]{min-height:100vh}.screen[_ngcontent-%COMP%]{background-color:#929487;width:400px;border-radius:15px 15px 15px 0}.screen-content[_ngcontent-%COMP%]{padding:50px}.btn-success[_ngcontent-%COMP%]{border-radius:15px 0}.login-input[_ngcontent-%COMP%]{margin:20px 0;background-color:#8b8d80!important;border:none;border-bottom:10px solid #322624;padding:10px;border-radius:0 6px 6px 0}small[_ngcontent-%COMP%]{color:#ff4a4a}.users-container[_ngcontent-%COMP%]{width:100%;margin:10px 0}.user[_ngcontent-%COMP%]{background-color:#322624;color:#8b8d80}']}),e})();function B4(t,e){1&t&&(h.TgZ(0,"small"),h._uU(1,"\xa1El Email es requerido!"),h.qZA())}function j4(t,e){1&t&&(h.TgZ(0,"small"),h._uU(1,"\xa1El campo debe ser un Email valido!"),h.qZA())}function $4(t,e){if(1&t&&(h.TgZ(0,"div"),h.YNc(1,B4,2,0,"small",7),h.YNc(2,j4,2,0,"small",7),h.qZA()),2&t){const n=h.oxw();h.xp6(1),h.Q6J("ngIf",n.regForm.controls.email.errors.required&&n.regForm.controls.email.touched),h.xp6(1),h.Q6J("ngIf",n.regForm.controls.email.errors.email&&n.regForm.controls.email.touched)}}function H4(t,e){1&t&&(h.TgZ(0,"small"),h._uU(1,"\xa1El campo debe tener 3 caracteres como minimo!"),h.qZA())}function z4(t,e){1&t&&(h.TgZ(0,"small"),h._uU(1,"\xa1El campo no puede tener m\xe1s de 15 caracteres como minimo!"),h.qZA())}function G4(t,e){if(1&t&&(h.TgZ(0,"div"),h.YNc(1,H4,2,0,"small",7),h.YNc(2,z4,2,0,"small",7),h.qZA()),2&t){const n=h.oxw();h.xp6(1),h.Q6J("ngIf",n.regForm.controls.user.errors.minlength&&n.regForm.controls.user.touched),h.xp6(1),h.Q6J("ngIf",n.regForm.controls.user.errors.maxlength&&n.regForm.controls.user.touched)}}function q4(t,e){1&t&&(h.TgZ(0,"small"),h._uU(1,"\xa1La contrase\xf1a es requerida!"),h.qZA())}function W4(t,e){1&t&&(h.TgZ(0,"small"),h._uU(1,"\xa1La contrase\xf1a debe tener al menos 6 caracteres!"),h.qZA())}function Z4(t,e){if(1&t&&(h.TgZ(0,"div"),h.YNc(1,q4,2,0,"small",7),h.YNc(2,W4,2,0,"small",7),h.qZA()),2&t){const n=h.oxw();h.xp6(1),h.Q6J("ngIf",n.regForm.controls.password.errors.requerid&&n.regForm.controls.password.touched),h.xp6(1),h.Q6J("ngIf",n.regForm.controls.password.errors.minlength&&n.regForm.controls.password.touched)}}let K4=(()=>{var t;class e{constructor(r,i,a,c,f){this.router=r,this.toastr=i,this.formBuilder=a,this.auth=c,this.loading=f,this.regForm=this.formBuilder.group({email:["",[Js.required,Js.email]],password:["",[Js.required,Js.minLength(6)]],user:["",[Js.required,Js.minLength(3),Js.maxLength(15)]]})}onRegisterClick(){var r=this;return(0,Y.Z)(function*(){if(r.loading.show(),r.regForm.controls.email.valid&&r.regForm.controls.password.valid&&r.regForm.controls.user.valid){try{if(!(yield r.auth.register(r.regForm.controls.email.value,r.regForm.controls.password.value,r.regForm.controls.user.value)))return r.toastr.error("\xa1Nombre de usuario en uso!","Error"),void r.loading.hide()}catch{return r.toastr.error("\xa1Email en uso!","Error"),void r.loading.hide()}r.toastr.success("\xa1Registro exitoso!","\xc9xito"),r.router.navigateByUrl("/home")}else r.toastr.error("\xa1No se puedo realizar el registro!","Error");r.loading.hide()})()}}return(t=e).\u0275fac=function(r){return new(r||t)(h.Y36(Ii),h.Y36(mg),h.Y36(rD),h.Y36(hE),h.Y36(GO))},t.\u0275cmp=h.Xpm({type:t,selectors:[["app-register"]],decls:28,vars:4,consts:[[1,"container","d-flex","justify-content-center","align-items-center"],[1,"screen"],[1,"screen-content","d-flex","justify-content-center","align-items-center"],[1,"login",3,"formGroup"],[1,"login__field"],[1,"login__icon","fas","fa-user"],["type","text","placeholder","Email","formControlName","email",1,"login-input"],[4,"ngIf"],["type","text","placeholder","User name","formControlName","user",1,"login-input"],[1,"login__icon","fas","fa-lock"],["type","password","placeholder","Password","formControlName","password",1,"login-input"],[1,"btn-container","d-flex","justify-content-start","align-items-center"],["type","button",1,"btn","btn-success",3,"click"],[1,"button__text"],[1,"button__icon","fas","fa-chevron-right"],[1,"p-container","d-flex","justify-content-center","align-items-center"],["href","/login"]],template:function(r,i){1&r&&(h.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"form",3)(4,"h2"),h._uU(5,"Register"),h.qZA(),h.TgZ(6,"div",4),h._UZ(7,"i",5)(8,"input",6),h.YNc(9,$4,3,2,"div",7),h.qZA(),h.TgZ(10,"div",4),h._UZ(11,"i",5)(12,"input",8),h.YNc(13,G4,3,2,"div",7),h.qZA(),h.TgZ(14,"div",4),h._UZ(15,"i",9)(16,"input",10),h.YNc(17,Z4,3,2,"div",7),h.qZA(),h.TgZ(18,"div",11)(19,"button",12),h.NdJ("click",function(){return i.onRegisterClick()}),h.TgZ(20,"span",13),h._uU(21,"Register Now"),h.qZA(),h._UZ(22,"i",14),h.qZA()(),h.TgZ(23,"div",15)(24,"p"),h._uU(25,"\xbfYa tienes cuenta? "),h.TgZ(26,"a",16),h._uU(27,"Inicia sesion"),h.qZA()()()()()()()),2&r&&(h.xp6(3),h.Q6J("formGroup",i.regForm),h.xp6(6),h.Q6J("ngIf",null!=i.regForm.controls.email.errors),h.xp6(4),h.Q6J("ngIf",null!=i.regForm.controls.user.errors),h.xp6(4),h.Q6J("ngIf",null!=i.regForm.controls.password.errors))},dependencies:[ts,lh,$c,Yp,Xd,eo,fh],styles:['@import"https://fonts.googleapis.com/css2?family=Phudu:wght@900&family=Poppins:ital,wght@0,300;0,400;0,600;0,800;0,900;1,900&display=swap";*[_ngcontent-%COMP%]{font-family:Poppins,sans-serif;font-weight:600}.container[_ngcontent-%COMP%]{min-height:100vh}.screen[_ngcontent-%COMP%]{background-color:#929487;width:400px;border-radius:15px 15px 15px 0}.screen-content[_ngcontent-%COMP%]{padding:50px}.btn-success[_ngcontent-%COMP%]{border-radius:15px 0}.login-input[_ngcontent-%COMP%]{margin:20px 0;background-color:#8b8d80!important;border:none;border-bottom:10px solid #322624;padding:10px;border-radius:0 6px 6px 0}.login[_ngcontent-%COMP%]{max-width:600px}.btn-container[_ngcontent-%COMP%]{background-color:#8b8d80!important}small[_ngcontent-%COMP%]{color:#ff4a4a}']}),e})(),Y4=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275cmp=h.Xpm({type:t,selectors:[["app-error"]],decls:4,vars:0,consts:[[1,"container"],[1,"container-fluid"]],template:function(r,i){1&r&&(h.TgZ(0,"div",0),h._uU(1,"CONTAINER"),h.qZA(),h.TgZ(2,"div",1),h._uU(3,"CONTAINER-FLUID"),h.qZA())},styles:["*[_ngcontent-%COMP%]{margin-top:100px;background-color:#0ff}.container-fluid[_ngcontent-%COMP%]{background-color:#fff;color:#0ff;height:100px}"]}),e})(),Q4=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275cmp=h.Xpm({type:t,selectors:[["app-aboutme"]],decls:9,vars:0,consts:[[1,"d-flex"],[1,"container-fluid","aside-profile"],[1,"container","d-flex","justify-content-center"],["src","./../../../assets/fotoperfil.jpeg",1,"container","j"],[1,"container-fluid","h"],[1,"title"]],template:function(r,i){1&r&&(h.TgZ(0,"div",0)(1,"div",1)(2,"div",2),h._UZ(3,"img",3),h.qZA()(),h.TgZ(4,"div",4)(5,"h1",5),h._uU(6,"Patricio Perez Cardenal"),h.qZA(),h.TgZ(7,"p"),h._uU(8,"Lorem ipsum dolor sit, amet consectetur adipisicing elit. Placeat ullam quibusdam officiis unde et natus aperiam ratione quis repellat, dolores repudiandae velit rem. Corrupti sint ipsa consequatur ducimus porro iste. Lorem ipsum dolor sit amet consectetur adipisicing elit. Rem porro sed alias nam vitae accusantium necessitatibus nostrum tempore, ratione laboriosam hic, veniam asperiores tempora doloribus harum totam voluptatem eligendi earum."),h.qZA()()())},styles:['@import"https://fonts.googleapis.com/css2?family=Phudu:wght@900&family=Poppins:ital,wght@0,300;0,400;0,600;0,800;0,900;1,900&display=swap";*[_ngcontent-%COMP%]{font-family:Poppins,sans-serif;font-weight:600}p[_ngcontent-%COMP%]{text-align:justify}.container-fluid[_ngcontent-%COMP%]{padding:40px;height:100vh}.aside-profile[_ngcontent-%COMP%]{margin-top:90px;border-radius:0 30px 0 0;flex:1;background-color:#929487}.h[_ngcontent-%COMP%]{flex:3;color:#f2cdb6;background-color:#332725}.j[_ngcontent-%COMP%]{margin-bottom:40px;border-top:10px solid #332725;width:300px;background-color:#332725;border-radius:15px 15px 15px 0}.image-profile[_ngcontent-%COMP%]{margin:auto;width:250px;object-fit:cover}.title[_ngcontent-%COMP%]{margin-top:90px}']}),e})();function BU(t){return new h.vHH(3e3,!1)}function Fl(t){switch(t.length){case 0:return new gh;case 1:return t[0];default:return new mv(t)}}function jU(t,e,n=new Map,r=new Map){const i=[],a=[];let c=-1,f=null;if(e.forEach(y=>{const v=y.get("offset"),b=v==c,T=b&&f||new Map;y.forEach((N,O)=>{let $=O,Q=N;if("offset"!==O)switch($=t.normalizePropertyName($,i),Q){case"!":Q=n.get(O);break;case Mo:Q=r.get(O);break;default:Q=t.normalizeStyleValue(O,$,Q,i)}T.set($,Q)}),b||a.push(T),f=T,c=v}),i.length)throw function wz(t){return new h.vHH(3502,!1)}();return a}function qO(t,e,n,r){switch(e){case"start":t.onStart(()=>r(n&&WO(n,"start",t)));break;case"done":t.onDone(()=>r(n&&WO(n,"done",t)));break;case"destroy":t.onDestroy(()=>r(n&&WO(n,"destroy",t)))}}function WO(t,e,n){const a=ZO(t.element,t.triggerName,t.fromState,t.toState,e||t.phaseName,n.totalTime??t.totalTime,!!n.disabled),c=t._data;return null!=c&&(a._data=c),a}function ZO(t,e,n,r,i="",a=0,c){return{element:t,triggerName:e,fromState:n,toState:r,phaseName:i,totalTime:a,disabled:!!c}}function Us(t,e,n){let r=t.get(e);return r||t.set(e,r=n),r}function $U(t){const e=t.indexOf(":");return[t.substring(1,e),t.slice(e+1)]}const Rz=(()=>typeof document>"u"?null:document.documentElement)();function KO(t){const e=t.parentNode||t.host||null;return e===Rz?null:e}let ff=null,HU=!1;function zU(t,e){for(;e;){if(e===t)return!0;e=KO(e)}return!1}function GU(t,e,n){if(n)return Array.from(t.querySelectorAll(e));const r=t.querySelector(e);return r?[r]:[]}let qU=(()=>{var t;class e{validateStyleProperty(r){return function Pz(t){ff||(ff=function kz(){return typeof document<"u"?document.body:null}()||{},HU=!!ff.style&&"WebkitAppearance"in ff.style);let e=!0;return ff.style&&!function Oz(t){return"ebkit"==t.substring(1,6)}(t)&&(e=t in ff.style,!e&&HU&&(e="Webkit"+t.charAt(0).toUpperCase()+t.slice(1)in ff.style)),e}(r)}matchesElement(r,i){return!1}containsElement(r,i){return zU(r,i)}getParentElement(r){return KO(r)}query(r,i,a){return GU(r,i,a)}computeStyle(r,i,a){return a||""}animate(r,i,a,c,f,y=[],v){return new gh(a,c)}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=h.Yz7({token:t,factory:t.\u0275fac}),e})(),YO=(()=>{class e{}return e.NOOP=new qU,e})();const Fz=1e3,QO="ng-enter",vS="ng-leave",wS="ng-trigger",ES=".ng-trigger",ZU="ng-animating",JO=".ng-animating";function Qu(t){if("number"==typeof t)return t;const e=t.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:XO(parseFloat(e[1]),e[2])}function XO(t,e){return"s"===e?t*Fz:t}function IS(t,e,n){return t.hasOwnProperty("duration")?t:function Vz(t,e,n){let i,a=0,c="";if("string"==typeof t){const f=t.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===f)return e.push(BU()),{duration:0,delay:0,easing:""};i=XO(parseFloat(f[1]),f[2]);const y=f[3];null!=y&&(a=XO(parseFloat(y),f[4]));const v=f[5];v&&(c=v)}else i=t;if(!n){let f=!1,y=e.length;i<0&&(e.push(function J4(){return new h.vHH(3100,!1)}()),f=!0),a<0&&(e.push(function X4(){return new h.vHH(3101,!1)}()),f=!0),f&&e.splice(y,0,BU())}return{duration:i,delay:a,easing:c}}(t,e,n)}function fE(t,e={}){return Object.keys(t).forEach(n=>{e[n]=t[n]}),e}function KU(t){const e=new Map;return Object.keys(t).forEach(n=>{e.set(n,t[n])}),e}function Ll(t,e=new Map,n){if(n)for(let[r,i]of n)e.set(r,i);for(let[r,i]of t)e.set(r,i);return e}function Ua(t,e,n){e.forEach((r,i)=>{const a=tP(i);n&&!n.has(i)&&n.set(i,t.style[a]),t.style[a]=r})}function pf(t,e){e.forEach((n,r)=>{const i=tP(r);t.style[i]=""})}function pE(t){return Array.isArray(t)?1==t.length?t[0]:ph(t):t}const eP=new RegExp("{{\\s*(.+?)\\s*}}","g");function QU(t){let e=[];if("string"==typeof t){let n;for(;n=eP.exec(t);)e.push(n[1]);eP.lastIndex=0}return e}function gE(t,e,n){const r=t.toString(),i=r.replace(eP,(a,c)=>{let f=e[c];return null==f&&(n.push(function tz(t){return new h.vHH(3003,!1)}()),f=""),f.toString()});return i==r?t:i}function DS(t){const e=[];let n=t.next();for(;!n.done;)e.push(n.value),n=t.next();return e}const jz=/-+([a-z0-9])/g;function tP(t){return t.replace(jz,(...e)=>e[1].toUpperCase())}function Bs(t,e,n){switch(e.type){case 7:return t.visitTrigger(e,n);case 0:return t.visitState(e,n);case 1:return t.visitTransition(e,n);case 2:return t.visitSequence(e,n);case 3:return t.visitGroup(e,n);case 4:return t.visitAnimate(e,n);case 5:return t.visitKeyframes(e,n);case 6:return t.visitStyle(e,n);case 8:return t.visitReference(e,n);case 9:return t.visitAnimateChild(e,n);case 10:return t.visitAnimateRef(e,n);case 11:return t.visitQuery(e,n);case 12:return t.visitStagger(e,n);default:throw function nz(t){return new h.vHH(3004,!1)}()}}function JU(t,e){return window.getComputedStyle(t)[e]}const bS="*";function zz(t,e){const n=[];return"string"==typeof t?t.split(/\s*,\s*/).forEach(r=>function Gz(t,e,n){if(":"==t[0]){const y=function qz(t,e){switch(t){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(n,r)=>parseFloat(r)>parseFloat(n);case":decrement":return(n,r)=>parseFloat(r)<parseFloat(n);default:return e.push(function mz(t){return new h.vHH(3016,!1)}()),"* => *"}}(t,n);if("function"==typeof y)return void e.push(y);t=y}const r=t.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==r||r.length<4)return n.push(function gz(t){return new h.vHH(3015,!1)}()),e;const i=r[1],a=r[2],c=r[3];e.push(XU(i,c));"<"==a[0]&&!(i==bS&&c==bS)&&e.push(XU(c,i))}(r,n,e)):n.push(t),n}const CS=new Set(["true","1"]),TS=new Set(["false","0"]);function XU(t,e){const n=CS.has(t)||TS.has(t),r=CS.has(e)||TS.has(e);return(i,a)=>{let c=t==bS||t==i,f=e==bS||e==a;return!c&&n&&"boolean"==typeof i&&(c=i?CS.has(t):TS.has(t)),!f&&r&&"boolean"==typeof a&&(f=a?CS.has(e):TS.has(e)),c&&f}}const Wz=new RegExp("s*:selfs*,?","g");function nP(t,e,n,r){return new Zz(t).build(e,n,r)}class Zz{constructor(e){this._driver=e}build(e,n,r){const i=new Qz(n);return this._resetContextStyleTimingState(i),Bs(this,pE(e),i)}_resetContextStyleTimingState(e){e.currentQuerySelector="",e.collectedStyles=new Map,e.collectedStyles.set("",new Map),e.currentTime=0}visitTrigger(e,n){let r=n.queryCount=0,i=n.depCount=0;const a=[],c=[];return"@"==e.name.charAt(0)&&n.errors.push(function iz(){return new h.vHH(3006,!1)}()),e.definitions.forEach(f=>{if(this._resetContextStyleTimingState(n),0==f.type){const y=f,v=y.name;v.toString().split(/\s*,\s*/).forEach(b=>{y.name=b,a.push(this.visitState(y,n))}),y.name=v}else if(1==f.type){const y=this.visitTransition(f,n);r+=y.queryCount,i+=y.depCount,c.push(y)}else n.errors.push(function sz(){return new h.vHH(3007,!1)}())}),{type:7,name:e.name,states:a,transitions:c,queryCount:r,depCount:i,options:null}}visitState(e,n){const r=this.visitStyle(e.styles,n),i=e.options&&e.options.params||null;if(r.containsDynamicStyles){const a=new Set,c=i||{};r.styles.forEach(f=>{f instanceof Map&&f.forEach(y=>{QU(y).forEach(v=>{c.hasOwnProperty(v)||a.add(v)})})}),a.size&&(DS(a.values()),n.errors.push(function oz(t,e){return new h.vHH(3008,!1)}()))}return{type:0,name:e.name,style:r,options:i?{params:i}:null}}visitTransition(e,n){n.queryCount=0,n.depCount=0;const r=Bs(this,pE(e.animation),n);return{type:1,matchers:zz(e.expr,n.errors),animation:r,queryCount:n.queryCount,depCount:n.depCount,options:gf(e.options)}}visitSequence(e,n){return{type:2,steps:e.steps.map(r=>Bs(this,r,n)),options:gf(e.options)}}visitGroup(e,n){const r=n.currentTime;let i=0;const a=e.steps.map(c=>{n.currentTime=r;const f=Bs(this,c,n);return i=Math.max(i,n.currentTime),f});return n.currentTime=i,{type:3,steps:a,options:gf(e.options)}}visitAnimate(e,n){const r=function Xz(t,e){if(t.hasOwnProperty("duration"))return t;if("number"==typeof t)return rP(IS(t,e).duration,0,"");const n=t;if(n.split(/\s+/).some(a=>"{"==a.charAt(0)&&"{"==a.charAt(1))){const a=rP(0,0,"");return a.dynamic=!0,a.strValue=n,a}const i=IS(n,e);return rP(i.duration,i.delay,i.easing)}(e.timings,n.errors);n.currentAnimateTimings=r;let i,a=e.styles?e.styles:dg({});if(5==a.type)i=this.visitKeyframes(a,n);else{let c=e.styles,f=!1;if(!c){f=!0;const v={};r.easing&&(v.easing=r.easing),c=dg(v)}n.currentTime+=r.duration+r.delay;const y=this.visitStyle(c,n);y.isEmptyStep=f,i=y}return n.currentAnimateTimings=null,{type:4,timings:r,style:i,options:null}}visitStyle(e,n){const r=this._makeStyleAst(e,n);return this._validateStyleAst(r,n),r}_makeStyleAst(e,n){const r=[],i=Array.isArray(e.styles)?e.styles:[e.styles];for(let f of i)"string"==typeof f?f===Mo?r.push(f):n.errors.push(new h.vHH(3002,!1)):r.push(KU(f));let a=!1,c=null;return r.forEach(f=>{if(f instanceof Map&&(f.has("easing")&&(c=f.get("easing"),f.delete("easing")),!a))for(let y of f.values())if(y.toString().indexOf("{{")>=0){a=!0;break}}),{type:6,styles:r,easing:c,offset:e.offset,containsDynamicStyles:a,options:null}}_validateStyleAst(e,n){const r=n.currentAnimateTimings;let i=n.currentTime,a=n.currentTime;r&&a>0&&(a-=r.duration+r.delay),e.styles.forEach(c=>{"string"!=typeof c&&c.forEach((f,y)=>{const v=n.collectedStyles.get(n.currentQuerySelector),b=v.get(y);let T=!0;b&&(a!=i&&a>=b.startTime&&i<=b.endTime&&(n.errors.push(function uz(t,e,n,r,i){return new h.vHH(3010,!1)}()),T=!1),a=b.startTime),T&&v.set(y,{startTime:a,endTime:i}),n.options&&function Bz(t,e,n){const r=e.params||{},i=QU(t);i.length&&i.forEach(a=>{r.hasOwnProperty(a)||n.push(function ez(t){return new h.vHH(3001,!1)}())})}(f,n.options,n.errors)})})}visitKeyframes(e,n){const r={type:5,styles:[],options:null};if(!n.currentAnimateTimings)return n.errors.push(function cz(){return new h.vHH(3011,!1)}()),r;let a=0;const c=[];let f=!1,y=!1,v=0;const b=e.steps.map(Ae=>{const je=this._makeStyleAst(Ae,n);let We=null!=je.offset?je.offset:function Jz(t){if("string"==typeof t)return null;let e=null;if(Array.isArray(t))t.forEach(n=>{if(n instanceof Map&&n.has("offset")){const r=n;e=parseFloat(r.get("offset")),r.delete("offset")}});else if(t instanceof Map&&t.has("offset")){const n=t;e=parseFloat(n.get("offset")),n.delete("offset")}return e}(je.styles),Je=0;return null!=We&&(a++,Je=je.offset=We),y=y||Je<0||Je>1,f=f||Je<v,v=Je,c.push(Je),je});y&&n.errors.push(function lz(){return new h.vHH(3012,!1)}()),f&&n.errors.push(function dz(){return new h.vHH(3200,!1)}());const T=e.steps.length;let N=0;a>0&&a<T?n.errors.push(function hz(){return new h.vHH(3202,!1)}()):0==a&&(N=1/(T-1));const O=T-1,$=n.currentTime,Q=n.currentAnimateTimings,ae=Q.duration;return b.forEach((Ae,je)=>{const We=N>0?je==O?1:N*je:c[je],Je=We*ae;n.currentTime=$+Q.delay+Je,Q.duration=Je,this._validateStyleAst(Ae,n),Ae.offset=We,r.styles.push(Ae)}),r}visitReference(e,n){return{type:8,animation:Bs(this,pE(e.animation),n),options:gf(e.options)}}visitAnimateChild(e,n){return n.depCount++,{type:9,options:gf(e.options)}}visitAnimateRef(e,n){return{type:10,animation:this.visitReference(e.animation,n),options:gf(e.options)}}visitQuery(e,n){const r=n.currentQuerySelector,i=e.options||{};n.queryCount++,n.currentQuery=e;const[a,c]=function Kz(t){const e=!!t.split(/\s*,\s*/).find(n=>":self"==n);return e&&(t=t.replace(Wz,"")),t=t.replace(/@\*/g,ES).replace(/@\w+/g,n=>ES+"-"+n.slice(1)).replace(/:animating/g,JO),[t,e]}(e.selector);n.currentQuerySelector=r.length?r+" "+a:a,Us(n.collectedStyles,n.currentQuerySelector,new Map);const f=Bs(this,pE(e.animation),n);return n.currentQuery=null,n.currentQuerySelector=r,{type:11,selector:a,limit:i.limit||0,optional:!!i.optional,includeSelf:c,animation:f,originalSelector:e.selector,options:gf(e.options)}}visitStagger(e,n){n.currentQuery||n.errors.push(function fz(){return new h.vHH(3013,!1)}());const r="full"===e.timings?{duration:0,delay:0,easing:"full"}:IS(e.timings,n.errors,!0);return{type:12,animation:Bs(this,pE(e.animation),n),timings:r,options:null}}}class Qz{constructor(e){this.errors=e,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function gf(t){return t?(t=fE(t)).params&&(t.params=function Yz(t){return t?fE(t):null}(t.params)):t={},t}function rP(t,e,n){return{duration:t,delay:e,easing:n}}function iP(t,e,n,r,i,a,c=null,f=!1){return{type:1,element:t,keyframes:e,preStyleProps:n,postStyleProps:r,duration:i,delay:a,totalTime:i+a,easing:c,subTimeline:f}}class SS{constructor(){this._map=new Map}get(e){return this._map.get(e)||[]}append(e,n){let r=this._map.get(e);r||this._map.set(e,r=[]),r.push(...n)}has(e){return this._map.has(e)}clear(){this._map.clear()}}const n6=new RegExp(":enter","g"),i6=new RegExp(":leave","g");function sP(t,e,n,r,i,a=new Map,c=new Map,f,y,v=[]){return(new s6).buildKeyframes(t,e,n,r,i,a,c,f,y,v)}class s6{buildKeyframes(e,n,r,i,a,c,f,y,v,b=[]){v=v||new SS;const T=new oP(e,n,v,i,a,b,[]);T.options=y;const N=y.delay?Qu(y.delay):0;T.currentTimeline.delayNextStep(N),T.currentTimeline.setStyles([c],null,T.errors,y),Bs(this,r,T);const O=T.timelines.filter($=>$.containsAnimation());if(O.length&&f.size){let $;for(let Q=O.length-1;Q>=0;Q--){const ae=O[Q];if(ae.element===n){$=ae;break}}$&&!$.allowOnlyTimelineStyles()&&$.setStyles([f],null,T.errors,y)}return O.length?O.map($=>$.buildKeyframes()):[iP(n,[],[],[],0,N,"",!1)]}visitTrigger(e,n){}visitState(e,n){}visitTransition(e,n){}visitAnimateChild(e,n){const r=n.subInstructions.get(n.element);if(r){const i=n.createSubContext(e.options),a=n.currentTimeline.currentTime,c=this._visitSubInstructions(r,i,i.options);a!=c&&n.transformIntoNewTimeline(c)}n.previousNode=e}visitAnimateRef(e,n){const r=n.createSubContext(e.options);r.transformIntoNewTimeline(),this._applyAnimationRefDelays([e.options,e.animation.options],n,r),this.visitReference(e.animation,r),n.transformIntoNewTimeline(r.currentTimeline.currentTime),n.previousNode=e}_applyAnimationRefDelays(e,n,r){for(const i of e){const a=i?.delay;if(a){const c="number"==typeof a?a:Qu(gE(a,i?.params??{},n.errors));r.delayNextStep(c)}}}_visitSubInstructions(e,n,r){let a=n.currentTimeline.currentTime;const c=null!=r.duration?Qu(r.duration):null,f=null!=r.delay?Qu(r.delay):null;return 0!==c&&e.forEach(y=>{const v=n.appendInstructionToTimeline(y,c,f);a=Math.max(a,v.duration+v.delay)}),a}visitReference(e,n){n.updateOptions(e.options,!0),Bs(this,e.animation,n),n.previousNode=e}visitSequence(e,n){const r=n.subContextCount;let i=n;const a=e.options;if(a&&(a.params||a.delay)&&(i=n.createSubContext(a),i.transformIntoNewTimeline(),null!=a.delay)){6==i.previousNode.type&&(i.currentTimeline.snapshotCurrentStyles(),i.previousNode=AS);const c=Qu(a.delay);i.delayNextStep(c)}e.steps.length&&(e.steps.forEach(c=>Bs(this,c,i)),i.currentTimeline.applyStylesToKeyframe(),i.subContextCount>r&&i.transformIntoNewTimeline()),n.previousNode=e}visitGroup(e,n){const r=[];let i=n.currentTimeline.currentTime;const a=e.options&&e.options.delay?Qu(e.options.delay):0;e.steps.forEach(c=>{const f=n.createSubContext(e.options);a&&f.delayNextStep(a),Bs(this,c,f),i=Math.max(i,f.currentTimeline.currentTime),r.push(f.currentTimeline)}),r.forEach(c=>n.currentTimeline.mergeTimelineCollectedStyles(c)),n.transformIntoNewTimeline(i),n.previousNode=e}_visitTiming(e,n){if(e.dynamic){const r=e.strValue;return IS(n.params?gE(r,n.params,n.errors):r,n.errors)}return{duration:e.duration,delay:e.delay,easing:e.easing}}visitAnimate(e,n){const r=n.currentAnimateTimings=this._visitTiming(e.timings,n),i=n.currentTimeline;r.delay&&(n.incrementTime(r.delay),i.snapshotCurrentStyles());const a=e.style;5==a.type?this.visitKeyframes(a,n):(n.incrementTime(r.duration),this.visitStyle(a,n),i.applyStylesToKeyframe()),n.currentAnimateTimings=null,n.previousNode=e}visitStyle(e,n){const r=n.currentTimeline,i=n.currentAnimateTimings;!i&&r.hasCurrentStyleProperties()&&r.forwardFrame();const a=i&&i.easing||e.easing;e.isEmptyStep?r.applyEmptyStep(a):r.setStyles(e.styles,a,n.errors,n.options),n.previousNode=e}visitKeyframes(e,n){const r=n.currentAnimateTimings,i=n.currentTimeline.duration,a=r.duration,f=n.createSubContext().currentTimeline;f.easing=r.easing,e.styles.forEach(y=>{f.forwardTime((y.offset||0)*a),f.setStyles(y.styles,y.easing,n.errors,n.options),f.applyStylesToKeyframe()}),n.currentTimeline.mergeTimelineCollectedStyles(f),n.transformIntoNewTimeline(i+a),n.previousNode=e}visitQuery(e,n){const r=n.currentTimeline.currentTime,i=e.options||{},a=i.delay?Qu(i.delay):0;a&&(6===n.previousNode.type||0==r&&n.currentTimeline.hasCurrentStyleProperties())&&(n.currentTimeline.snapshotCurrentStyles(),n.previousNode=AS);let c=r;const f=n.invokeQuery(e.selector,e.originalSelector,e.limit,e.includeSelf,!!i.optional,n.errors);n.currentQueryTotal=f.length;let y=null;f.forEach((v,b)=>{n.currentQueryIndex=b;const T=n.createSubContext(e.options,v);a&&T.delayNextStep(a),v===n.element&&(y=T.currentTimeline),Bs(this,e.animation,T),T.currentTimeline.applyStylesToKeyframe(),c=Math.max(c,T.currentTimeline.currentTime)}),n.currentQueryIndex=0,n.currentQueryTotal=0,n.transformIntoNewTimeline(c),y&&(n.currentTimeline.mergeTimelineCollectedStyles(y),n.currentTimeline.snapshotCurrentStyles()),n.previousNode=e}visitStagger(e,n){const r=n.parentContext,i=n.currentTimeline,a=e.timings,c=Math.abs(a.duration),f=c*(n.currentQueryTotal-1);let y=c*n.currentQueryIndex;switch(a.duration<0?"reverse":a.easing){case"reverse":y=f-y;break;case"full":y=r.currentStaggerTime}const b=n.currentTimeline;y&&b.delayNextStep(y);const T=b.currentTime;Bs(this,e.animation,n),n.previousNode=e,r.currentStaggerTime=i.currentTime-T+(i.startTime-r.currentTimeline.startTime)}}const AS={};class oP{constructor(e,n,r,i,a,c,f,y){this._driver=e,this.element=n,this.subInstructions=r,this._enterClassName=i,this._leaveClassName=a,this.errors=c,this.timelines=f,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=AS,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=y||new MS(this._driver,n,0),f.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(e,n){if(!e)return;const r=e;let i=this.options;null!=r.duration&&(i.duration=Qu(r.duration)),null!=r.delay&&(i.delay=Qu(r.delay));const a=r.params;if(a){let c=i.params;c||(c=this.options.params={}),Object.keys(a).forEach(f=>{(!n||!c.hasOwnProperty(f))&&(c[f]=gE(a[f],c,this.errors))})}}_copyOptions(){const e={};if(this.options){const n=this.options.params;if(n){const r=e.params={};Object.keys(n).forEach(i=>{r[i]=n[i]})}}return e}createSubContext(e=null,n,r){const i=n||this.element,a=new oP(this._driver,i,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(i,r||0));return a.previousNode=this.previousNode,a.currentAnimateTimings=this.currentAnimateTimings,a.options=this._copyOptions(),a.updateOptions(e),a.currentQueryIndex=this.currentQueryIndex,a.currentQueryTotal=this.currentQueryTotal,a.parentContext=this,this.subContextCount++,a}transformIntoNewTimeline(e){return this.previousNode=AS,this.currentTimeline=this.currentTimeline.fork(this.element,e),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(e,n,r){const i={duration:n??e.duration,delay:this.currentTimeline.currentTime+(r??0)+e.delay,easing:""},a=new o6(this._driver,e.element,e.keyframes,e.preStyleProps,e.postStyleProps,i,e.stretchStartingKeyframe);return this.timelines.push(a),i}incrementTime(e){this.currentTimeline.forwardTime(this.currentTimeline.duration+e)}delayNextStep(e){e>0&&this.currentTimeline.delayNextStep(e)}invokeQuery(e,n,r,i,a,c){let f=[];if(i&&f.push(this.element),e.length>0){e=(e=e.replace(n6,"."+this._enterClassName)).replace(i6,"."+this._leaveClassName);let v=this._driver.query(this.element,e,1!=r);0!==r&&(v=r<0?v.slice(v.length+r,v.length):v.slice(0,r)),f.push(...v)}return!a&&0==f.length&&c.push(function pz(t){return new h.vHH(3014,!1)}()),f}}class MS{constructor(e,n,r,i){this._driver=e,this.element=n,this.startTime=r,this._elementTimelineStylesLookup=i,this.duration=0,this.easing=null,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(n),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(n,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(e){const n=1===this._keyframes.size&&this._pendingStyles.size;this.duration||n?(this.forwardTime(this.currentTime+e),n&&this.snapshotCurrentStyles()):this.startTime+=e}fork(e,n){return this.applyStylesToKeyframe(),new MS(this._driver,e,n||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(e){this.applyStylesToKeyframe(),this.duration=e,this._loadKeyframe()}_updateStyle(e,n){this._localTimelineStyles.set(e,n),this._globalTimelineStyles.set(e,n),this._styleSummary.set(e,{time:this.currentTime,value:n})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(e){e&&this._previousKeyframe.set("easing",e);for(let[n,r]of this._globalTimelineStyles)this._backFill.set(n,r||Mo),this._currentKeyframe.set(n,Mo);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(e,n,r,i){n&&this._previousKeyframe.set("easing",n);const a=i&&i.params||{},c=function a6(t,e){const n=new Map;let r;return t.forEach(i=>{if("*"===i){r=r||e.keys();for(let a of r)n.set(a,Mo)}else Ll(i,n)}),n}(e,this._globalTimelineStyles);for(let[f,y]of c){const v=gE(y,a,r);this._pendingStyles.set(f,v),this._localTimelineStyles.has(f)||this._backFill.set(f,this._globalTimelineStyles.get(f)??Mo),this._updateStyle(f,v)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((e,n)=>{this._currentKeyframe.set(n,e)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((e,n)=>{this._currentKeyframe.has(n)||this._currentKeyframe.set(n,e)}))}snapshotCurrentStyles(){for(let[e,n]of this._localTimelineStyles)this._pendingStyles.set(e,n),this._updateStyle(e,n)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const e=[];for(let n in this._currentKeyframe)e.push(n);return e}mergeTimelineCollectedStyles(e){e._styleSummary.forEach((n,r)=>{const i=this._styleSummary.get(r);(!i||n.time>i.time)&&this._updateStyle(r,n.value)})}buildKeyframes(){this.applyStylesToKeyframe();const e=new Set,n=new Set,r=1===this._keyframes.size&&0===this.duration;let i=[];this._keyframes.forEach((f,y)=>{const v=Ll(f,new Map,this._backFill);v.forEach((b,T)=>{"!"===b?e.add(T):b===Mo&&n.add(T)}),r||v.set("offset",y/this.duration),i.push(v)});const a=e.size?DS(e.values()):[],c=n.size?DS(n.values()):[];if(r){const f=i[0],y=new Map(f);f.set("offset",0),y.set("offset",1),i=[f,y]}return iP(this.element,i,a,c,this.duration,this.startTime,this.easing,!1)}}class o6 extends MS{constructor(e,n,r,i,a,c,f=!1){super(e,n,c.delay),this.keyframes=r,this.preStyleProps=i,this.postStyleProps=a,this._stretchStartingKeyframe=f,this.timings={duration:c.duration,delay:c.delay,easing:c.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let e=this.keyframes,{delay:n,duration:r,easing:i}=this.timings;if(this._stretchStartingKeyframe&&n){const a=[],c=r+n,f=n/c,y=Ll(e[0]);y.set("offset",0),a.push(y);const v=Ll(e[0]);v.set("offset",nB(f)),a.push(v);const b=e.length-1;for(let T=1;T<=b;T++){let N=Ll(e[T]);const O=N.get("offset");N.set("offset",nB((n+O*r)/c)),a.push(N)}r=c,n=0,i="",e=a}return iP(this.element,e,this.preStyleProps,this.postStyleProps,r,n,i,!0)}}function nB(t,e=3){const n=Math.pow(10,e-1);return Math.round(t*n)/n}class aP{}const u6=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class c6 extends aP{normalizePropertyName(e,n){return tP(e)}normalizeStyleValue(e,n,r,i){let a="";const c=r.toString().trim();if(u6.has(n)&&0!==r&&"0"!==r)if("number"==typeof r)a="px";else{const f=r.match(/^[+-]?[\d\.]+([a-z]*)$/);f&&0==f[1].length&&i.push(function rz(t,e){return new h.vHH(3005,!1)}())}return c+a}}function rB(t,e,n,r,i,a,c,f,y,v,b,T,N){return{type:0,element:t,triggerName:e,isRemovalTransition:i,fromState:n,fromStyles:a,toState:r,toStyles:c,timelines:f,queriedElements:y,preStyleProps:v,postStyleProps:b,totalTime:T,errors:N}}const uP={};class iB{constructor(e,n,r){this._triggerName=e,this.ast=n,this._stateStyles=r}match(e,n,r,i){return function l6(t,e,n,r,i){return t.some(a=>a(e,n,r,i))}(this.ast.matchers,e,n,r,i)}buildStyles(e,n,r){let i=this._stateStyles.get("*");return void 0!==e&&(i=this._stateStyles.get(e?.toString())||i),i?i.buildStyles(n,r):new Map}build(e,n,r,i,a,c,f,y,v,b){const T=[],N=this.ast.options&&this.ast.options.params||uP,$=this.buildStyles(r,f&&f.params||uP,T),Q=y&&y.params||uP,ae=this.buildStyles(i,Q,T),Ae=new Set,je=new Map,We=new Map,Je="void"===i,Ot={params:d6(Q,N),delay:this.ast.options?.delay},Pt=b?[]:sP(e,n,this.ast.animation,a,c,$,ae,Ot,v,T);let an=0;if(Pt.forEach(uo=>{an=Math.max(uo.duration+uo.delay,an)}),T.length)return rB(n,this._triggerName,r,i,Je,$,ae,[],[],je,We,an,T);Pt.forEach(uo=>{const Ju=uo.element,wB=Us(je,Ju,new Set);uo.preStyleProps.forEach(mf=>wB.add(mf));const yE=Us(We,Ju,new Set);uo.postStyleProps.forEach(mf=>yE.add(mf)),Ju!==n&&Ae.add(Ju)});const oi=DS(Ae.values());return rB(n,this._triggerName,r,i,Je,$,ae,Pt,oi,je,We,an)}}function d6(t,e){const n=fE(e);for(const r in t)t.hasOwnProperty(r)&&null!=t[r]&&(n[r]=t[r]);return n}class h6{constructor(e,n,r){this.styles=e,this.defaultParams=n,this.normalizer=r}buildStyles(e,n){const r=new Map,i=fE(this.defaultParams);return Object.keys(e).forEach(a=>{const c=e[a];null!==c&&(i[a]=c)}),this.styles.styles.forEach(a=>{"string"!=typeof a&&a.forEach((c,f)=>{c&&(c=gE(c,i,n));const y=this.normalizer.normalizePropertyName(f,n);c=this.normalizer.normalizeStyleValue(f,y,c,n),r.set(f,c)})}),r}}class p6{constructor(e,n,r){this.name=e,this.ast=n,this._normalizer=r,this.transitionFactories=[],this.states=new Map,n.states.forEach(i=>{this.states.set(i.name,new h6(i.style,i.options&&i.options.params||{},r))}),sB(this.states,"true","1"),sB(this.states,"false","0"),n.transitions.forEach(i=>{this.transitionFactories.push(new iB(e,i,this.states))}),this.fallbackTransition=function g6(t,e,n){return new iB(t,{type:1,animation:{type:2,steps:[],options:null},matchers:[(c,f)=>!0],options:null,queryCount:0,depCount:0},e)}(e,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(e,n,r,i){return this.transitionFactories.find(c=>c.match(e,n,r,i))||null}matchStyles(e,n,r){return this.fallbackTransition.buildStyles(e,n,r)}}function sB(t,e,n){t.has(e)?t.has(n)||t.set(n,t.get(e)):t.has(n)&&t.set(e,t.get(n))}const m6=new SS;class y6{constructor(e,n,r){this.bodyNode=e,this._driver=n,this._normalizer=r,this._animations=new Map,this._playersById=new Map,this.players=[]}register(e,n){const r=[],a=nP(this._driver,n,r,[]);if(r.length)throw function Ez(t){return new h.vHH(3503,!1)}();this._animations.set(e,a)}_buildPlayer(e,n,r){const i=e.element,a=jU(this._normalizer,e.keyframes,n,r);return this._driver.animate(i,a,e.duration,e.delay,e.easing,[],!0)}create(e,n,r={}){const i=[],a=this._animations.get(e);let c;const f=new Map;if(a?(c=sP(this._driver,n,a,QO,vS,new Map,new Map,r,m6,i),c.forEach(b=>{const T=Us(f,b.element,new Map);b.postStyleProps.forEach(N=>T.set(N,null))})):(i.push(function Iz(){return new h.vHH(3300,!1)}()),c=[]),i.length)throw function Dz(t){return new h.vHH(3504,!1)}();f.forEach((b,T)=>{b.forEach((N,O)=>{b.set(O,this._driver.computeStyle(T,O,Mo))})});const v=Fl(c.map(b=>{const T=f.get(b.element);return this._buildPlayer(b,new Map,T)}));return this._playersById.set(e,v),v.onDestroy(()=>this.destroy(e)),this.players.push(v),v}destroy(e){const n=this._getPlayer(e);n.destroy(),this._playersById.delete(e);const r=this.players.indexOf(n);r>=0&&this.players.splice(r,1)}_getPlayer(e){const n=this._playersById.get(e);if(!n)throw function bz(t){return new h.vHH(3301,!1)}();return n}listen(e,n,r,i){const a=ZO(n,"","","");return qO(this._getPlayer(e),r,a,i),()=>{}}command(e,n,r,i){if("register"==r)return void this.register(e,i[0]);if("create"==r)return void this.create(e,n,i[0]||{});const a=this._getPlayer(e);switch(r){case"play":a.play();break;case"pause":a.pause();break;case"reset":a.reset();break;case"restart":a.restart();break;case"finish":a.finish();break;case"init":a.init();break;case"setPosition":a.setPosition(parseFloat(i[0]));break;case"destroy":this.destroy(e)}}}const oB="ng-animate-queued",cP="ng-animate-disabled",I6=[],aB={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},D6={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},Bo="__ng_removed";class lP{get params(){return this.options.params}constructor(e,n=""){this.namespaceId=n;const r=e&&e.hasOwnProperty("value");if(this.value=function S6(t){return t??null}(r?e.value:e),r){const a=fE(e);delete a.value,this.options=a}else this.options={};this.options.params||(this.options.params={})}absorbOptions(e){const n=e.params;if(n){const r=this.options.params;Object.keys(n).forEach(i=>{null==r[i]&&(r[i]=n[i])})}}}const mE="void",dP=new lP(mE);class b6{constructor(e,n,r){this.id=e,this.hostElement=n,this._engine=r,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+e,ao(n,this._hostClassName)}listen(e,n,r,i){if(!this._triggers.has(n))throw function Cz(t,e){return new h.vHH(3302,!1)}();if(null==r||0==r.length)throw function Tz(t){return new h.vHH(3303,!1)}();if(!function A6(t){return"start"==t||"done"==t}(r))throw function Sz(t,e){return new h.vHH(3400,!1)}();const a=Us(this._elementListeners,e,[]),c={name:n,phase:r,callback:i};a.push(c);const f=Us(this._engine.statesByElement,e,new Map);return f.has(n)||(ao(e,wS),ao(e,wS+"-"+n),f.set(n,dP)),()=>{this._engine.afterFlush(()=>{const y=a.indexOf(c);y>=0&&a.splice(y,1),this._triggers.has(n)||f.delete(n)})}}register(e,n){return!this._triggers.has(e)&&(this._triggers.set(e,n),!0)}_getTrigger(e){const n=this._triggers.get(e);if(!n)throw function Az(t){return new h.vHH(3401,!1)}();return n}trigger(e,n,r,i=!0){const a=this._getTrigger(n),c=new hP(this.id,n,e);let f=this._engine.statesByElement.get(e);f||(ao(e,wS),ao(e,wS+"-"+n),this._engine.statesByElement.set(e,f=new Map));let y=f.get(n);const v=new lP(r,this.id);if(!(r&&r.hasOwnProperty("value"))&&y&&v.absorbOptions(y.options),f.set(n,v),y||(y=dP),v.value!==mE&&y.value===v.value){if(!function N6(t,e){const n=Object.keys(t),r=Object.keys(e);if(n.length!=r.length)return!1;for(let i=0;i<n.length;i++){const a=n[i];if(!e.hasOwnProperty(a)||t[a]!==e[a])return!1}return!0}(y.params,v.params)){const Q=[],ae=a.matchStyles(y.value,y.params,Q),Ae=a.matchStyles(v.value,v.params,Q);Q.length?this._engine.reportError(Q):this._engine.afterFlush(()=>{pf(e,ae),Ua(e,Ae)})}return}const N=Us(this._engine.playersByElement,e,[]);N.forEach(Q=>{Q.namespaceId==this.id&&Q.triggerName==n&&Q.queued&&Q.destroy()});let O=a.matchTransition(y.value,v.value,e,v.params),$=!1;if(!O){if(!i)return;O=a.fallbackTransition,$=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:n,transition:O,fromState:y,toState:v,player:c,isFallbackTransition:$}),$||(ao(e,oB),c.onStart(()=>{Ty(e,oB)})),c.onDone(()=>{let Q=this.players.indexOf(c);Q>=0&&this.players.splice(Q,1);const ae=this._engine.playersByElement.get(e);if(ae){let Ae=ae.indexOf(c);Ae>=0&&ae.splice(Ae,1)}}),this.players.push(c),N.push(c),c}deregister(e){this._triggers.delete(e),this._engine.statesByElement.forEach(n=>n.delete(e)),this._elementListeners.forEach((n,r)=>{this._elementListeners.set(r,n.filter(i=>i.name!=e))})}clearElementCache(e){this._engine.statesByElement.delete(e),this._elementListeners.delete(e);const n=this._engine.playersByElement.get(e);n&&(n.forEach(r=>r.destroy()),this._engine.playersByElement.delete(e))}_signalRemovalForInnerTriggers(e,n){const r=this._engine.driver.query(e,ES,!0);r.forEach(i=>{if(i[Bo])return;const a=this._engine.fetchNamespacesByElement(i);a.size?a.forEach(c=>c.triggerLeaveAnimation(i,n,!1,!0)):this.clearElementCache(i)}),this._engine.afterFlushAnimationsDone(()=>r.forEach(i=>this.clearElementCache(i)))}triggerLeaveAnimation(e,n,r,i){const a=this._engine.statesByElement.get(e),c=new Map;if(a){const f=[];if(a.forEach((y,v)=>{if(c.set(v,y.value),this._triggers.has(v)){const b=this.trigger(e,v,mE,i);b&&f.push(b)}}),f.length)return this._engine.markElementAsRemoved(this.id,e,!0,n,c),r&&Fl(f).onDone(()=>this._engine.processLeaveNode(e)),!0}return!1}prepareLeaveAnimationListeners(e){const n=this._elementListeners.get(e),r=this._engine.statesByElement.get(e);if(n&&r){const i=new Set;n.forEach(a=>{const c=a.name;if(i.has(c))return;i.add(c);const y=this._triggers.get(c).fallbackTransition,v=r.get(c)||dP,b=new lP(mE),T=new hP(this.id,c,e);this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:c,transition:y,fromState:v,toState:b,player:T,isFallbackTransition:!0})})}}removeNode(e,n){const r=this._engine;if(e.childElementCount&&this._signalRemovalForInnerTriggers(e,n),this.triggerLeaveAnimation(e,n,!0))return;let i=!1;if(r.totalAnimations){const a=r.players.length?r.playersByQueriedElement.get(e):[];if(a&&a.length)i=!0;else{let c=e;for(;c=c.parentNode;)if(r.statesByElement.get(c)){i=!0;break}}}if(this.prepareLeaveAnimationListeners(e),i)r.markElementAsRemoved(this.id,e,!1,n);else{const a=e[Bo];(!a||a===aB)&&(r.afterFlush(()=>this.clearElementCache(e)),r.destroyInnerAnimations(e),r._onRemovalComplete(e,n))}}insertNode(e,n){ao(e,this._hostClassName)}drainQueuedTransitions(e){const n=[];return this._queue.forEach(r=>{const i=r.player;if(i.destroyed)return;const a=r.element,c=this._elementListeners.get(a);c&&c.forEach(f=>{if(f.name==r.triggerName){const y=ZO(a,r.triggerName,r.fromState.value,r.toState.value);y._data=e,qO(r.player,f.phase,y,f.callback)}}),i.markedForDestroy?this._engine.afterFlush(()=>{i.destroy()}):n.push(r)}),this._queue=[],n.sort((r,i)=>{const a=r.transition.ast.depCount,c=i.transition.ast.depCount;return 0==a||0==c?a-c:this._engine.driver.containsElement(r.element,i.element)?1:-1})}destroy(e){this.players.forEach(n=>n.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,e)}}class C6{_onRemovalComplete(e,n){this.onRemovalComplete(e,n)}constructor(e,n,r){this.bodyNode=e,this.driver=n,this._normalizer=r,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(i,a)=>{}}get queuedPlayers(){const e=[];return this._namespaceList.forEach(n=>{n.players.forEach(r=>{r.queued&&e.push(r)})}),e}createNamespace(e,n){const r=new b6(e,n,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,n)?this._balanceNamespaceList(r,n):(this.newHostElements.set(n,r),this.collectEnterElement(n)),this._namespaceLookup[e]=r}_balanceNamespaceList(e,n){const r=this._namespaceList,i=this.namespacesByHostElement;if(r.length-1>=0){let c=!1,f=this.driver.getParentElement(n);for(;f;){const y=i.get(f);if(y){const v=r.indexOf(y);r.splice(v+1,0,e),c=!0;break}f=this.driver.getParentElement(f)}c||r.unshift(e)}else r.push(e);return i.set(n,e),e}register(e,n){let r=this._namespaceLookup[e];return r||(r=this.createNamespace(e,n)),r}registerTrigger(e,n,r){let i=this._namespaceLookup[e];i&&i.register(n,r)&&this.totalAnimations++}destroy(e,n){e&&(this.afterFlush(()=>{}),this.afterFlushAnimationsDone(()=>{const r=this._fetchNamespace(e);this.namespacesByHostElement.delete(r.hostElement);const i=this._namespaceList.indexOf(r);i>=0&&this._namespaceList.splice(i,1),r.destroy(n),delete this._namespaceLookup[e]}))}_fetchNamespace(e){return this._namespaceLookup[e]}fetchNamespacesByElement(e){const n=new Set,r=this.statesByElement.get(e);if(r)for(let i of r.values())if(i.namespaceId){const a=this._fetchNamespace(i.namespaceId);a&&n.add(a)}return n}trigger(e,n,r,i){if(xS(n)){const a=this._fetchNamespace(e);if(a)return a.trigger(n,r,i),!0}return!1}insertNode(e,n,r,i){if(!xS(n))return;const a=n[Bo];if(a&&a.setForRemoval){a.setForRemoval=!1,a.setForMove=!0;const c=this.collectedLeaveElements.indexOf(n);c>=0&&this.collectedLeaveElements.splice(c,1)}if(e){const c=this._fetchNamespace(e);c&&c.insertNode(n,r)}i&&this.collectEnterElement(n)}collectEnterElement(e){this.collectedEnterElements.push(e)}markElementAsDisabled(e,n){n?this.disabledNodes.has(e)||(this.disabledNodes.add(e),ao(e,cP)):this.disabledNodes.has(e)&&(this.disabledNodes.delete(e),Ty(e,cP))}removeNode(e,n,r){if(xS(n)){const i=e?this._fetchNamespace(e):null;i?i.removeNode(n,r):this.markElementAsRemoved(e,n,!1,r);const a=this.namespacesByHostElement.get(n);a&&a.id!==e&&a.removeNode(n,r)}else this._onRemovalComplete(n,r)}markElementAsRemoved(e,n,r,i,a){this.collectedLeaveElements.push(n),n[Bo]={namespaceId:e,setForRemoval:i,hasAnimation:r,removedBeforeQueried:!1,previousTriggersValues:a}}listen(e,n,r,i,a){return xS(n)?this._fetchNamespace(e).listen(n,r,i,a):()=>{}}_buildInstruction(e,n,r,i,a){return e.transition.build(this.driver,e.element,e.fromState.value,e.toState.value,r,i,e.fromState.options,e.toState.options,n,a)}destroyInnerAnimations(e){let n=this.driver.query(e,ES,!0);n.forEach(r=>this.destroyActiveAnimationsForElement(r)),0!=this.playersByQueriedElement.size&&(n=this.driver.query(e,JO,!0),n.forEach(r=>this.finishActiveQueriedAnimationOnElement(r)))}destroyActiveAnimationsForElement(e){const n=this.playersByElement.get(e);n&&n.forEach(r=>{r.queued?r.markedForDestroy=!0:r.destroy()})}finishActiveQueriedAnimationOnElement(e){const n=this.playersByQueriedElement.get(e);n&&n.forEach(r=>r.finish())}whenRenderingDone(){return new Promise(e=>{if(this.players.length)return Fl(this.players).onDone(()=>e());e()})}processLeaveNode(e){const n=e[Bo];if(n&&n.setForRemoval){if(e[Bo]=aB,n.namespaceId){this.destroyInnerAnimations(e);const r=this._fetchNamespace(n.namespaceId);r&&r.clearElementCache(e)}this._onRemovalComplete(e,n.setForRemoval)}e.classList?.contains(cP)&&this.markElementAsDisabled(e,!1),this.driver.query(e,".ng-animate-disabled",!0).forEach(r=>{this.markElementAsDisabled(r,!1)})}flush(e=-1){let n=[];if(this.newHostElements.size&&(this.newHostElements.forEach((r,i)=>this._balanceNamespaceList(r,i)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let r=0;r<this.collectedEnterElements.length;r++)ao(this.collectedEnterElements[r],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const r=[];try{n=this._flushAnimations(r,e)}finally{for(let i=0;i<r.length;i++)r[i]()}}else for(let r=0;r<this.collectedLeaveElements.length;r++)this.processLeaveNode(this.collectedLeaveElements[r]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(r=>r()),this._flushFns=[],this._whenQuietFns.length){const r=this._whenQuietFns;this._whenQuietFns=[],n.length?Fl(n).onDone(()=>{r.forEach(i=>i())}):r.forEach(i=>i())}}reportError(e){throw function Mz(t){return new h.vHH(3402,!1)}()}_flushAnimations(e,n){const r=new SS,i=[],a=new Map,c=[],f=new Map,y=new Map,v=new Map,b=new Set;this.disabledNodes.forEach(nt=>{b.add(nt);const ft=this.driver.query(nt,".ng-animate-queued",!0);for(let yt=0;yt<ft.length;yt++)b.add(ft[yt])});const T=this.bodyNode,N=Array.from(this.statesByElement.keys()),O=lB(N,this.collectedEnterElements),$=new Map;let Q=0;O.forEach((nt,ft)=>{const yt=QO+Q++;$.set(ft,yt),nt.forEach(Jt=>ao(Jt,yt))});const ae=[],Ae=new Set,je=new Set;for(let nt=0;nt<this.collectedLeaveElements.length;nt++){const ft=this.collectedLeaveElements[nt],yt=ft[Bo];yt&&yt.setForRemoval&&(ae.push(ft),Ae.add(ft),yt.hasAnimation?this.driver.query(ft,".ng-star-inserted",!0).forEach(Jt=>Ae.add(Jt)):je.add(ft))}const We=new Map,Je=lB(N,Array.from(Ae));Je.forEach((nt,ft)=>{const yt=vS+Q++;We.set(ft,yt),nt.forEach(Jt=>ao(Jt,yt))}),e.push(()=>{O.forEach((nt,ft)=>{const yt=$.get(ft);nt.forEach(Jt=>Ty(Jt,yt))}),Je.forEach((nt,ft)=>{const yt=We.get(ft);nt.forEach(Jt=>Ty(Jt,yt))}),ae.forEach(nt=>{this.processLeaveNode(nt)})});const Ot=[],Pt=[];for(let nt=this._namespaceList.length-1;nt>=0;nt--)this._namespaceList[nt].drainQueuedTransitions(n).forEach(yt=>{const Jt=yt.player,Ur=yt.element;if(Ot.push(Jt),this.collectedEnterElements.length){const Ni=Ur[Bo];if(Ni&&Ni.setForMove){if(Ni.previousTriggersValues&&Ni.previousTriggersValues.has(yt.triggerName)){const yf=Ni.previousTriggersValues.get(yt.triggerName),co=this.statesByElement.get(yt.element);if(co&&co.has(yt.triggerName)){const OS=co.get(yt.triggerName);OS.value=yf,co.set(yt.triggerName,OS)}}return void Jt.destroy()}}const Ba=!T||!this.driver.containsElement(T,Ur),js=We.get(Ur),Vl=$.get(Ur),$n=this._buildInstruction(yt,r,Vl,js,Ba);if($n.errors&&$n.errors.length)return void Pt.push($n);if(Ba)return Jt.onStart(()=>pf(Ur,$n.fromStyles)),Jt.onDestroy(()=>Ua(Ur,$n.toStyles)),void i.push(Jt);if(yt.isFallbackTransition)return Jt.onStart(()=>pf(Ur,$n.fromStyles)),Jt.onDestroy(()=>Ua(Ur,$n.toStyles)),void i.push(Jt);const DB=[];$n.timelines.forEach(Ni=>{Ni.stretchStartingKeyframe=!0,this.disabledNodes.has(Ni.element)||DB.push(Ni)}),$n.timelines=DB,r.append(Ur,$n.timelines),c.push({instruction:$n,player:Jt,element:Ur}),$n.queriedElements.forEach(Ni=>Us(f,Ni,[]).push(Jt)),$n.preStyleProps.forEach((Ni,yf)=>{if(Ni.size){let co=y.get(yf);co||y.set(yf,co=new Set),Ni.forEach((OS,gP)=>co.add(gP))}}),$n.postStyleProps.forEach((Ni,yf)=>{let co=v.get(yf);co||v.set(yf,co=new Set),Ni.forEach((OS,gP)=>co.add(gP))})});if(Pt.length){const nt=[];Pt.forEach(ft=>{nt.push(function xz(t,e){return new h.vHH(3505,!1)}())}),Ot.forEach(ft=>ft.destroy()),this.reportError(nt)}const an=new Map,oi=new Map;c.forEach(nt=>{const ft=nt.element;r.has(ft)&&(oi.set(ft,ft),this._beforeAnimationBuild(nt.player.namespaceId,nt.instruction,an))}),i.forEach(nt=>{const ft=nt.element;this._getPreviousPlayers(ft,!1,nt.namespaceId,nt.triggerName,null).forEach(Jt=>{Us(an,ft,[]).push(Jt),Jt.destroy()})});const uo=ae.filter(nt=>hB(nt,y,v)),Ju=new Map;cB(Ju,this.driver,je,v,Mo).forEach(nt=>{hB(nt,y,v)&&uo.push(nt)});const yE=new Map;O.forEach((nt,ft)=>{cB(yE,this.driver,new Set(nt),y,"!")}),uo.forEach(nt=>{const ft=Ju.get(nt),yt=yE.get(nt);Ju.set(nt,new Map([...ft?.entries()??[],...yt?.entries()??[]]))});const mf=[],EB=[],IB={};c.forEach(nt=>{const{element:ft,player:yt,instruction:Jt}=nt;if(r.has(ft)){if(b.has(ft))return yt.onDestroy(()=>Ua(ft,Jt.toStyles)),yt.disabled=!0,yt.overrideTotalTime(Jt.totalTime),void i.push(yt);let Ur=IB;if(oi.size>1){let js=ft;const Vl=[];for(;js=js.parentNode;){const $n=oi.get(js);if($n){Ur=$n;break}Vl.push(js)}Vl.forEach($n=>oi.set($n,Ur))}const Ba=this._buildAnimation(yt.namespaceId,Jt,an,a,yE,Ju);if(yt.setRealPlayer(Ba),Ur===IB)mf.push(yt);else{const js=this.playersByElement.get(Ur);js&&js.length&&(yt.parentPlayer=Fl(js)),i.push(yt)}}else pf(ft,Jt.fromStyles),yt.onDestroy(()=>Ua(ft,Jt.toStyles)),EB.push(yt),b.has(ft)&&i.push(yt)}),EB.forEach(nt=>{const ft=a.get(nt.element);if(ft&&ft.length){const yt=Fl(ft);nt.setRealPlayer(yt)}}),i.forEach(nt=>{nt.parentPlayer?nt.syncPlayerEvents(nt.parentPlayer):nt.destroy()});for(let nt=0;nt<ae.length;nt++){const ft=ae[nt],yt=ft[Bo];if(Ty(ft,vS),yt&&yt.hasAnimation)continue;let Jt=[];if(f.size){let Ba=f.get(ft);Ba&&Ba.length&&Jt.push(...Ba);let js=this.driver.query(ft,JO,!0);for(let Vl=0;Vl<js.length;Vl++){let $n=f.get(js[Vl]);$n&&$n.length&&Jt.push(...$n)}}const Ur=Jt.filter(Ba=>!Ba.destroyed);Ur.length?M6(this,ft,Ur):this.processLeaveNode(ft)}return ae.length=0,mf.forEach(nt=>{this.players.push(nt),nt.onDone(()=>{nt.destroy();const ft=this.players.indexOf(nt);this.players.splice(ft,1)}),nt.play()}),mf}afterFlush(e){this._flushFns.push(e)}afterFlushAnimationsDone(e){this._whenQuietFns.push(e)}_getPreviousPlayers(e,n,r,i,a){let c=[];if(n){const f=this.playersByQueriedElement.get(e);f&&(c=f)}else{const f=this.playersByElement.get(e);if(f){const y=!a||a==mE;f.forEach(v=>{v.queued||!y&&v.triggerName!=i||c.push(v)})}}return(r||i)&&(c=c.filter(f=>!(r&&r!=f.namespaceId||i&&i!=f.triggerName))),c}_beforeAnimationBuild(e,n,r){const a=n.element,c=n.isRemovalTransition?void 0:e,f=n.isRemovalTransition?void 0:n.triggerName;for(const y of n.timelines){const v=y.element,b=v!==a,T=Us(r,v,[]);this._getPreviousPlayers(v,b,c,f,n.toState).forEach(O=>{const $=O.getRealPlayer();$.beforeDestroy&&$.beforeDestroy(),O.destroy(),T.push(O)})}pf(a,n.fromStyles)}_buildAnimation(e,n,r,i,a,c){const f=n.triggerName,y=n.element,v=[],b=new Set,T=new Set,N=n.timelines.map($=>{const Q=$.element;b.add(Q);const ae=Q[Bo];if(ae&&ae.removedBeforeQueried)return new gh($.duration,$.delay);const Ae=Q!==y,je=function x6(t){const e=[];return dB(t,e),e}((r.get(Q)||I6).map(an=>an.getRealPlayer())).filter(an=>!!an.element&&an.element===Q),We=a.get(Q),Je=c.get(Q),Ot=jU(this._normalizer,$.keyframes,We,Je),Pt=this._buildPlayer($,Ot,je);if($.subTimeline&&i&&T.add(Q),Ae){const an=new hP(e,f,Q);an.setRealPlayer(Pt),v.push(an)}return Pt});v.forEach($=>{Us(this.playersByQueriedElement,$.element,[]).push($),$.onDone(()=>function T6(t,e,n){let r=t.get(e);if(r){if(r.length){const i=r.indexOf(n);r.splice(i,1)}0==r.length&&t.delete(e)}return r}(this.playersByQueriedElement,$.element,$))}),b.forEach($=>ao($,ZU));const O=Fl(N);return O.onDestroy(()=>{b.forEach($=>Ty($,ZU)),Ua(y,n.toStyles)}),T.forEach($=>{Us(i,$,[]).push(O)}),O}_buildPlayer(e,n,r){return n.length>0?this.driver.animate(e.element,n,e.duration,e.delay,e.easing,r):new gh(e.duration,e.delay)}}class hP{constructor(e,n,r){this.namespaceId=e,this.triggerName=n,this.element=r,this._player=new gh,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.parentPlayer=null,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(e){this._containsRealPlayer||(this._player=e,this._queuedCallbacks.forEach((n,r)=>{n.forEach(i=>qO(e,r,void 0,i))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(e.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(e){this.totalTime=e}syncPlayerEvents(e){const n=this._player;n.triggerCallback&&e.onStart(()=>n.triggerCallback("start")),e.onDone(()=>this.finish()),e.onDestroy(()=>this.destroy())}_queueEvent(e,n){Us(this._queuedCallbacks,e,[]).push(n)}onDone(e){this.queued&&this._queueEvent("done",e),this._player.onDone(e)}onStart(e){this.queued&&this._queueEvent("start",e),this._player.onStart(e)}onDestroy(e){this.queued&&this._queueEvent("destroy",e),this._player.onDestroy(e)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(e){this.queued||this._player.setPosition(e)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(e){const n=this._player;n.triggerCallback&&n.triggerCallback(e)}}function xS(t){return t&&1===t.nodeType}function uB(t,e){const n=t.style.display;return t.style.display=e??"none",n}function cB(t,e,n,r,i){const a=[];n.forEach(y=>a.push(uB(y)));const c=[];r.forEach((y,v)=>{const b=new Map;y.forEach(T=>{const N=e.computeStyle(v,T,i);b.set(T,N),(!N||0==N.length)&&(v[Bo]=D6,c.push(v))}),t.set(v,b)});let f=0;return n.forEach(y=>uB(y,a[f++])),c}function lB(t,e){const n=new Map;if(t.forEach(f=>n.set(f,[])),0==e.length)return n;const i=new Set(e),a=new Map;function c(f){if(!f)return 1;let y=a.get(f);if(y)return y;const v=f.parentNode;return y=n.has(v)?v:i.has(v)?1:c(v),a.set(f,y),y}return e.forEach(f=>{const y=c(f);1!==y&&n.get(y).push(f)}),n}function ao(t,e){t.classList?.add(e)}function Ty(t,e){t.classList?.remove(e)}function M6(t,e,n){Fl(n).onDone(()=>t.processLeaveNode(e))}function dB(t,e){for(let n=0;n<t.length;n++){const r=t[n];r instanceof mv?dB(r.players,e):e.push(r)}}function hB(t,e,n){const r=n.get(t);if(!r)return!1;let i=e.get(t);return i?r.forEach(a=>i.add(a)):e.set(t,r),n.delete(t),!0}class NS{constructor(e,n,r){this.bodyNode=e,this._driver=n,this._normalizer=r,this._triggerCache={},this.onRemovalComplete=(i,a)=>{},this._transitionEngine=new C6(e,n,r),this._timelineEngine=new y6(e,n,r),this._transitionEngine.onRemovalComplete=(i,a)=>this.onRemovalComplete(i,a)}registerTrigger(e,n,r,i,a){const c=e+"-"+i;let f=this._triggerCache[c];if(!f){const y=[],b=nP(this._driver,a,y,[]);if(y.length)throw function vz(t,e){return new h.vHH(3404,!1)}();f=function f6(t,e,n){return new p6(t,e,n)}(i,b,this._normalizer),this._triggerCache[c]=f}this._transitionEngine.registerTrigger(n,i,f)}register(e,n){this._transitionEngine.register(e,n)}destroy(e,n){this._transitionEngine.destroy(e,n)}onInsert(e,n,r,i){this._transitionEngine.insertNode(e,n,r,i)}onRemove(e,n,r){this._transitionEngine.removeNode(e,n,r)}disableAnimations(e,n){this._transitionEngine.markElementAsDisabled(e,n)}process(e,n,r,i){if("@"==r.charAt(0)){const[a,c]=$U(r);this._timelineEngine.command(a,n,c,i)}else this._transitionEngine.trigger(e,n,r,i)}listen(e,n,r,i,a){if("@"==r.charAt(0)){const[c,f]=$U(r);return this._timelineEngine.listen(c,n,f,a)}return this._transitionEngine.listen(e,n,r,i,a)}flush(e=-1){this._transitionEngine.flush(e)}get players(){return[...this._transitionEngine.players,...this._timelineEngine.players]}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}afterFlushAnimationsDone(e){this._transitionEngine.afterFlushAnimationsDone(e)}}let O6=(()=>{class e{constructor(r,i,a){this._element=r,this._startStyles=i,this._endStyles=a,this._state=0;let c=e.initialStylesByElement.get(r);c||e.initialStylesByElement.set(r,c=new Map),this._initialStyles=c}start(){this._state<1&&(this._startStyles&&Ua(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(Ua(this._element,this._initialStyles),this._endStyles&&(Ua(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(e.initialStylesByElement.delete(this._element),this._startStyles&&(pf(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(pf(this._element,this._endStyles),this._endStyles=null),Ua(this._element,this._initialStyles),this._state=3)}}return e.initialStylesByElement=new WeakMap,e})();function fP(t){let e=null;return t.forEach((n,r)=>{(function P6(t){return"display"===t||"position"===t})(r)&&(e=e||new Map,e.set(r,n))}),e}class fB{constructor(e,n,r,i){this.element=e,this.keyframes=n,this.options=r,this._specialStyles=i,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=r.duration,this._delay=r.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const e=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,e,this.options),this._finalKeyframe=e.length?e[e.length-1]:new Map,this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(e){const n=[];return e.forEach(r=>{n.push(Object.fromEntries(r))}),n}_triggerWebAnimation(e,n,r){return e.animate(this._convertKeyframesToObject(n),r)}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(e=>e()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}setPosition(e){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=e*this.time}getPosition(){return+(this.domPlayer.currentTime??0)/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const e=new Map;this.hasStarted()&&this._finalKeyframe.forEach((r,i)=>{"offset"!==i&&e.set(i,this._finished?r:JU(this.element,i))}),this.currentSnapshot=e}triggerCallback(e){const n="start"===e?this._onStartFns:this._onDoneFns;n.forEach(r=>r()),n.length=0}}class k6{validateStyleProperty(e){return!0}validateAnimatableStyleProperty(e){return!0}matchesElement(e,n){return!1}containsElement(e,n){return zU(e,n)}getParentElement(e){return KO(e)}query(e,n,r){return GU(e,n,r)}computeStyle(e,n,r){return window.getComputedStyle(e)[n]}animate(e,n,r,i,a,c=[]){const y={duration:r,delay:i,fill:0==i?"both":"forwards"};a&&(y.easing=a);const v=new Map,b=c.filter(O=>O instanceof fB);(function $z(t,e){return 0===t||0===e})(r,i)&&b.forEach(O=>{O.currentSnapshot.forEach(($,Q)=>v.set(Q,$))});let T=function Uz(t){return t.length?t[0]instanceof Map?t:t.map(e=>KU(e)):[]}(n).map(O=>Ll(O));T=function Hz(t,e,n){if(n.size&&e.length){let r=e[0],i=[];if(n.forEach((a,c)=>{r.has(c)||i.push(c),r.set(c,a)}),i.length)for(let a=1;a<e.length;a++){let c=e[a];i.forEach(f=>c.set(f,JU(t,f)))}}return e}(e,T,v);const N=function R6(t,e){let n=null,r=null;return Array.isArray(e)&&e.length?(n=fP(e[0]),e.length>1&&(r=fP(e[e.length-1]))):e instanceof Map&&(n=fP(e)),n||r?new O6(t,n,r):null}(e,T);return new fB(e,T,y,N)}}let F6=(()=>{var t;class e extends sD{constructor(r,i){super(),this._nextAnimationId=0,this._renderer=r.createRenderer(i.body,{id:"0",encapsulation:h.ifc.None,styles:[],data:{animation:[]}})}build(r){const i=this._nextAnimationId.toString();this._nextAnimationId++;const a=Array.isArray(r)?ph(r):r;return pB(this._renderer,null,i,"register",[a]),new L6(i,this._renderer)}}return(t=e).\u0275fac=function(r){return new(r||t)(h.LFG(h.FYo),h.LFG(me))},t.\u0275prov=h.Yz7({token:t,factory:t.\u0275fac}),e})();class L6 extends oD{constructor(e,n){super(),this._id=e,this._renderer=n}create(e,n){return new V6(this._id,e,n||{},this._renderer)}}class V6{constructor(e,n,r,i){this.id=e,this.element=n,this._renderer=i,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",r)}_listen(e,n){return this._renderer.listen(this.element,`@@${this.id}:${e}`,n)}_command(e,...n){return pB(this._renderer,this.element,this.id,e,n)}onDone(e){this._listen("done",e)}onStart(e){this._listen("start",e)}onDestroy(e){this._listen("destroy",e)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(e){this._command("setPosition",e)}getPosition(){return this._renderer.engine.players[+this.id]?.getPosition()??0}}function pB(t,e,n,r,i){return t.setProperty(e,`@@${n}:${r}`,i)}const gB="@.disabled";let U6=(()=>{var t;class e{constructor(r,i,a){this.delegate=r,this.engine=i,this._zone=a,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,i.onRemovalComplete=(c,f)=>{const y=f?.parentNode(c);y&&f.removeChild(y,c)}}createRenderer(r,i){const c=this.delegate.createRenderer(r,i);if(!(r&&i&&i.data&&i.data.animation)){let T=this._rendererCache.get(c);return T||(T=new mB("",c,this.engine,()=>this._rendererCache.delete(c)),this._rendererCache.set(c,T)),T}const f=i.id,y=i.id+"-"+this._currentId;this._currentId++,this.engine.register(y,r);const v=T=>{Array.isArray(T)?T.forEach(v):this.engine.registerTrigger(f,y,r,T.name,T)};return i.data.animation.forEach(v),new B6(this,y,c,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){queueMicrotask(()=>{this._microtaskId++})}scheduleListenerCallback(r,i,a){r>=0&&r<this._microtaskId?this._zone.run(()=>i(a)):(0==this._animationCallbacksBuffer.length&&queueMicrotask(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(c=>{const[f,y]=c;f(y)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([i,a]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return(t=e).\u0275fac=function(r){return new(r||t)(h.LFG(h.FYo),h.LFG(NS),h.LFG(h.R0b))},t.\u0275prov=h.Yz7({token:t,factory:t.\u0275fac}),e})();class mB{constructor(e,n,r,i){this.namespaceId=e,this.delegate=n,this.engine=r,this._onDestroy=i}get data(){return this.delegate.data}destroyNode(e){this.delegate.destroyNode?.(e)}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.engine.afterFlushAnimationsDone(()=>{queueMicrotask(()=>{this.delegate.destroy()})}),this._onDestroy?.()}createElement(e,n){return this.delegate.createElement(e,n)}createComment(e){return this.delegate.createComment(e)}createText(e){return this.delegate.createText(e)}appendChild(e,n){this.delegate.appendChild(e,n),this.engine.onInsert(this.namespaceId,n,e,!1)}insertBefore(e,n,r,i=!0){this.delegate.insertBefore(e,n,r),this.engine.onInsert(this.namespaceId,n,e,i)}removeChild(e,n,r){this.engine.onRemove(this.namespaceId,n,this.delegate)}selectRootElement(e,n){return this.delegate.selectRootElement(e,n)}parentNode(e){return this.delegate.parentNode(e)}nextSibling(e){return this.delegate.nextSibling(e)}setAttribute(e,n,r,i){this.delegate.setAttribute(e,n,r,i)}removeAttribute(e,n,r){this.delegate.removeAttribute(e,n,r)}addClass(e,n){this.delegate.addClass(e,n)}removeClass(e,n){this.delegate.removeClass(e,n)}setStyle(e,n,r,i){this.delegate.setStyle(e,n,r,i)}removeStyle(e,n,r){this.delegate.removeStyle(e,n,r)}setProperty(e,n,r){"@"==n.charAt(0)&&n==gB?this.disableAnimations(e,!!r):this.delegate.setProperty(e,n,r)}setValue(e,n){this.delegate.setValue(e,n)}listen(e,n,r){return this.delegate.listen(e,n,r)}disableAnimations(e,n){this.engine.disableAnimations(e,n)}}class B6 extends mB{constructor(e,n,r,i,a){super(n,r,i,a),this.factory=e,this.namespaceId=n}setProperty(e,n,r){"@"==n.charAt(0)?"."==n.charAt(1)&&n==gB?this.disableAnimations(e,r=void 0===r||!!r):this.engine.process(this.namespaceId,e,n.slice(1),r):this.delegate.setProperty(e,n,r)}listen(e,n,r){if("@"==n.charAt(0)){const i=function j6(t){switch(t){case"body":return document.body;case"document":return document;case"window":return window;default:return t}}(e);let a=n.slice(1),c="";return"@"!=a.charAt(0)&&([a,c]=function $6(t){const e=t.indexOf(".");return[t.substring(0,e),t.slice(e+1)]}(a)),this.engine.listen(this.namespaceId,i,a,c,f=>{this.factory.scheduleListenerCallback(f._data||-1,r,f)})}return this.delegate.listen(e,n,r)}}let H6=(()=>{var t;class e extends NS{constructor(r,i,a,c){super(r.body,i,a)}ngOnDestroy(){this.flush()}}return(t=e).\u0275fac=function(r){return new(r||t)(h.LFG(me),h.LFG(YO),h.LFG(aP),h.LFG(h.z2F))},t.\u0275prov=h.Yz7({token:t,factory:t.\u0275fac}),e})();const yB=[{provide:sD,useClass:F6},{provide:aP,useFactory:function z6(){return new c6}},{provide:NS,useClass:H6},{provide:h.FYo,useFactory:function G6(t,e,n){return new U6(t,e,n)},deps:[yc,NS,h.R0b]}],pP=[{provide:YO,useFactory:()=>new k6},{provide:h.QbO,useValue:"BrowserAnimations"},...yB],_B=[{provide:YO,useClass:qU},{provide:h.QbO,useValue:"NoopAnimations"},...yB];let q6=(()=>{var t;class e{static withConfig(r){return{ngModule:e,providers:r.disableAnimations?_B:pP}}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275mod=h.oAB({type:t}),t.\u0275inj=h.cJS({providers:pP,imports:[$i]}),e})();const W6=function(t,e){return{"sub-message-user":t,"sub-message":e}},Z6=function(t,e){return{message:t,"message-user":e}};function K6(t,e){if(1&t&&(h.TgZ(0,"div",7)(1,"div",7)(2,"span")(3,"strong"),h._uU(4),h.qZA(),h._uU(5),h.ALo(6,"date"),h.qZA()()()),2&t){const n=e.$implicit,r=h.oxw();h.Q6J("ngClass",h.WLB(8,W6,n.UserName==r.auth.userName,n.UserName!=r.auth.userName)),h.xp6(1),h.Q6J("ngClass",h.WLB(11,Z6,n.UserName!=r.auth.userName,n.UserName==r.auth.userName)),h.xp6(3),h.Oqu(n.UserName),h.xp6(1),h.AsE(" (",h.xi3(6,5,n.Timestamp.toDate(),"HH:mm:ss"),"): ",n.Message,"")}}const Y6=[{path:"home",component:wI},{path:"",redirectTo:"home",pathMatch:"full"},{path:"login",component:U4},{path:"register",component:K4},{path:"about-me",component:Q4},{path:"chat",component:(()=>{var t;class e{constructor(r,i,a,c){this.auth=r,this.formBuilder=i,this.data=a,this.firestore=c,this.chatForm=this.formBuilder.group({message:["",[Js.required]]})}ngOnInit(){var r=this;return(0,Y.Z)(function*(){r.data.subscribeToMessages().subscribe(i=>{r.messages=i})})()}sendMessage(){var r=this;return(0,Y.Z)(function*(){r.chatForm.controls.message.valid&&r.data.sendMessage(r.chatForm.controls.message.value,r.auth.userName)})()}}return(t=e).\u0275fac=function(r){return new(r||t)(h.Y36(hE),h.Y36(rD),h.Y36(zO),h.Y36(dE))},t.\u0275cmp=h.Xpm({type:t,selectors:[["app-chat"]],decls:12,vars:3,consts:[[1,"container-fluid"],[1,"title-container"],[1,"message-container"],[3,"ngClass",4,"ngFor","ngForOf"],[3,"formGroup","ngSubmit"],["type","text","formControlName","message","placeholder","Escribe tu mensaje",1,"input-message"],["type","submit",1,"btn","btn-success"],[3,"ngClass"]],template:function(r,i){1&r&&(h.TgZ(0,"div",0)(1,"div",1)(2,"h1"),h._uU(3,"Chat de sala de juegos"),h.qZA(),h.TgZ(4,"span"),h._uU(5),h.qZA()(),h.TgZ(6,"div",2),h.YNc(7,K6,7,14,"div",3),h.qZA(),h.TgZ(8,"form",4),h.NdJ("ngSubmit",function(){return i.sendMessage()}),h._UZ(9,"input",5),h.TgZ(10,"button",6),h._uU(11,"Enviar"),h.qZA()()()),2&r&&(h.xp6(5),h.hij("@",i.auth.userName,""),h.xp6(2),h.Q6J("ngForOf",i.messages),h.xp6(1),h.Q6J("formGroup",i.chatForm))},dependencies:[ki,Xu,lh,$c,Yp,Xd,eo,fh,Kl],styles:[".container-fluid[_ngcontent-%COMP%]{border-radius:20px;background-color:#929487;padding:20px;width:100%}.title-container[_ngcontent-%COMP%]{width:100%;border-radius:20px;background-color:#322624;color:#929487;display:flex;justify-content:space-between;align-items:center;padding:10px;margin-bottom:10px;h1 {margin-right: 20px;}}.message-container[_ngcontent-%COMP%]{width:100%;height:400px;overflow-y:scroll;background-color:#322624;border-radius:20px;padding:10px}.input-message[_ngcontent-%COMP%]{width:100%;background-color:#322624;outline:none;border:none;padding:10px;border-radius:20px;color:#929487}form[_ngcontent-%COMP%]{margin-top:10px;display:flex}button[_ngcontent-%COMP%]{margin-left:10px}.sub-message[_ngcontent-%COMP%]{width:100%;display:flex;justify-content:start}.message[_ngcontent-%COMP%]{width:50%;border-radius:20px;background-color:#929487;color:#322624;margin:5px;display:flex;justify-content:start;align-items:center;padding:10px}.sub-message-user[_ngcontent-%COMP%]{width:100%;display:flex;justify-content:end}.message-user[_ngcontent-%COMP%]{width:50%;border-radius:20px;background-color:#87948a;color:#322624;margin:5px;display:flex;justify-content:start;align-items:center;padding:10px}"]}),e})()},{path:"**",component:Y4}];let Q6=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275mod=h.oAB({type:t}),t.\u0275inj=h.cJS({imports:[F_.forRoot(Y6),$i,q6,_M.forRoot(),F_]}),e})(),J6=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275cmp=h.Xpm({type:t,selectors:[["app-loading"]],decls:8,vars:0,consts:[[1,"loading-overlay"],["viewBox","0 0 128 128","width","128px","height","128px","xmlns","http://www.w3.org/2000/svg",1,"pl"],["id","pl-grad","x1","0","y1","0","x2","0","y2","1"],["offset","0%","stop-color","hsl(193,90%,55%)"],["offset","100%","stop-color","hsl(223,90%,55%)"],["r","56","cx","64","cy","64","fill","none","stroke","hsla(0,10%,10%,0.1)","stroke-width","16","stroke-linecap","round",1,"pl__ring"],["d","M92,15.492S78.194,4.967,66.743,16.887c-17.231,17.938-28.26,96.974-28.26,96.974L119.85,59.892l-99-31.588,57.528,89.832L97.8,19.349,13.636,88.51l89.012,16.015S81.908,38.332,66.1,22.337C50.114,6.156,36,15.492,36,15.492a56,56,0,1,0,56,0Z","fill","none","stroke","url(#pl-grad)","stroke-width","16","stroke-linecap","round","stroke-linejoin","round","stroke-dasharray","44 1111","stroke-dashoffset","10",1,"pl__worm"]],template:function(r,i){1&r&&(h.TgZ(0,"div",0),h.O4$(),h.TgZ(1,"svg",1)(2,"defs")(3,"linearGradient",2),h._UZ(4,"stop",3)(5,"stop",4),h.qZA()(),h._UZ(6,"circle",5)(7,"path",6),h.qZA()())},styles:["*[_ngcontent-%COMP%]{border:0;box-sizing:border-box;margin:0;padding:0}[_ngcontent-%COMP%]:root{--hue: 223;--bg: hsl(var(--hue),10%,90%);--fg: hsl(var(--hue),10%,10%);font-size:calc(16px + (24 - 16) * (100vw - 320px) / (1280 - 320))}body[_ngcontent-%COMP%]{background-color:var(--bg);color:var(--fg);font:1em/1.5 sans-serif;height:100vh;display:grid;place-items:center;transition:background-color .3s}main[_ngcontent-%COMP%]{padding:1.5em 0}.pl[_ngcontent-%COMP%], .pl__worm[_ngcontent-%COMP%]{animation-duration:3s;animation-iteration-count:infinite}.pl[_ngcontent-%COMP%]{animation-name:_ngcontent-%COMP%_bump;animation-timing-function:linear;width:8em;height:8em}.pl__ring[_ngcontent-%COMP%]{stroke:hsla(var(--hue),10%,10%,.1);transition:stroke .3s}.pl__worm[_ngcontent-%COMP%]{animation-name:_ngcontent-%COMP%_worm;animation-timing-function:cubic-bezier(.42,.17,.75,.83)}@media (prefers-color-scheme: dark){[_ngcontent-%COMP%]:root{--bg: hsl(var(--hue),10%,10%);--fg: hsl(var(--hue),10%,90%)}.pl__ring[_ngcontent-%COMP%]{stroke:hsla(var(--hue),10%,90%,.1)}}@keyframes _ngcontent-%COMP%_bump{0%,42%,46%,51%,55%,59%,63%,67%,71%,74%,78%,81%,85%,88%,92%,to{transform:translate(0)}44%{transform:translate(1.33%,6.75%)}53%{transform:translate(-16.67%,-.54%)}61%{transform:translate(3.66%,-2.46%)}69%{transform:translate(-.59%,15.27%)}76%{transform:translate(-1.92%,-4.68%)}83%{transform:translate(9.38%,.96%)}90%{transform:translate(-4.55%,1.98%)}}@keyframes _ngcontent-%COMP%_worm{0%{stroke-dashoffset:10}25%{stroke-dashoffset:295}to{stroke-dashoffset:1165}}.loading-overlay[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;background:rgba(0,0,0,.5);display:flex;justify-content:center;align-items:center;z-index:999}"]}),e})();function X6(t,e){1&t&&(h.TgZ(0,"div",16),h._UZ(1,"app-loading"),h.qZA())}function eG(t,e){if(1&t&&(h.TgZ(0,"button",17)(1,"span"),h._uU(2),h.qZA(),h._UZ(3,"i",18),h.qZA()),2&t){const n=h.oxw();h.xp6(2),h.hij("@",n.auth.userName,"")}}function tG(t,e){1&t&&(h.TgZ(0,"div",19)(1,"li",11)(2,"a",20),h._uU(3,"Login"),h.qZA()(),h.TgZ(4,"li",11)(5,"a",21),h._uU(6,"Register"),h.qZA()()())}function nG(t,e){if(1&t){const n=h.EpF();h.TgZ(0,"button",17)(1,"span",22),h.NdJ("click",function(){h.CHM(n);const i=h.oxw();return h.KtG(i.OnLogOutClick())}),h._uU(2,"Log out"),h.qZA(),h._UZ(3,"i",23),h.qZA()}}let rG=(()=>{var t;class e{constructor(r,i){this.auth=r,this.loading=i,console.log(this.auth.logueado)}OnLogOutClick(){var r=this;return(0,Y.Z)(function*(){r.loading.show(),setTimeout((0,Y.Z)(function*(){r.loading.hide()}),1e3),r.auth.logOut()})()}}return(t=e).\u0275fac=function(r){return new(r||t)(h.Y36(hE),h.Y36(GO))},t.\u0275cmp=h.Xpm({type:t,selectors:[["app-root"]],decls:21,vars:4,consts:[[1,"app-container"],["class","loading-overlay",4,"ngIf"],[1,"navbar","navbar-expand-md","bg-body-tertiary","fixed-top"],[1,"container-fluid","justify-content-beetween","align-items-center"],["type","button","data-bs-toggle","collapse","data-bs-target","#navbar-toggler","aria-controls","navbar-toggler","aria-expanded","false","aria-label","Toggle navigation",1,"navbar-toggler"],[1,"navbar-toggler-icon"],["href","#",1,"navbar-brand"],["src","./../../../assets/LOGOTTT.png","width","50px"],["id","navbar-toggler",1,"collapse","navbar-collapse"],[1,"navbar-nav","me-auto","mb-2","mb-lg-0"],["type","button","class","btn",4,"ngIf"],[1,"nav-item"],["routerLink","/home","aria-current","page",1,"nav-link","active"],["style","width: 100%; display: flex; justify-content: center; align-items: start; ",4,"ngIf","ngIfElse"],["elseBlock",""],["routerLink","/chat",1,"nav-link"],[1,"loading-overlay"],["type","button",1,"btn"],[1,"bi","bi-person"],[2,"width","100%","display","flex","justify-content","center","align-items","start"],["routerLink","/login",1,"nav-link"],["routerLink","/register",1,"nav-link"],[1,"button__text",2,"margin-right","10px",3,"click"],[1,"bi","bi-box-arrow-right"]],template:function(r,i){if(1&r&&(h.TgZ(0,"div",0),h.YNc(1,X6,2,0,"div",1),h.TgZ(2,"nav",2)(3,"div",3)(4,"button",4),h._UZ(5,"span",5),h.qZA(),h.TgZ(6,"a",6),h._UZ(7,"img",7),h.qZA(),h.TgZ(8,"div",8)(9,"ul",9),h.YNc(10,eG,4,1,"button",10),h.TgZ(11,"li",11)(12,"a",12),h._uU(13,"Home"),h.qZA()(),h.YNc(14,tG,7,0,"div",13),h.YNc(15,nG,4,0,"ng-template",null,14,h.W1O),h.TgZ(17,"li",11)(18,"a",15),h._uU(19,"About me"),h.qZA()()()()()(),h._UZ(20,"router-outlet"),h.qZA()),2&r){const a=h.MAs(16);h.xp6(1),h.Q6J("ngIf",i.loading.isLoading),h.xp6(9),h.Q6J("ngIf",i.auth.userName&&i.auth.userName.length>2),h.xp6(4),h.Q6J("ngIf",0==i.auth.logueado)("ngIfElse",a)}},dependencies:[ts,hr,Gd,J6],styles:["*[_ngcontent-%COMP%]{font-family:Poppins,sans-serif;font-weight:600}.navbar[_ngcontent-%COMP%]{background-color:#332725!important}.container-fluid[_ngcontent-%COMP%]{color:#ffe5d9!important}.collapse[_ngcontent-%COMP%]{flex-grow:0}.nav-link[_ngcontent-%COMP%]{color:#ffe5d9!important}.btn[_ngcontent-%COMP%]{background-color:#ff888862;border-radius:30px;color:#ffe5d9!important}.app-container[_ngcontent-%COMP%]{position:relative;min-height:100vh;background:rgba(0,0,0,.5);display:flex;flex-direction:column;justify-content:center;align-items:center;z-index:999}.loading-overlay[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:100%;display:flex;justify-content:center;align-items:center;z-index:1000000}"]}),e})();const vB={production:!1,firebase:{apiKey:"AIzaSyCPzoLGhSe3LB9VsWKKWl9ksiAC3UCBeE8",authDomain:"labo-project-iv.firebaseapp.com",databaseURL:"https://labo-project-iv-default-rtdb.firebaseio.com",projectId:"labo-project-iv",storageBucket:"labo-project-iv.appspot.com",messagingSenderId:"670246816210",appId:"1:670246816210:web:484bcdd28241a4437ea00b",measurementId:"G-49WLRK2QVS"}};let iG=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275mod=h.oAB({type:t,bootstrap:[rG]}),t.\u0275inj=h.cJS({providers:[hE,{provide:Oo.Dh,useValue:vB.firebase}],imports:[$i,_M.forRoot(),Q6,iD,fv,tC(()=>ix(vB.firebase)),VC(()=>Jk()),M4(()=>R4())]}),e})();md().bootstrapModule(iG).catch(t=>console.error(t))},5619:(st,Ee,R)=>{R.d(Ee,{X:()=>k});var h=R(8645);class k extends h.x{constructor(se){super(),this._value=se}get value(){return this.getValue()}_subscribe(se){const fe=super._subscribe(se);return!fe.closed&&se.next(this._value),fe}getValue(){const{hasError:se,thrownError:fe,_value:me}=this;if(se)throw fe;return this._throwIfClosed(),me}next(se){super.next(this._value=se)}}},5592:(st,Ee,R)=>{R.d(Ee,{y:()=>ze});var h=R(305),k=R(7394),re=R(4850),se=R(8407),fe=R(2653),me=R(4674),Pe=R(1441);let ze=(()=>{class ne{constructor(ce){ce&&(this._subscribe=ce)}lift(ce){const Ze=new ne;return Ze.source=this,Ze.operator=ce,Ze}subscribe(ce,Ze,Be){const Te=function U(ne){return ne&&ne instanceof h.Lv||function L(ne){return ne&&(0,me.m)(ne.next)&&(0,me.m)(ne.error)&&(0,me.m)(ne.complete)}(ne)&&(0,k.Nn)(ne)}(ce)?ce:new h.Hp(ce,Ze,Be);return(0,Pe.x)(()=>{const{operator:Re,source:Xe}=this;Te.add(Re?Re.call(Te,Xe):Xe?this._subscribe(Te):this._trySubscribe(Te))}),Te}_trySubscribe(ce){try{return this._subscribe(ce)}catch(Ze){ce.error(Ze)}}forEach(ce,Ze){return new(Ze=xe(Ze))((Be,Te)=>{const Re=new h.Hp({next:Xe=>{try{ce(Xe)}catch(De){Te(De),Re.unsubscribe()}},error:Te,complete:Be});this.subscribe(Re)})}_subscribe(ce){var Ze;return null===(Ze=this.source)||void 0===Ze?void 0:Ze.subscribe(ce)}[re.L](){return this}pipe(...ce){return(0,se.U)(ce)(this)}toPromise(ce){return new(ce=xe(ce))((Ze,Be)=>{let Te;this.subscribe(Re=>Te=Re,Re=>Be(Re),()=>Ze(Te))})}}return ne.create=ke=>new ne(ke),ne})();function xe(ne){var ke;return null!==(ke=ne??fe.config.Promise)&&void 0!==ke?ke:Promise}},8645:(st,Ee,R)=>{R.d(Ee,{x:()=>Pe});var h=R(5592),k=R(7394);const se=(0,R(2306).d)(xe=>function(){xe(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var fe=R(9039),me=R(1441);let Pe=(()=>{class xe extends h.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(U){const ne=new ze(this,this);return ne.operator=U,ne}_throwIfClosed(){if(this.closed)throw new se}next(U){(0,me.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const ne of this.currentObservers)ne.next(U)}})}error(U){(0,me.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=U;const{observers:ne}=this;for(;ne.length;)ne.shift().error(U)}})}complete(){(0,me.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:U}=this;for(;U.length;)U.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var U;return(null===(U=this.observers)||void 0===U?void 0:U.length)>0}_trySubscribe(U){return this._throwIfClosed(),super._trySubscribe(U)}_subscribe(U){return this._throwIfClosed(),this._checkFinalizedStatuses(U),this._innerSubscribe(U)}_innerSubscribe(U){const{hasError:ne,isStopped:ke,observers:ce}=this;return ne||ke?k.Lc:(this.currentObservers=null,ce.push(U),new k.w0(()=>{this.currentObservers=null,(0,fe.P)(ce,U)}))}_checkFinalizedStatuses(U){const{hasError:ne,thrownError:ke,isStopped:ce}=this;ne?U.error(ke):ce&&U.complete()}asObservable(){const U=new h.y;return U.source=this,U}}return xe.create=(L,U)=>new ze(L,U),xe})();class ze extends Pe{constructor(L,U){super(),this.destination=L,this.source=U}next(L){var U,ne;null===(ne=null===(U=this.destination)||void 0===U?void 0:U.next)||void 0===ne||ne.call(U,L)}error(L){var U,ne;null===(ne=null===(U=this.destination)||void 0===U?void 0:U.error)||void 0===ne||ne.call(U,L)}complete(){var L,U;null===(U=null===(L=this.destination)||void 0===L?void 0:L.complete)||void 0===U||U.call(L)}_subscribe(L){var U,ne;return null!==(ne=null===(U=this.source)||void 0===U?void 0:U.subscribe(L))&&void 0!==ne?ne:k.Lc}}},305:(st,Ee,R)=>{R.d(Ee,{Hp:()=>Be,Lv:()=>ne});var h=R(4674),k=R(7394),re=R(2653),se=R(3894),fe=R(2420);const me=xe("C",void 0,void 0);function xe(ye,le,_e){return{kind:ye,value:le,error:_e}}var L=R(7599),U=R(1441);class ne extends k.w0{constructor(le){super(),this.isStopped=!1,le?(this.destination=le,(0,k.Nn)(le)&&le.add(this)):this.destination=De}static create(le,_e,Oe){return new Be(le,_e,Oe)}next(le){this.isStopped?Xe(function ze(ye){return xe("N",ye,void 0)}(le),this):this._next(le)}error(le){this.isStopped?Xe(function Pe(ye){return xe("E",void 0,ye)}(le),this):(this.isStopped=!0,this._error(le))}complete(){this.isStopped?Xe(me,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(le){this.destination.next(le)}_error(le){try{this.destination.error(le)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const ke=Function.prototype.bind;function ce(ye,le){return ke.call(ye,le)}class Ze{constructor(le){this.partialObserver=le}next(le){const{partialObserver:_e}=this;if(_e.next)try{_e.next(le)}catch(Oe){Te(Oe)}}error(le){const{partialObserver:_e}=this;if(_e.error)try{_e.error(le)}catch(Oe){Te(Oe)}else Te(le)}complete(){const{partialObserver:le}=this;if(le.complete)try{le.complete()}catch(_e){Te(_e)}}}class Be extends ne{constructor(le,_e,Oe){let K;if(super(),(0,h.m)(le)||!le)K={next:le??void 0,error:_e??void 0,complete:Oe??void 0};else{let z;this&&re.config.useDeprecatedNextContext?(z=Object.create(le),z.unsubscribe=()=>this.unsubscribe(),K={next:le.next&&ce(le.next,z),error:le.error&&ce(le.error,z),complete:le.complete&&ce(le.complete,z)}):K=le}this.destination=new Ze(K)}}function Te(ye){re.config.useDeprecatedSynchronousErrorHandling?(0,U.O)(ye):(0,se.h)(ye)}function Xe(ye,le){const{onStoppedNotification:_e}=re.config;_e&&L.z.setTimeout(()=>_e(ye,le))}const De={closed:!0,next:fe.Z,error:function Re(ye){throw ye},complete:fe.Z}},7394:(st,Ee,R)=>{R.d(Ee,{Lc:()=>me,w0:()=>fe,Nn:()=>Pe});var h=R(4674);const re=(0,R(2306).d)(xe=>function(U){xe(this),this.message=U?`${U.length} errors occurred during unsubscription:\n${U.map((ne,ke)=>`${ke+1}) ${ne.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=U});var se=R(9039);class fe{constructor(L){this.initialTeardown=L,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let L;if(!this.closed){this.closed=!0;const{_parentage:U}=this;if(U)if(this._parentage=null,Array.isArray(U))for(const ce of U)ce.remove(this);else U.remove(this);const{initialTeardown:ne}=this;if((0,h.m)(ne))try{ne()}catch(ce){L=ce instanceof re?ce.errors:[ce]}const{_finalizers:ke}=this;if(ke){this._finalizers=null;for(const ce of ke)try{ze(ce)}catch(Ze){L=L??[],Ze instanceof re?L=[...L,...Ze.errors]:L.push(Ze)}}if(L)throw new re(L)}}add(L){var U;if(L&&L!==this)if(this.closed)ze(L);else{if(L instanceof fe){if(L.closed||L._hasParent(this))return;L._addParent(this)}(this._finalizers=null!==(U=this._finalizers)&&void 0!==U?U:[]).push(L)}}_hasParent(L){const{_parentage:U}=this;return U===L||Array.isArray(U)&&U.includes(L)}_addParent(L){const{_parentage:U}=this;this._parentage=Array.isArray(U)?(U.push(L),U):U?[U,L]:L}_removeParent(L){const{_parentage:U}=this;U===L?this._parentage=null:Array.isArray(U)&&(0,se.P)(U,L)}remove(L){const{_finalizers:U}=this;U&&(0,se.P)(U,L),L instanceof fe&&L._removeParent(this)}}fe.EMPTY=(()=>{const xe=new fe;return xe.closed=!0,xe})();const me=fe.EMPTY;function Pe(xe){return xe instanceof fe||xe&&"closed"in xe&&(0,h.m)(xe.remove)&&(0,h.m)(xe.add)&&(0,h.m)(xe.unsubscribe)}function ze(xe){(0,h.m)(xe)?xe():xe.unsubscribe()}},2653:(st,Ee,R)=>{R.d(Ee,{config:()=>h});const h={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},6232:(st,Ee,R)=>{R.d(Ee,{E:()=>k});const k=new(R(5592).y)(fe=>fe.complete())},2459:(st,Ee,R)=>{R.d(Ee,{D:()=>le});var h=R(4829),k=R(3093),re=R(5137),me=R(5592),ze=R(4971),xe=R(4674),L=R(7103);function ne(_e,Oe){if(!_e)throw new Error("Iterable cannot be null");return new me.y(K=>{(0,L.f)(K,Oe,()=>{const z=_e[Symbol.asyncIterator]();(0,L.f)(K,Oe,()=>{z.next().then(ve=>{ve.done?K.complete():K.next(ve.value)})},0,!0)})})}var ke=R(8382),ce=R(4026),Ze=R(4266),Be=R(3664),Te=R(5726),Re=R(9853),Xe=R(541);function le(_e,Oe){return Oe?function ye(_e,Oe){if(null!=_e){if((0,ke.c)(_e))return function se(_e,Oe){return(0,h.Xf)(_e).pipe((0,re.R)(Oe),(0,k.Q)(Oe))}(_e,Oe);if((0,Ze.z)(_e))return function Pe(_e,Oe){return new me.y(K=>{let z=0;return Oe.schedule(function(){z===_e.length?K.complete():(K.next(_e[z++]),K.closed||this.schedule())})})}(_e,Oe);if((0,ce.t)(_e))return function fe(_e,Oe){return(0,h.Xf)(_e).pipe((0,re.R)(Oe),(0,k.Q)(Oe))}(_e,Oe);if((0,Te.D)(_e))return ne(_e,Oe);if((0,Be.T)(_e))return function U(_e,Oe){return new me.y(K=>{let z;return(0,L.f)(K,Oe,()=>{z=_e[ze.h](),(0,L.f)(K,Oe,()=>{let ve,Fe;try{({value:ve,done:Fe}=z.next())}catch(_n){return void K.error(_n)}Fe?K.complete():K.next(ve)},0,!0)}),()=>(0,xe.m)(z?.return)&&z.return()})}(_e,Oe);if((0,Xe.L)(_e))return function De(_e,Oe){return ne((0,Xe.Q)(_e),Oe)}(_e,Oe)}throw(0,Re.z)(_e)}(_e,Oe):(0,h.Xf)(_e)}},4829:(st,Ee,R)=>{R.d(Ee,{Xf:()=>ke});var h=R(7582),k=R(4266),re=R(4026),se=R(5592),fe=R(8382),me=R(5726),Pe=R(9853),ze=R(3664),xe=R(541),L=R(4674),U=R(3894),ne=R(4850);function ke(ye){if(ye instanceof se.y)return ye;if(null!=ye){if((0,fe.c)(ye))return function ce(ye){return new se.y(le=>{const _e=ye[ne.L]();if((0,L.m)(_e.subscribe))return _e.subscribe(le);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(ye);if((0,k.z)(ye))return function Ze(ye){return new se.y(le=>{for(let _e=0;_e<ye.length&&!le.closed;_e++)le.next(ye[_e]);le.complete()})}(ye);if((0,re.t)(ye))return function Be(ye){return new se.y(le=>{ye.then(_e=>{le.closed||(le.next(_e),le.complete())},_e=>le.error(_e)).then(null,U.h)})}(ye);if((0,me.D)(ye))return Re(ye);if((0,ze.T)(ye))return function Te(ye){return new se.y(le=>{for(const _e of ye)if(le.next(_e),le.closed)return;le.complete()})}(ye);if((0,xe.L)(ye))return function Xe(ye){return Re((0,xe.Q)(ye))}(ye)}throw(0,Pe.z)(ye)}function Re(ye){return new se.y(le=>{(function De(ye,le){var _e,Oe,K,z;return(0,h.mG)(this,void 0,void 0,function*(){try{for(_e=(0,h.KL)(ye);!(Oe=yield _e.next()).done;)if(le.next(Oe.value),le.closed)return}catch(ve){K={error:ve}}finally{try{Oe&&!Oe.done&&(z=_e.return)&&(yield z.call(_e))}finally{if(K)throw K.error}}le.complete()})})(ye,le).catch(_e=>le.error(_e))})}},3019:(st,Ee,R)=>{R.d(Ee,{T:()=>me});var h=R(7537),k=R(4829),re=R(6232),se=R(4564),fe=R(2459);function me(...Pe){const ze=(0,se.yG)(Pe),xe=(0,se._6)(Pe,1/0),L=Pe;return L.length?1===L.length?(0,k.Xf)(L[0]):(0,h.J)(xe)((0,fe.D)(L,ze)):re.E}},2096:(st,Ee,R)=>{R.d(Ee,{of:()=>re});var h=R(4564),k=R(2459);function re(...se){const fe=(0,h.yG)(se);return(0,k.D)(se,fe)}},8251:(st,Ee,R)=>{R.d(Ee,{x:()=>k});var h=R(305);function k(se,fe,me,Pe,ze){return new re(se,fe,me,Pe,ze)}class re extends h.Lv{constructor(fe,me,Pe,ze,xe,L){super(fe),this.onFinalize=xe,this.shouldUnsubscribe=L,this._next=me?function(U){try{me(U)}catch(ne){fe.error(ne)}}:super._next,this._error=ze?function(U){try{ze(U)}catch(ne){fe.error(ne)}finally{this.unsubscribe()}}:super._error,this._complete=Pe?function(){try{Pe()}catch(U){fe.error(U)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var fe;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:me}=this;super.unsubscribe(),!me&&(null===(fe=this.onFinalize)||void 0===fe||fe.call(this))}}}},7398:(st,Ee,R)=>{R.d(Ee,{U:()=>re});var h=R(9360),k=R(8251);function re(se,fe){return(0,h.e)((me,Pe)=>{let ze=0;me.subscribe((0,k.x)(Pe,xe=>{Pe.next(se.call(fe,xe,ze++))}))})}},7537:(st,Ee,R)=>{R.d(Ee,{J:()=>re});var h=R(1631),k=R(2737);function re(se=1/0){return(0,h.z)(k.y,se)}},1631:(st,Ee,R)=>{R.d(Ee,{z:()=>ze});var h=R(7398),k=R(4829),re=R(9360),se=R(7103),fe=R(8251),Pe=R(4674);function ze(xe,L,U=1/0){return(0,Pe.m)(L)?ze((ne,ke)=>(0,h.U)((ce,Ze)=>L(ne,ce,ke,Ze))((0,k.Xf)(xe(ne,ke))),U):("number"==typeof L&&(U=L),(0,re.e)((ne,ke)=>function me(xe,L,U,ne,ke,ce,Ze,Be){const Te=[];let Re=0,Xe=0,De=!1;const ye=()=>{De&&!Te.length&&!Re&&L.complete()},le=Oe=>Re<ne?_e(Oe):Te.push(Oe),_e=Oe=>{ce&&L.next(Oe),Re++;let K=!1;(0,k.Xf)(U(Oe,Xe++)).subscribe((0,fe.x)(L,z=>{ke?.(z),ce?le(z):L.next(z)},()=>{K=!0},void 0,()=>{if(K)try{for(Re--;Te.length&&Re<ne;){const z=Te.shift();Ze?(0,se.f)(L,Ze,()=>_e(z)):_e(z)}ye()}catch(z){L.error(z)}}))};return xe.subscribe((0,fe.x)(L,le,()=>{De=!0,ye()})),()=>{Be?.()}}(ne,ke,xe,U)))}},3093:(st,Ee,R)=>{R.d(Ee,{Q:()=>se});var h=R(7103),k=R(9360),re=R(8251);function se(fe,me=0){return(0,k.e)((Pe,ze)=>{Pe.subscribe((0,re.x)(ze,xe=>(0,h.f)(ze,fe,()=>ze.next(xe),me),()=>(0,h.f)(ze,fe,()=>ze.complete(),me),xe=>(0,h.f)(ze,fe,()=>ze.error(xe),me)))})}},3020:(st,Ee,R)=>{R.d(Ee,{B:()=>fe});var h=R(4829),k=R(8645),re=R(305),se=R(9360);function fe(Pe={}){const{connector:ze=(()=>new k.x),resetOnError:xe=!0,resetOnComplete:L=!0,resetOnRefCountZero:U=!0}=Pe;return ne=>{let ke,ce,Ze,Be=0,Te=!1,Re=!1;const Xe=()=>{ce?.unsubscribe(),ce=void 0},De=()=>{Xe(),ke=Ze=void 0,Te=Re=!1},ye=()=>{const le=ke;De(),le?.unsubscribe()};return(0,se.e)((le,_e)=>{Be++,!Re&&!Te&&Xe();const Oe=Ze=Ze??ze();_e.add(()=>{Be--,0===Be&&!Re&&!Te&&(ce=me(ye,U))}),Oe.subscribe(_e),!ke&&Be>0&&(ke=new re.Hp({next:K=>Oe.next(K),error:K=>{Re=!0,Xe(),ce=me(De,xe,K),Oe.error(K)},complete:()=>{Te=!0,Xe(),ce=me(De,L),Oe.complete()}}),(0,h.Xf)(le).subscribe(ke))})(ne)}}function me(Pe,ze,...xe){if(!0===ze)return void Pe();if(!1===ze)return;const L=new re.Hp({next:()=>{L.unsubscribe(),Pe()}});return(0,h.Xf)(ze(...xe)).subscribe(L)}},5137:(st,Ee,R)=>{R.d(Ee,{R:()=>k});var h=R(9360);function k(re,se=0){return(0,h.e)((fe,me)=>{me.add(re.schedule(()=>fe.subscribe(me),se))})}},4664:(st,Ee,R)=>{R.d(Ee,{w:()=>se});var h=R(4829),k=R(9360),re=R(8251);function se(fe,me){return(0,k.e)((Pe,ze)=>{let xe=null,L=0,U=!1;const ne=()=>U&&!xe&&ze.complete();Pe.subscribe((0,re.x)(ze,ke=>{xe?.unsubscribe();let ce=0;const Ze=L++;(0,h.Xf)(fe(ke,Ze)).subscribe(xe=(0,re.x)(ze,Be=>ze.next(me?me(ke,Be,Ze,ce++):Be),()=>{xe=null,ne()}))},()=>{U=!0,ne()}))})}},7599:(st,Ee,R)=>{R.d(Ee,{z:()=>h});const h={setTimeout(k,re,...se){const{delegate:fe}=h;return fe?.setTimeout?fe.setTimeout(k,re,...se):setTimeout(k,re,...se)},clearTimeout(k){const{delegate:re}=h;return(re?.clearTimeout||clearTimeout)(k)},delegate:void 0}},4971:(st,Ee,R)=>{R.d(Ee,{h:()=>k});const k=function h(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},4850:(st,Ee,R)=>{R.d(Ee,{L:()=>h});const h="function"==typeof Symbol&&Symbol.observable||"@@observable"},4564:(st,Ee,R)=>{R.d(Ee,{_6:()=>me,jO:()=>se,yG:()=>fe});var h=R(4674);function re(Pe){return Pe[Pe.length-1]}function se(Pe){return(0,h.m)(re(Pe))?Pe.pop():void 0}function fe(Pe){return function k(Pe){return Pe&&(0,h.m)(Pe.schedule)}(re(Pe))?Pe.pop():void 0}function me(Pe,ze){return"number"==typeof re(Pe)?Pe.pop():ze}},9039:(st,Ee,R)=>{function h(k,re){if(k){const se=k.indexOf(re);0<=se&&k.splice(se,1)}}R.d(Ee,{P:()=>h})},2306:(st,Ee,R)=>{function h(k){const se=k(fe=>{Error.call(fe),fe.stack=(new Error).stack});return se.prototype=Object.create(Error.prototype),se.prototype.constructor=se,se}R.d(Ee,{d:()=>h})},1441:(st,Ee,R)=>{R.d(Ee,{O:()=>se,x:()=>re});var h=R(2653);let k=null;function re(fe){if(h.config.useDeprecatedSynchronousErrorHandling){const me=!k;if(me&&(k={errorThrown:!1,error:null}),fe(),me){const{errorThrown:Pe,error:ze}=k;if(k=null,Pe)throw ze}}else fe()}function se(fe){h.config.useDeprecatedSynchronousErrorHandling&&k&&(k.errorThrown=!0,k.error=fe)}},7103:(st,Ee,R)=>{function h(k,re,se,fe=0,me=!1){const Pe=re.schedule(function(){se(),me?k.add(this.schedule(null,fe)):this.unsubscribe()},fe);if(k.add(Pe),!me)return Pe}R.d(Ee,{f:()=>h})},2737:(st,Ee,R)=>{function h(k){return k}R.d(Ee,{y:()=>h})},4266:(st,Ee,R)=>{R.d(Ee,{z:()=>h});const h=k=>k&&"number"==typeof k.length&&"function"!=typeof k},5726:(st,Ee,R)=>{R.d(Ee,{D:()=>k});var h=R(4674);function k(re){return Symbol.asyncIterator&&(0,h.m)(re?.[Symbol.asyncIterator])}},4674:(st,Ee,R)=>{function h(k){return"function"==typeof k}R.d(Ee,{m:()=>h})},8382:(st,Ee,R)=>{R.d(Ee,{c:()=>re});var h=R(4850),k=R(4674);function re(se){return(0,k.m)(se[h.L])}},3664:(st,Ee,R)=>{R.d(Ee,{T:()=>re});var h=R(4971),k=R(4674);function re(se){return(0,k.m)(se?.[h.h])}},4026:(st,Ee,R)=>{R.d(Ee,{t:()=>k});var h=R(4674);function k(re){return(0,h.m)(re?.then)}},541:(st,Ee,R)=>{R.d(Ee,{L:()=>se,Q:()=>re});var h=R(7582),k=R(4674);function re(fe){return(0,h.FC)(this,arguments,function*(){const Pe=fe.getReader();try{for(;;){const{value:ze,done:xe}=yield(0,h.qq)(Pe.read());if(xe)return yield(0,h.qq)(void 0);yield yield(0,h.qq)(ze)}}finally{Pe.releaseLock()}})}function se(fe){return(0,k.m)(fe?.getReader)}},9360:(st,Ee,R)=>{R.d(Ee,{A:()=>k,e:()=>re});var h=R(4674);function k(se){return(0,h.m)(se?.lift)}function re(se){return fe=>{if(k(fe))return fe.lift(function(me){try{return se(me,this)}catch(Pe){this.error(Pe)}});throw new TypeError("Unable to lift unknown Observable type")}}},2420:(st,Ee,R)=>{function h(){}R.d(Ee,{Z:()=>h})},8407:(st,Ee,R)=>{R.d(Ee,{U:()=>re,z:()=>k});var h=R(2737);function k(...se){return re(se)}function re(se){return 0===se.length?h.y:1===se.length?se[0]:function(me){return se.reduce((Pe,ze)=>ze(Pe),me)}}},3894:(st,Ee,R)=>{R.d(Ee,{h:()=>re});var h=R(2653),k=R(7599);function re(se){k.z.setTimeout(()=>{const{onUnhandledError:fe}=h.config;if(!fe)throw se;fe(se)})}},9853:(st,Ee,R)=>{function h(k){return new TypeError(`You provided ${null!==k&&"object"==typeof k?"an invalid object":`'${k}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}R.d(Ee,{z:()=>h})},8926:(st,Ee,R)=>{R.d(Ee,{QbO:()=>$c,tb:()=>xC,AFp:()=>II,ip1:()=>Nm,hGG:()=>hF,z2F:()=>Bh,Ojb:()=>ya,sBO:()=>Kk,Sil:()=>_x,_Vd:()=>eh,EJc:()=>IC,Xts:()=>qd,SBq:()=>Jp,lqb:()=>So,qLn:()=>Ea,vpe:()=>Ao,XFs:()=>mt,OlP:()=>qt,zs3:()=>ds,ZZ4:()=>HC,aQg:()=>zC,soG:()=>Po,YKP:()=>Db,h0i:()=>Sa,PXZ:()=>Hk,R0b:()=>Pn,FiY:()=>iu,Lbi:()=>j_,g9A:()=>bI,Qsj:()=>UP,FYo:()=>bA,JOm:()=>Nc,q3G:()=>Bc,tp0:()=>xc,Rgc:()=>Aa,dDg:()=>Ax,eoX:()=>Mx,q4F:()=>OI,GfV:()=>CA,s_b:()=>dl,ifc:()=>Ft,VuI:()=>$h,MMx:()=>Tb,Lck:()=>O1,eFA:()=>RC,Gpc:()=>Xe,f3M:()=>Vt,X6Q:()=>Zk,$WT:()=>ns,MR2:()=>P_,_c5:()=>dF,qFp:()=>ow,rg0:()=>CE,c2e:()=>wC,zSh:()=>L_,HDt:()=>DC,wAp:()=>ol,vHH:()=>K,lri:()=>km,rWj:()=>Sx,JZr:()=>Oe,EiD:()=>fI,mCW:()=>Hd,qzn:()=>Uc,JVY:()=>oA,pB0:()=>M_,eBb:()=>uA,L6k:()=>aA,LAX:()=>oI,cg1:()=>n0,kL8:()=>ob,dqk:()=>fn,Z0I:()=>Ji,eJc:()=>kh,QGY:()=>bh,F4k:()=>rl,RDi:()=>rA,AaK:()=>Be,z3N:()=>Co,qOj:()=>yv,Xq5:()=>pD,TTD:()=>Pf,_Bn:()=>Ib,jDz:()=>Sb,xp6:()=>HI,uIk:()=>Su,Tol:()=>BD,ekj:()=>zv,Suo:()=>nx,Xpm:()=>bf,lG2:()=>sc,Yz7:()=>_t,cJS:()=>Dr,oAB:()=>Ha,Yjl:()=>Kl,Y36:()=>Yc,_UZ:()=>Mv,BQk:()=>to,ynx:()=>Cg,qZA:()=>Dh,TgZ:()=>bg,EpF:()=>Mg,n5z:()=>bc,LFG:()=>dt,$8M:()=>us,$Z:()=>rv,NdJ:()=>Ch,CRH:()=>Qb,O4$:()=>_i,oxw:()=>Ng,ALo:()=>Bb,xi3:()=>mm,Q6J:()=>Da,WLB:()=>fm,iGM:()=>Vu,MAs:()=>Nu,KtG:()=>$f,CHM:()=>md,oJD:()=>pI,P3R:()=>pA,Udp:()=>Vg,d8E:()=>t0,YNc:()=>Sv,W1O:()=>tC,_uU:()=>HD,Oqu:()=>qv,hij:()=>Hg,AsE:()=>sl});var h=R(8645),k=R(7394),re=R(5592),se=R(3019),fe=R(5619),me=R(2096),Pe=R(3020),ze=R(4664),xe=R(2737),L=R(9360),U=R(8251);function ke(s,o){return s===o}function ce(s){for(let o in s)if(s[o]===ce)return o;throw Error("Could not find renamed property on target object.")}function Ze(s,o){for(const u in o)o.hasOwnProperty(u)&&!s.hasOwnProperty(u)&&(s[u]=o[u])}function Be(s){if("string"==typeof s)return s;if(Array.isArray(s))return"["+s.map(Be).join(", ")+"]";if(null==s)return""+s;if(s.overriddenName)return`${s.overriddenName}`;if(s.name)return`${s.name}`;const o=s.toString();if(null==o)return""+o;const u=o.indexOf("\n");return-1===u?o:o.substring(0,u)}function Te(s,o){return null==s||""===s?null===o?"":o:null==o||""===o?s:s+" "+o}const Re=ce({__forward_ref__:ce});function Xe(s){return s.__forward_ref__=Xe,s.toString=function(){return Be(this())},s}function De(s){return ye(s)?s():s}function ye(s){return"function"==typeof s&&s.hasOwnProperty(Re)&&s.__forward_ref__===Xe}function le(s){return s&&!!s.\u0275providers}const Oe="https://g.co/ng/security#xss";class K extends Error{constructor(o,u){super(function z(s,o){return`NG0${Math.abs(s)}${o?": "+o:""}`}(o,u)),this.code=o}}function ve(s){return"string"==typeof s?s:null==s?"":String(s)}function Qi(s,o){throw new K(-201,!1)}function Ct(s,o){null==s&&function qe(s,o,u,l){throw new Error(`ASSERTION ERROR: ${s}`+(null==l?"":` [Expected=> ${u} ${l} ${o} <=Actual]`))}(o,s,null,"!=")}function _t(s){return{token:s.token,providedIn:s.providedIn||null,factory:s.factory,value:void 0}}function Dr(s){return{providers:s.providers||[],imports:s.imports||[]}}function ys(s){return $o(s,vn)||$o(s,Tt)}function Ji(s){return null!==ys(s)}function $o(s,o){return s.hasOwnProperty(o)?s[o]:null}function Xi(s){return s&&(s.hasOwnProperty(xt)||s.hasOwnProperty(Zn))?s[xt]:null}const vn=ce({\u0275prov:ce}),xt=ce({\u0275inj:ce}),Tt=ce({ngInjectableDef:ce}),Zn=ce({ngInjectorDef:ce});var mt=function(s){return s[s.Default=0]="Default",s[s.Host=1]="Host",s[s.Self=2]="Self",s[s.SkipSelf=4]="SkipSelf",s[s.Optional=8]="Optional",s}(mt||{});let br;function zt(s){const o=br;return br=s,o}function _s(s,o,u){const l=ys(s);return l&&"root"==l.providedIn?void 0===l.value?l.value=l.factory():l.value:u&mt.Optional?null:void 0!==o?o:void Qi(Be(s))}const fn=globalThis,F={},P="__NG_DI_FLAG__",j="ngTempTokenPath",W=/\n/gm,ct="__source";let Bt;function Xt(s){const o=Bt;return Bt=s,o}function Cr(s,o=mt.Default){if(void 0===Bt)throw new K(-203,!1);return null===Bt?_s(s,void 0,o):Bt.get(s,o&mt.Optional?null:void 0,o)}function dt(s,o=mt.Default){return(function ui(){return br}()||Cr)(De(s),o)}function Vt(s,o=mt.Default){return dt(s,ws(o))}function ws(s){return typeof s>"u"||"number"==typeof s?s:0|(s.optional&&8)|(s.host&&1)|(s.self&&2)|(s.skipSelf&&4)}function Ho(s){const o=[];for(let u=0;u<s.length;u++){const l=De(s[u]);if(Array.isArray(l)){if(0===l.length)throw new K(900,!1);let d,p=mt.Default;for(let _=0;_<l.length;_++){const w=l[_],D=G(w);"number"==typeof D?-1===D?d=w.token:p|=D:d=w}o.push(dt(d,p))}else o.push(dt(l))}return o}function ie(s,o){return s[P]=o,s.prototype[P]=o,s}function G(s){return s[P]}function ot(s){return{toString:s}.toString()}var Et=function(s){return s[s.OnPush=0]="OnPush",s[s.Default=1]="Default",s}(Et||{}),Ft=function(s){return s[s.Emulated=0]="Emulated",s[s.None=2]="None",s[s.ShadowDom=3]="ShadowDom",s}(Ft||{});const on={},at=[],Pi=ce({\u0275cmp:ce}),fo=ce({\u0275dir:ce}),ja=ce({\u0275pipe:ce}),Bl=ce({\u0275mod:ce}),ki=ce({\u0275fac:ce}),ci=ce({__NG_ELEMENT_ID__:ce}),$a=ce({__NG_ENV_ID__:ce});function vf(s,o,u){let l=s.length;for(;;){const d=s.indexOf(o,u);if(-1===d)return d;if(0===d||s.charCodeAt(d-1)<=32){const p=o.length;if(d+p===l||s.charCodeAt(d+p)<=32)return d}u=d+1}}function Xu(s,o,u){let l=0;for(;l<u.length;){const d=u[l];if("number"==typeof d){if(0!==d)break;l++;const p=u[l++],_=u[l++],w=u[l++];s.setAttribute(o,_,w,p)}else{const p=d,_=u[++l];wf(p)?s.setProperty(o,p,_):s.setAttribute(o,p,_),l++}}return l}function wn(s){return 3===s||4===s||6===s}function wf(s){return 64===s.charCodeAt(0)}function ts(s,o){if(null!==o&&0!==o.length)if(null===s||0===s.length)s=o.slice();else{let u=-1;for(let l=0;l<o.length;l++){const d=o[l];"number"==typeof d?u=d:0===u||Ef(s,u,d,null,-1===u||2===u?o[++l]:null)}}return s}function Ef(s,o,u,l,d){let p=0,_=s.length;if(-1===o)_=-1;else for(;p<s.length;){const w=s[p++];if("number"==typeof w){if(w===o){_=-1;break}if(w>o){_=p-1;break}}}for(;p<s.length;){const w=s[p];if("number"==typeof w)break;if(w===u){if(null===l)return void(null!==d&&(s[p+1]=d));if(l===s[p+1])return void(s[p+2]=d)}p++,null!==l&&p++,null!==d&&p++}-1!==_&&(s.splice(_,0,o),p=_+1),s.splice(p++,0,u),null!==l&&s.splice(p++,0,l),null!==d&&s.splice(p++,0,d)}const ec="ng-template";function tc(s,o,u){let l=0,d=!0;for(;l<s.length;){let p=s[l++];if("string"==typeof p&&d){const _=s[l++];if(u&&"class"===p&&-1!==vf(_.toLowerCase(),o,0))return!0}else{if(1===p){for(;l<s.length&&"string"==typeof(p=s[l++]);)if(p.toLowerCase()===o)return!0;return!1}"number"==typeof p&&(d=!1)}}return!1}function nc(s){return 4===s.type&&s.value!==ec}function If(s,o,u){return o===(4!==s.type||u?s.value:ec)}function Sy(s,o,u){let l=4;const d=s.attrs||[],p=function Df(s){for(let o=0;o<s.length;o++)if(wn(s[o]))return o;return s.length}(d);let _=!1;for(let w=0;w<o.length;w++){const D=o[w];if("number"!=typeof D){if(!_)if(4&l){if(l=2|1&l,""!==D&&!If(s,D,u)||""===D&&1===o.length){if(yr(l))return!1;_=!0}}else{const C=8&l?D:o[++w];if(8&l&&null!==s.attrs){if(!tc(s.attrs,C,u)){if(yr(l))return!1;_=!0}continue}const x=jl(8&l?"class":D,d,nc(s),u);if(-1===x){if(yr(l))return!1;_=!0;continue}if(""!==C){let V;V=x>p?"":d[x+1].toLowerCase();const H=8&l?V:null;if(H&&-1!==vf(H,C,0)||2&l&&C!==V){if(yr(l))return!1;_=!0}}}}else{if(!_&&!yr(l)&&!yr(D))return!1;if(_&&yr(D))continue;_=!1,l=D|1&l}}return yr(l)||_}function yr(s){return 0==(1&s)}function jl(s,o,u,l){if(null===o)return-1;let d=0;if(l||!u){let p=!1;for(;d<o.length;){const _=o[d];if(_===s)return d;if(3===_||6===_)p=!0;else{if(1===_||2===_){let w=o[++d];for(;"string"==typeof w;)w=o[++d];continue}if(4===_)break;if(0===_){d+=4;continue}}d+=p?1:2}return-1}return function _E(s,o){let u=s.indexOf(4);if(u>-1)for(u++;u<s.length;){const l=s[u];if("number"==typeof l)return-1;if(l===o)return u;u++}return-1}(o,s)}function $l(s,o,u=!1){for(let l=0;l<o.length;l++)if(Sy(s,o[l],u))return!0;return!1}function rc(s,o){return s?":not("+o.trim()+")":o}function Hl(s){let o=s[0],u=1,l=2,d="",p=!1;for(;u<s.length;){let _=s[u];if("string"==typeof _)if(2&l){const w=s[++u];d+="["+_+(w.length>0?'="'+w+'"':"")+"]"}else 8&l?d+="."+_:4&l&&(d+=" "+_);else""!==d&&!yr(_)&&(o+=rc(p,d),d=""),l=_,p=p||!yr(l);u++}return""!==d&&(o+=rc(p,d)),o}function bf(s){return ot(()=>{const o=oc(s),u={...o,decls:s.decls,vars:s.vars,template:s.template,consts:s.consts||null,ngContentSelectors:s.ngContentSelectors,onPush:s.changeDetection===Et.OnPush,directiveDefs:null,pipeDefs:null,dependencies:o.standalone&&s.dependencies||null,getStandaloneInjector:null,signals:s.signals??!1,data:s.data||{},encapsulation:s.encapsulation||Ft.Emulated,styles:s.styles||at,_:null,schemas:s.schemas||null,tView:null,id:""};Yl(u);const l=s.dependencies;return u.directiveDefs=Hr(l,!1),u.pipeDefs=Hr(l,!0),u.id=function Ql(s){let o=0;const u=[s.selectors,s.ngContentSelectors,s.hostVars,s.hostAttrs,s.consts,s.vars,s.decls,s.encapsulation,s.standalone,s.signals,s.exportAs,JSON.stringify(s.inputs),JSON.stringify(s.outputs),Object.getOwnPropertyNames(s.type.prototype),!!s.contentQueries,!!s.viewQuery].join("|");for(const d of u)o=Math.imul(31,o)+d.charCodeAt(0)<<0;return o+=2147483648,"c"+o}(u),u})}function ql(s){return jt(s)||Yn(s)}function Wl(s){return null!==s}function Ha(s){return ot(()=>({type:s.type,bootstrap:s.bootstrap||at,declarations:s.declarations||at,imports:s.imports||at,exports:s.exports||at,transitiveCompileScopes:null,schemas:s.schemas||null,id:s.id||null}))}function Cf(s,o){if(null==s)return on;const u={};for(const l in s)if(s.hasOwnProperty(l)){let d=s[l],p=d;Array.isArray(d)&&(p=d[1],d=d[0]),u[d]=l,o&&(o[d]=p)}return u}function sc(s){return ot(()=>{const o=oc(s);return Yl(o),o})}function Kl(s){return{type:s.type,name:s.name,factory:null,pure:!1!==s.pure,standalone:!0===s.standalone,onDestroy:s.type.prototype.ngOnDestroy||null}}function jt(s){return s[Pi]||null}function Yn(s){return s[fo]||null}function Qn(s){return s[ja]||null}function ns(s){const o=jt(s)||Yn(s)||Qn(s);return null!==o&&o.standalone}function bn(s,o){const u=s[Bl]||null;if(!u&&!0===o)throw new Error(`Type ${Be(s)} does not have '\u0275mod' property.`);return u}function oc(s){const o={};return{type:s.type,providersResolver:null,factory:null,hostBindings:s.hostBindings||null,hostVars:s.hostVars||0,hostAttrs:s.hostAttrs||null,contentQueries:s.contentQueries||null,declaredInputs:o,inputTransforms:null,inputConfig:s.inputs||on,exportAs:s.exportAs||null,standalone:!0===s.standalone,signals:!0===s.signals,selectors:s.selectors||at,viewQuery:s.viewQuery||null,features:s.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:Cf(s.inputs,o),outputs:Cf(s.outputs)}}function Yl(s){s.features?.forEach(o=>o(s))}function Hr(s,o){if(!s)return null;const u=o?Qn:ql;return()=>("function"==typeof s?s():s).map(l=>u(l)).filter(Wl)}const pn=0,Le=1,It=2,un=3,Fi=4,zo=5,Hn=6,li=7,Cn=8,po=9,di=10,Dt=11,Go=12,Es=13,Li=14,cn=15,za=16,Ga=17,rs=18,ac=19,Is=20,go=21,hi=22,uc=23,mo=24,St=25,Jl=1,Tf=2,fi=7,Wo=9,Jn=11;function _r(s){return Array.isArray(s)&&"object"==typeof s[Jl]}function cr(s){return Array.isArray(s)&&!0===s[Jl]}function Ko(s){return 0!=(4&s.flags)}function Ds(s){return s.componentOffset>-1}function qa(s){return 1==(1&s.flags)}function pi(s){return!!s.template}function Xl(s){return 0!=(512&s[It])}function zs(s,o){return s.hasOwnProperty(ki)?s[ki]:null}let Ly=fn.WeakRef??class wE{constructor(o){this.ref=o}deref(){return this.ref}},EE=0,Ui=null,sd=!1;function Fn(s){const o=Ui;return Ui=s,o}class Vy{constructor(){this.id=EE++,this.ref=function pc(s){return new Ly(s)}(this),this.producers=new Map,this.consumers=new Map,this.trackingVersion=0,this.valueVersion=0}consumerPollProducersForChange(){for(const[o,u]of this.producers){const l=u.producerNode.deref();if(null!=l&&u.atTrackingVersion===this.trackingVersion){if(l.producerPollStatus(u.seenValueVersion))return!0}else this.producers.delete(o),l?.consumers.delete(this.id)}return!1}producerMayHaveChanged(){const o=sd;sd=!0;try{for(const[u,l]of this.consumers){const d=l.consumerNode.deref();null!=d&&d.trackingVersion===l.atTrackingVersion?d.onConsumerDependencyMayHaveChanged():(this.consumers.delete(u),d?.producers.delete(this.id))}}finally{sd=o}}producerAccessed(){if(sd)throw new Error("");if(null===Ui)return;let o=Ui.producers.get(this.id);void 0===o?(o={consumerNode:Ui.ref,producerNode:this.ref,seenValueVersion:this.valueVersion,atTrackingVersion:Ui.trackingVersion},Ui.producers.set(this.id,o),this.consumers.set(Ui.id,o)):(o.seenValueVersion=this.valueVersion,o.atTrackingVersion=Ui.trackingVersion)}get hasProducers(){return this.producers.size>0}get producerUpdatesAllowed(){return!1!==Ui?.consumerAllowSignalWrites}producerPollStatus(o){return this.valueVersion!==o||(this.onProducerUpdateValueVersion(),this.valueVersion!==o)}}let ud=null;function CE(s){const o=Fn(null);try{return s()}finally{Fn(o)}}const Yo=()=>{};class jy extends Vy{constructor(o,u,l){super(),this.watch=o,this.schedule=u,this.dirty=!1,this.cleanupFn=Yo,this.registerOnCleanup=d=>{this.cleanupFn=d},this.consumerAllowSignalWrites=l}notify(){this.dirty||this.schedule(this),this.dirty=!0}onConsumerDependencyMayHaveChanged(){this.notify()}onProducerUpdateValueVersion(){}run(){if(this.dirty=!1,0!==this.trackingVersion&&!this.consumerPollProducersForChange())return;const o=Fn(this);this.trackingVersion++;try{this.cleanupFn(),this.cleanupFn=Yo,this.watch(this.registerOnCleanup)}finally{Fn(o)}}cleanup(){this.cleanupFn()}}class gc{constructor(o,u,l){this.previousValue=o,this.currentValue=u,this.firstChange=l}isFirstChange(){return this.firstChange}}function Pf(){return kf}function kf(s){return s.type.prototype.ngOnChanges&&(s.setInput=Ka),ld}function ld(){const s=mc(this),o=s?.current;if(o){const u=s.previous;if(u===on)s.previous=o;else for(let l in o)u[l]=o[l];s.current=null,this.ngOnChanges(o)}}function Ka(s,o,u,l){const d=this.declaredInputs[u],p=mc(s)||function Hy(s,o){return s[$y]=o}(s,{previous:on,current:null}),_=p.current||(p.current={}),w=p.previous,D=w[d];_[d]=new gc(D&&D.currentValue,o,w===on),s[l]=o}Pf.ngInherit=!0;const $y="__ngSimpleChanges__";function mc(s){return s[$y]||null}const Bi=function(s,o,u){},Ff="svg";function rn(s){for(;Array.isArray(s);)s=s[pn];return s}function gi(s,o){return rn(o[s])}function zn(s,o){return rn(o[s.index])}function Uf(s,o){return s.data[o]}function Jo(s,o){return s[o]}function mi(s,o){const u=o[s];return _r(u)?u:u[pn]}function ji(s,o){return null==o?null:s[o]}function yc(s){s[Ga]=0}function Xo(s){1024&s[It]||(s[It]|=1024,qy(s,1))}function fd(s){1024&s[It]&&(s[It]&=-1025,qy(s,-1))}function qy(s,o){let u=s[un];if(null===u)return;u[zo]+=o;let l=u;for(u=u[un];null!==u&&(1===o&&1===l[zo]||-1===o&&0===l[zo]);)u[zo]+=o,l=u,u=u[un]}const ht={lFrame:wd(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function ea(){return ht.bindingsEnabled}function ge(){return ht.lFrame.lView}function $t(){return ht.lFrame.tView}function md(s){return ht.lFrame.contextLView=s,s[Cn]}function $f(s){return ht.lFrame.contextLView=null,s}function Tn(){let s=wc();for(;null!==s&&64===s.type;)s=s.parent;return s}function wc(){return ht.lFrame.currentTNode}function yi(s,o){const u=ht.lFrame;u.currentTNode=s,u.isParent=o}function yd(){return ht.lFrame.isParent}function Ec(){ht.lFrame.isParent=!1}function gn(){const s=ht.lFrame;let o=s.bindingRootIndex;return-1===o&&(o=s.bindingRootIndex=s.tView.bindingStartIndex),o}function Gs(){return ht.lFrame.bindingIndex++}function bs(s){const o=ht.lFrame,u=o.bindingIndex;return o.bindingIndex=o.bindingIndex+s,u}function SE(s,o){const u=ht.lFrame;u.bindingIndex=u.bindingRootIndex=s,Gf(o)}function Gf(s){ht.lFrame.currentDirectiveIndex=s}function qf(s){const o=ht.lFrame.currentDirectiveIndex;return-1===o?null:s[o]}function Ic(){return ht.lFrame.currentQueryIndex}function Wf(s){ht.lFrame.currentQueryIndex=s}function AE(s){const o=s[Le];return 2===o.type?o.declTNode:1===o.type?s[Hn]:null}function e_(s,o,u){if(u&mt.SkipSelf){let d=o,p=s;for(;!(d=d.parent,null!==d||u&mt.Host||(d=AE(p),null===d||(p=p[Li],10&d.type))););if(null===d)return!1;o=d,s=p}const l=ht.lFrame=Zf();return l.currentTNode=o,l.lView=s,!0}function ta(s){const o=Zf(),u=s[Le];ht.lFrame=o,o.currentTNode=u.firstChild,o.lView=s,o.tView=u,o.contextLView=s,o.bindingIndex=u.bindingStartIndex,o.inI18n=!1}function Zf(){const s=ht.lFrame,o=null===s?null:s.child;return null===o?wd(s):o}function wd(s){const o={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:s,child:null,inI18n:!1};return null!==s&&(s.child=o),o}function Ed(){const s=ht.lFrame;return ht.lFrame=s.parent,s.currentTNode=null,s.lView=null,s}const t_=Ed;function Kf(){const s=Ed();s.isParent=!0,s.tView=null,s.selectedIndex=-1,s.contextLView=null,s.elementDepthCount=0,s.currentDirectiveIndex=-1,s.currentNamespace=null,s.bindingRootIndex=-1,s.bindingIndex=-1,s.currentQueryIndex=0}function Sr(){return ht.lFrame.selectedIndex}function na(s){ht.lFrame.selectedIndex=s}function mn(){const s=ht.lFrame;return Uf(s.tView,s.selectedIndex)}function _i(){ht.lFrame.currentNamespace=Ff}let Ar=!0;function yo(){return Ar}function ss(s){Ar=s}function ra(s,o){for(let u=o.directiveStart,l=o.directiveEnd;u<l;u++){const p=s.data[u].type.prototype,{ngAfterContentInit:_,ngAfterContentChecked:w,ngAfterViewInit:D,ngAfterViewChecked:C,ngOnDestroy:A}=p;_&&(s.contentHooks??=[]).push(-u,_),w&&((s.contentHooks??=[]).push(u,w),(s.contentCheckHooks??=[]).push(u,w)),D&&(s.viewHooks??=[]).push(-u,D),C&&((s.viewHooks??=[]).push(u,C),(s.viewCheckHooks??=[]).push(u,C)),null!=A&&(s.destroyHooks??=[]).push(u,A)}}function Qa(s,o,u){Zt(s,o,3,u)}function os(s,o,u,l){(3&s[It])===u&&Zt(s,o,u,l)}function Cs(s,o){let u=s[It];(3&u)===o&&(u&=8191,u+=1,s[It]=u)}function Zt(s,o,u,l){const p=l??-1,_=o.length-1;let w=0;for(let D=void 0!==l?65535&s[Ga]:0;D<_;D++)if("number"==typeof o[D+1]){if(w=o[D],null!=l&&w>=l)break}else o[D]<0&&(s[Ga]+=65536),(w<p||-1==p)&&(s_(s,u,o,D),s[Ga]=(4294901760&s[Ga])+D+2),D++}function Yf(s,o){Bi(4,s,o);const u=Fn(null);try{o.call(s)}finally{Fn(u),Bi(5,s,o)}}function s_(s,o,u,l){const d=u[l]<0,p=u[l+1],w=s[d?-u[l]:u[l]];d?s[It]>>13<s[Ga]>>16&&(3&s[It])===o&&(s[It]+=8192,Yf(w,p)):Yf(w,p)}const Ts=-1;class as{constructor(o,u,l){this.factory=o,this.resolving=!1,this.canSeeViewProviders=u,this.injectImpl=l}}function _o(s){return s!==Ts}function Ss(s){return 32767&s}function Ws(s,o){let u=function Dd(s){return s>>16}(s),l=o;for(;u>0;)l=l[Li],u--;return l}let ia=!0;function sa(s){const o=ia;return ia=s,o}const As=255,aa=5;let Mr=0;const zr={};function Vn(s,o){const u=vo(s,o);if(-1!==u)return u;const l=o[Le];l.firstCreatePass&&(s.injectorIndex=o.length,Sn(l.data,s),Sn(o,null),Sn(l.blueprint,null));const d=Dc(s,o),p=s.injectorIndex;if(_o(d)){const _=Ss(d),w=Ws(d,o),D=w[Le].data;for(let C=0;C<8;C++)o[p+C]=w[_+C]|D[_+C]}return o[p+8]=d,p}function Sn(s,o){s.push(0,0,0,0,0,0,0,0,o)}function vo(s,o){return-1===s.injectorIndex||s.parent&&s.parent.injectorIndex===s.injectorIndex||null===o[s.injectorIndex+8]?-1:s.injectorIndex}function Dc(s,o){if(s.parent&&-1!==s.parent.injectorIndex)return s.parent.injectorIndex;let u=0,l=null,d=o;for(;null!==d;){if(l=op(d),null===l)return Ts;if(u++,d=d[Li],-1!==l.injectorIndex)return l.injectorIndex|u<<16}return Ts}function Gr(s,o,u){!function tp(s,o,u){let l;"string"==typeof u?l=u.charCodeAt(0)||0:u.hasOwnProperty(ci)&&(l=u[ci]),null==l&&(l=u[ci]=Mr++);const d=l&As;o.data[s+(d>>aa)]|=1<<d}(s,o,u)}function eu(s,o,u){if(u&mt.Optional||void 0!==s)return s;Qi()}function tu(s,o,u,l){if(u&mt.Optional&&void 0===l&&(l=null),!(u&(mt.Self|mt.Host))){const d=s[po],p=zt(void 0);try{return d?d.get(o,l,u&mt.Optional):_s(o,l,u&mt.Optional)}finally{zt(p)}}return eu(l,0,u)}function np(s,o,u,l=mt.Default,d){if(null!==s){if(2048&o[It]&&!(l&mt.Self)){const _=function ru(s,o,u,l,d){let p=s,_=o;for(;null!==p&&null!==_&&2048&_[It]&&!(512&_[It]);){const w=Hi(p,_,u,l|mt.Self,zr);if(w!==zr)return w;let D=p.parent;if(!D){const C=_[Is];if(C){const A=C.get(u,zr,l);if(A!==zr)return A}D=op(_),_=_[Li]}p=D}return d}(s,o,u,l,zr);if(_!==zr)return _}const p=Hi(s,o,u,l,zr);if(p!==zr)return p}return tu(o,u,l,d)}function Hi(s,o,u,l,d){const p=function bd(s){if("string"==typeof s)return s.charCodeAt(0)||0;const o=s.hasOwnProperty(ci)?s[ci]:void 0;return"number"==typeof o?o>=0?o&As:sp:o}(u);if("function"==typeof p){if(!e_(o,s,l))return l&mt.Host?eu(d,0,l):tu(o,u,l,d);try{let _;if(_=p(l),null!=_||l&mt.Optional)return _;Qi()}finally{t_()}}else if("number"==typeof p){let _=null,w=vo(s,o),D=Ts,C=l&mt.Host?o[cn][Hn]:null;for((-1===w||l&mt.SkipSelf)&&(D=-1===w?Dc(s,o):o[w+8],D!==Ts&&nu(l,!1)?(_=o[Le],w=Ss(D),o=Ws(D,o)):w=-1);-1!==w;){const A=o[Le];if(rp(p,w,A.data)){const x=wo(w,o,u,_,l,C);if(x!==zr)return x}D=o[w+8],D!==Ts&&nu(l,o[Le].data[w+8]===C)&&rp(p,w,o)?(_=A,w=Ss(D),o=Ws(D,o)):w=-1}}return d}function wo(s,o,u,l,d,p){const _=o[Le],w=_.data[s+8],A=In(w,_,u,null==l?Ds(w)&&ia:l!=_&&0!=(3&w.type),d&mt.Host&&p===w);return null!==A?xr(o,_,A,w):zr}function In(s,o,u,l,d){const p=s.providerIndexes,_=o.data,w=1048575&p,D=s.directiveStart,A=p>>20,V=d?w+A:s.directiveEnd;for(let H=l?w:w+A;H<V;H++){const oe=_[H];if(H<D&&u===oe||H>=D&&oe.type===u)return H}if(d){const H=_[D];if(H&&pi(H)&&H.type===u)return D}return null}function xr(s,o,u,l){let d=s[u];const p=o.data;if(function Qf(s){return s instanceof as}(d)){const _=d;_.resolving&&function _n(s,o){const u=o?`. Dependency path: ${o.join(" > ")} > ${s}`:"";throw new K(-200,`Circular dependency in DI detected for ${s}${u}`)}(function Fe(s){return"function"==typeof s?s.name||s.toString():"object"==typeof s&&null!=s&&"function"==typeof s.type?s.type.name||s.type.toString():ve(s)}(p[u]));const w=sa(_.canSeeViewProviders);_.resolving=!0;const C=_.injectImpl?zt(_.injectImpl):null;e_(s,l,mt.Default);try{d=s[u]=_.factory(void 0,p,s,l),o.firstCreatePass&&u>=l.directiveStart&&function i_(s,o,u){const{ngOnChanges:l,ngOnInit:d,ngDoCheck:p}=o.type.prototype;if(l){const _=kf(o);(u.preOrderHooks??=[]).push(s,_),(u.preOrderCheckHooks??=[]).push(s,_)}d&&(u.preOrderHooks??=[]).push(0-s,d),p&&((u.preOrderHooks??=[]).push(s,p),(u.preOrderCheckHooks??=[]).push(s,p))}(u,p[u],o)}finally{null!==C&&zt(C),sa(w),_.resolving=!1,t_()}}return d}function rp(s,o,u){return!!(u[o+(s>>aa)]&1<<s)}function nu(s,o){return!(s&mt.Self||s&mt.Host&&o)}class Xn{constructor(o,u){this._tNode=o,this._lView=u}get(o,u,l){return np(this._tNode,this._lView,o,ws(l),u)}}function sp(){return new Xn(Tn(),ge())}function bc(s){return ot(()=>{const o=s.prototype.constructor,u=o[ki]||vt(o),l=Object.prototype;let d=Object.getPrototypeOf(s.prototype).constructor;for(;d&&d!==l;){const p=d[ki]||vt(d);if(p&&p!==u)return p;d=Object.getPrototypeOf(d)}return p=>new p})}function vt(s){return ye(s)?()=>{const o=vt(De(s));return o&&o()}:zs(s)}function op(s){const o=s[Le],u=o.type;return 2===u?o.declTNode:1===u?s[Hn]:null}function us(s){return function vr(s,o){if("class"===o)return s.classes;if("style"===o)return s.styles;const u=s.attrs;if(u){const l=u.length;let d=0;for(;d<l;){const p=u[d];if(wn(p))break;if(0===p)d+=2;else if("number"==typeof p)for(d++;d<l&&"string"==typeof u[d];)d++;else{if(p===o)return u[d+1];d+=2}}}return null}(Tn(),s)}const la="__parameters__";function qr(s,o,u){return ot(()=>{const l=function Eo(s){return function(...u){if(s){const l=s(...u);for(const d in l)this[d]=l[d]}}}(o);function d(...p){if(this instanceof d)return l.apply(this,p),this;const _=new d(...p);return w.annotation=_,w;function w(D,C,A){const x=D.hasOwnProperty(la)?D[la]:Object.defineProperty(D,la,{value:[]})[la];for(;x.length<=A;)x.push(null);return(x[A]=x[A]||[]).push(_),D}}return u&&(d.prototype=Object.create(u.prototype)),d.prototype.ngMetadataName=s,d.annotationCls=d,d})}function Zs(s,o){s.forEach(u=>Array.isArray(u)?Zs(u,o):o(u))}function up(s,o,u){o>=s.length?s.push(u):s.splice(o,0,u)}function Io(s,o){return o>=s.length-1?s.pop():s.splice(o,1)[0]}function er(s,o,u){let l=xs(s,o);return l>=0?s[1|l]=u:(l=~l,function Ad(s,o,u,l){let d=s.length;if(d==o)s.push(u,l);else if(1===d)s.push(l,s[0]),s[0]=u;else{for(d--,s.push(s[d-1],s[d]);d>o;)s[d]=s[d-2],d--;s[o]=u,s[o+1]=l}}(s,l,o,u)),l}function Tc(s,o){const u=xs(s,o);if(u>=0)return s[1|u]}function xs(s,o){return function d_(s,o,u){let l=0,d=s.length>>u;for(;d!==l;){const p=l+(d-l>>1),_=s[p<<u];if(o===_)return p<<u;_>o?d=p:l=p+1}return~(d<<u)}(s,o,1)}const iu=ie(qr("Optional"),8),xc=ie(qr("SkipSelf"),4);function fa(s){return 128==(128&s.flags)}var Nc=function(s){return s[s.Important=1]="Important",s[s.DashCase=2]="DashCase",s}(Nc||{});const m_=/^>|^->|<!--|-->|--!>|<!-$/g,bo=/(<|>)/g,Rc="\u200b$1\u200b";const mp=new Map;let $S=0;const Fd="__ngContext__";function hr(s,o){_r(o)?(s[Fd]=o[ac],function FE(s){mp.set(s[ac],s)}(o)):s[Fd]=o}let wp;function Ep(s,o){return wp(s,o)}function Ip(s){const o=s[un];return cr(o)?o[un]:o}function WS(s){return ZS(s[Go])}function jE(s){return ZS(s[Fi])}function ZS(s){for(;null!==s&&!cr(s);)s=s[Fi];return s}function kc(s,o,u,l,d){if(null!=l){let p,_=!1;cr(l)?p=l:_r(l)&&(_=!0,l=l[pn]);const w=rn(l);0===s&&null!==u?null==d?zE(o,u,w):du(o,u,w,d||null,!0):1===s&&null!==u?du(o,u,w,d||null,!0):2===s?function xp(s,o,u){const l=Ap(s,o);l&&function XS(s,o,u,l){s.removeChild(o,u,l)}(s,l,o,u)}(o,w,_):3===s&&o.destroyNode(w),null!=p&&function Np(s,o,u,l,d){const p=u[fi];p!==rn(u)&&kc(o,s,l,p,d);for(let w=Jn;w<u.length;w++){const D=u[w];$d(D[Le],D,s,o,l,p)}}(o,s,p,u,d)}}function Gi(s,o){return s.createComment(function y_(s){return s.replace(m_,o=>o.replace(bo,Rc))}(o))}function Cp(s,o,u){return s.createElement(o,u)}function HE(s,o){const u=s[Wo],l=u.indexOf(o);fd(o),u.splice(l,1)}function Sp(s,o){if(s.length<=Jn)return;const u=Jn+o,l=s[u];if(l){const d=l[za];null!==d&&d!==s&&HE(d,l),o>0&&(s[u-1][Fi]=l[Fi]);const p=Io(s,Jn+o);!function Ud(s,o){$d(s,o,o[Dt],2,null,null),o[pn]=null,o[Hn]=null}(l[Le],l);const _=p[rs];null!==_&&_.detachView(p[Le]),l[un]=null,l[Fi]=null,l[It]&=-129}return l}function pa(s,o){if(!(256&o[It])){const u=o[Dt];o[uc]?.destroy(),o[mo]?.destroy(),u.destroyNode&&$d(s,o,u,3,null,null),function YS(s){let o=s[Go];if(!o)return cu(s[Le],s);for(;o;){let u=null;if(_r(o))u=o[Go];else{const l=o[Jn];l&&(u=l)}if(!u){for(;o&&!o[Fi]&&o!==s;)_r(o)&&cu(o[Le],o),o=o[un];null===o&&(o=s),_r(o)&&cu(o[Le],o),u=o&&o[Fi]}o=u}}(o)}}function cu(s,o){if(!(256&o[It])){o[It]&=-129,o[It]|=256,function JS(s,o){let u;if(null!=s&&null!=(u=s.destroyHooks))for(let l=0;l<u.length;l+=2){const d=o[u[l]];if(!(d instanceof as)){const p=u[l+1];if(Array.isArray(p))for(let _=0;_<p.length;_+=2){const w=d[p[_]],D=p[_+1];Bi(4,w,D);try{D.call(w)}finally{Bi(5,w,D)}}else{Bi(4,d,p);try{p.call(d)}finally{Bi(5,d,p)}}}}}(s,o),function QS(s,o){const u=s.cleanup,l=o[li];if(null!==u)for(let p=0;p<u.length-1;p+=2)if("string"==typeof u[p]){const _=u[p+3];_>=0?l[_]():l[-_].unsubscribe(),p+=2}else u[p].call(l[u[p+1]]);null!==l&&(o[li]=null);const d=o[go];if(null!==d){o[go]=null;for(let p=0;p<d.length;p++)(0,d[p])()}}(s,o),1===o[Le].type&&o[Dt].destroy();const u=o[za];if(null!==u&&cr(o[un])){u!==o[un]&&HE(u,o);const l=o[rs];null!==l&&l.detachView(s)}!function yp(s){mp.delete(s[ac])}(o)}}function lu(s,o,u){return function Fc(s,o,u){let l=o;for(;null!==l&&40&l.type;)l=(o=l).parent;if(null===l)return u[pn];{const{componentOffset:d}=l;if(d>-1){const{encapsulation:p}=s.data[l.directiveStart+d];if(p===Ft.None||p===Ft.Emulated)return null}return zn(l,u)}}(s,o.parent,u)}function du(s,o,u,l,d){s.insertBefore(o,u,l,d)}function zE(s,o,u){s.appendChild(o,u)}function GE(s,o,u,l,d){null!==l?du(s,o,u,l,d):zE(s,o,u)}function Ap(s,o){return s.parentNode(o)}let ga,Rp,S_,hu,Bd=function E_(s,o,u){return 40&s.type?zn(s,u):null};function Mp(s,o,u,l){const d=lu(s,l,o),p=o[Dt],w=function qE(s,o,u){return Bd(s,o,u)}(l.parent||o[Hn],l,o);if(null!=d)if(Array.isArray(u))for(let D=0;D<u.length;D++)GE(p,d,u[D],w,!1);else GE(p,d,u,w,!1);void 0!==ga&&ga(p,l,o,u,d)}function jd(s,o){if(null!==o){const u=o.type;if(3&u)return zn(o,s);if(4&u)return I_(-1,s[o.index]);if(8&u){const l=o.child;if(null!==l)return jd(s,l);{const d=s[o.index];return cr(d)?I_(-1,d):rn(d)}}if(32&u)return Ep(o,s)()||rn(s[o.index]);{const l=ZE(s,o);return null!==l?Array.isArray(l)?l[0]:jd(Ip(s[cn]),l):jd(s,o.next)}}return null}function ZE(s,o){return null!==o?s[cn][Hn].projection[o.projection]:null}function I_(s,o){const u=Jn+s+1;if(u<o.length){const l=o[u],d=l[Le].firstChild;if(null!==d)return jd(l,d)}return o[fi]}function D_(s,o,u,l,d,p,_){for(;null!=u;){const w=l[u.index],D=u.type;if(_&&0===o&&(w&&hr(rn(w),l),u.flags|=2),32!=(32&u.flags))if(8&D)D_(s,o,u.child,l,d,p,!1),kc(o,s,d,w,p);else if(32&D){const C=Ep(u,l);let A;for(;A=C();)kc(o,s,d,A,p);kc(o,s,d,w,p)}else 16&D?QE(s,o,l,u,d,p):kc(o,s,d,w,p);u=_?u.projectionNext:u.next}}function $d(s,o,u,l,d,p){D_(u,l,s.firstChild,o,d,p,!1)}function QE(s,o,u,l,d,p){const _=u[cn],D=_[Hn].projection[l.projection];if(Array.isArray(D))for(let C=0;C<D.length;C++)kc(o,s,d,D[C],p);else{let C=D;const A=_[un];fa(l)&&(C.flags|=128),D_(s,o,C,A,d,p,!0)}}function b_(s,o,u){""===u?s.removeAttribute(o,"class"):s.setAttribute(o,"class",u)}function XE(s,o,u){const{mergedAttrs:l,classes:d,styles:p}=u;null!==l&&Xu(s,o,l),null!==d&&b_(s,o,d),null!==p&&function Lc(s,o,u){s.setAttribute(o,"style",u)}(s,o,p)}function ma(s){return function C_(){if(void 0===Rp&&(Rp=null,fn.trustedTypes))try{Rp=fn.trustedTypes.createPolicy("angular",{createHTML:s=>s,createScript:s=>s,createScriptURL:s=>s})}catch{}return Rp}()?.createHTML(s)||s}function rA(s){S_=s}function Vc(){if(void 0!==S_)return S_;if(typeof document<"u")return document;throw new K(210,!1)}function A_(){if(void 0===hu&&(hu=null,fn.trustedTypes))try{hu=fn.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:s=>s,createScript:s=>s,createScriptURL:s=>s})}catch{}return hu}function eI(s){return A_()?.createHTML(s)||s}function nI(s){return A_()?.createScriptURL(s)||s}class fu{constructor(o){this.changingThisBreaksApplicationSecurity=o}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${Oe})`}}class iA extends fu{getTypeName(){return"HTML"}}class rI extends fu{getTypeName(){return"Style"}}class TP extends fu{getTypeName(){return"Script"}}class iI extends fu{getTypeName(){return"URL"}}class sI extends fu{getTypeName(){return"ResourceURL"}}function Co(s){return s instanceof fu?s.changingThisBreaksApplicationSecurity:s}function Uc(s,o){const u=function sA(s){return s instanceof fu&&s.getTypeName()||null}(s);if(null!=u&&u!==o){if("ResourceURL"===u&&"URL"===o)return!0;throw new Error(`Required a safe ${o}, got a ${u} (see ${Oe})`)}return u===o}function oA(s){return new iA(s)}function aA(s){return new rI(s)}function uA(s){return new TP(s)}function oI(s){return new iI(s)}function M_(s){return new sI(s)}class x_{constructor(o){this.inertDocumentHelper=o}getInertBodyElement(o){o="<body><remove></remove>"+o;try{const u=(new window.DOMParser).parseFromString(ma(o),"text/html").body;return null===u?this.inertDocumentHelper.getInertBodyElement(o):(u.removeChild(u.firstChild),u)}catch{return null}}}class cA{constructor(o){this.defaultDoc=o,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(o){const u=this.inertDocument.createElement("template");return u.innerHTML=ma(o),u}}const Op=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function Hd(s){return(s=String(s)).match(Op)?s:"unsafe:"+s}function Qs(s){const o={};for(const u of s.split(","))o[u]=!0;return o}function zd(...s){const o={};for(const u of s)for(const l in u)u.hasOwnProperty(l)&&(o[l]=!0);return o}const uI=Qs("area,br,col,hr,img,wbr"),cI=Qs("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),lI=Qs("rp,rt"),gu=zd(uI,zd(cI,Qs("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),zd(lI,Qs("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),zd(lI,cI)),Pp=Qs("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),dI=zd(Pp,Qs("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Qs("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),lA=Qs("script,style,template");class Ii{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(o){let u=o.firstChild,l=!0;for(;u;)if(u.nodeType===Node.ELEMENT_NODE?l=this.startElement(u):u.nodeType===Node.TEXT_NODE?this.chars(u.nodeValue):this.sanitizedSomething=!0,l&&u.firstChild)u=u.firstChild;else for(;u;){u.nodeType===Node.ELEMENT_NODE&&this.endElement(u);let d=this.checkClobberedElement(u,u.nextSibling);if(d){u=d;break}u=this.checkClobberedElement(u,u.parentNode)}return this.buf.join("")}startElement(o){const u=o.nodeName.toLowerCase();if(!gu.hasOwnProperty(u))return this.sanitizedSomething=!0,!lA.hasOwnProperty(u);this.buf.push("<"),this.buf.push(u);const l=o.attributes;for(let d=0;d<l.length;d++){const p=l.item(d),_=p.name,w=_.toLowerCase();if(!dI.hasOwnProperty(w)){this.sanitizedSomething=!0;continue}let D=p.value;Pp[w]&&(D=Hd(D)),this.buf.push(" ",_,'="',Gd(D),'"')}return this.buf.push(">"),!0}endElement(o){const u=o.nodeName.toLowerCase();gu.hasOwnProperty(u)&&!uI.hasOwnProperty(u)&&(this.buf.push("</"),this.buf.push(u),this.buf.push(">"))}chars(o){this.buf.push(Gd(o))}checkClobberedElement(o,u){if(u&&(o.compareDocumentPosition(u)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${o.outerHTML}`);return u}}const dA=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,hI=/([^\#-~ |!])/g;function Gd(s){return s.replace(/&/g,"&amp;").replace(dA,function(o){return"&#"+(1024*(o.charCodeAt(0)-55296)+(o.charCodeAt(1)-56320)+65536)+";"}).replace(hI,function(o){return"&#"+o.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let kp;function fI(s,o){let u=null;try{kp=kp||function pu(s){const o=new cA(s);return function aI(){try{return!!(new window.DOMParser).parseFromString(ma(""),"text/html")}catch{return!1}}()?new x_(o):o}(s);let l=o?String(o):"";u=kp.getInertBodyElement(l);let d=5,p=l;do{if(0===d)throw new Error("Failed to sanitize html because the input is unstable");d--,l=p,p=u.innerHTML,u=kp.getInertBodyElement(l)}while(l!==p);return ma((new Ii).sanitizeChildren(Fp(u)||u))}finally{if(u){const l=Fp(u)||u;for(;l.firstChild;)l.removeChild(l.firstChild)}}}function Fp(s){return"content"in s&&function NP(s){return s.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===s.nodeName}(s)?s.content:null}var Bc=function(s){return s[s.NONE=0]="NONE",s[s.HTML=1]="HTML",s[s.STYLE=2]="STYLE",s[s.SCRIPT=3]="SCRIPT",s[s.URL=4]="URL",s[s.RESOURCE_URL=5]="RESOURCE_URL",s}(Bc||{});function pI(s){const o=jc();return o?eI(o.sanitize(Bc.HTML,s)||""):Uc(s,"HTML")?eI(Co(s)):fI(Vc(),ve(s))}function O_(s){const o=jc();return o?o.sanitize(Bc.URL,s)||"":Uc(s,"URL")?Co(s):Hd(ve(s))}function hA(s){const o=jc();if(o)return nI(o.sanitize(Bc.RESOURCE_URL,s)||"");if(Uc(s,"ResourceURL"))return nI(Co(s));throw new K(904,!1)}function pA(s,o,u){return function RP(s,o){return"src"===o&&("embed"===s||"frame"===s||"iframe"===s||"media"===s||"script"===s)||"href"===o&&("base"===s||"link"===s)?hA:O_}(o,u)(s)}function jc(){const s=ge();return s&&s[di].sanitizer}class qt{constructor(o,u){this._desc=o,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof u?this.__NG_ELEMENT_ID__=u:void 0!==u&&(this.\u0275prov=_t({token:this,providedIn:u.providedIn||"root",factory:u.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}const qd=new qt("ENVIRONMENT_INITIALIZER"),mI=new qt("INJECTOR",-1),mA=new qt("INJECTOR_DEF_TYPES");class Lp{get(o,u=F){if(u===F){const l=new Error(`NullInjectorError: No provider for ${Be(o)}!`);throw l.name="NullInjectorError",l}return u}}function P_(s){return{\u0275providers:s}}function OP(...s){return{\u0275providers:yA(0,s),\u0275fromNgModule:!0}}function yA(s,...o){const u=[],l=new Set;let d;const p=_=>{u.push(_)};return Zs(o,_=>{const w=_;Vp(w,p,[],l)&&(d||=[],d.push(w))}),void 0!==d&&_A(d,p),u}function _A(s,o){for(let u=0;u<s.length;u++){const{ngModule:l,providers:d}=s[u];Up(d,p=>{o(p,l)})}}function Vp(s,o,u,l){if(!(s=De(s)))return!1;let d=null,p=Xi(s);const _=!p&&jt(s);if(p||_){if(_&&!_.standalone)return!1;d=s}else{const D=s.ngModule;if(p=Xi(D),!p)return!1;d=D}const w=l.has(d);if(_){if(w)return!1;if(l.add(d),_.dependencies){const D="function"==typeof _.dependencies?_.dependencies():_.dependencies;for(const C of D)Vp(C,o,u,l)}}else{if(!p)return!1;{if(null!=p.imports&&!w){let C;l.add(d);try{Zs(p.imports,A=>{Vp(A,o,u,l)&&(C||=[],C.push(A))})}finally{}void 0!==C&&_A(C,o)}if(!w){const C=zs(d)||(()=>new d);o({provide:d,useFactory:C,deps:at},d),o({provide:mA,useValue:d,multi:!0},d),o({provide:qd,useValue:()=>dt(d),multi:!0},d)}const D=p.providers;if(null!=D&&!w){const C=s;Up(D,A=>{o(A,C)})}}}return d!==s&&void 0!==s.providers}function Up(s,o){for(let u of s)le(u)&&(u=u.\u0275providers),Array.isArray(u)?Up(u,o):o(u)}const vA=ce({provide:String,useValue:ce});function k_(s){return null!==s&&"object"==typeof s&&vA in s}function mu(s){return"function"==typeof s}const L_=new qt("Set Injector scope."),Bp={},_I={};let V_;function U_(){return void 0===V_&&(V_=new Lp),V_}class So{}class B_ extends So{get destroyed(){return this._destroyed}constructor(o,u,l,d){super(),this.parent=u,this.source=l,this.scopes=d,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,ls(o,_=>this.processProvider(_)),this.records.set(mI,Y(void 0,this)),d.has("environment")&&this.records.set(So,Y(void 0,this));const p=this.records.get(L_);null!=p&&"string"==typeof p.value&&this.scopes.add(p.value),this.injectorDefTypes=new Set(this.get(mA.multi,at,mt.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const u of this._ngOnDestroyHooks)u.ngOnDestroy();const o=this._onDestroyHooks;this._onDestroyHooks=[];for(const u of o)u()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear()}}onDestroy(o){return this.assertNotDestroyed(),this._onDestroyHooks.push(o),()=>this.removeOnDestroy(o)}runInContext(o){this.assertNotDestroyed();const u=Xt(this),l=zt(void 0);try{return o()}finally{Xt(u),zt(l)}}get(o,u=F,l=mt.Default){if(this.assertNotDestroyed(),o.hasOwnProperty($a))return o[$a](this);l=ws(l);const p=Xt(this),_=zt(void 0);try{if(!(l&mt.SkipSelf)){let D=this.records.get(o);if(void 0===D){const C=function yu(s){return"function"==typeof s||"object"==typeof s&&s instanceof qt}(o)&&ys(o);D=C&&this.injectableDefInScope(C)?Y(vI(o),Bp):null,this.records.set(o,D)}if(null!=D)return this.hydrate(o,D)}return(l&mt.Self?U_():this.parent).get(o,u=l&mt.Optional&&u===F?null:u)}catch(w){if("NullInjectorError"===w.name){if((w[j]=w[j]||[]).unshift(Be(o)),p)throw w;return function be(s,o,u,l){const d=s[j];throw o[ct]&&d.unshift(o[ct]),s.message=function et(s,o,u,l=null){s=s&&"\n"===s.charAt(0)&&"\u0275"==s.charAt(1)?s.slice(2):s;let d=Be(o);if(Array.isArray(o))d=o.map(Be).join(" -> ");else if("object"==typeof o){let p=[];for(let _ in o)if(o.hasOwnProperty(_)){let w=o[_];p.push(_+":"+("string"==typeof w?JSON.stringify(w):Be(w)))}d=`{${p.join(", ")}}`}return`${u}${l?"("+l+")":""}[${d}]: ${s.replace(W,"\n  ")}`}("\n"+s.message,d,u,l),s.ngTokenPath=d,s[j]=null,s}(w,o,"R3InjectorError",this.source)}throw w}finally{zt(_),Xt(p)}}resolveInjectorInitializers(){const o=Xt(this),u=zt(void 0);try{const d=this.get(qd.multi,at,mt.Self);for(const p of d)p()}finally{Xt(o),zt(u)}}toString(){const o=[],u=this.records;for(const l of u.keys())o.push(Be(l));return`R3Injector[${o.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new K(205,!1)}processProvider(o){let u=mu(o=De(o))?o:De(o&&o.provide);const l=function kP(s){return k_(s)?Y(void 0,s.useValue):Y(wI(s),Bp)}(o);if(mu(o)||!0!==o.multi)this.records.get(u);else{let d=this.records.get(u);d||(d=Y(void 0,Bp,!0),d.factory=()=>Ho(d.multi),this.records.set(u,d)),u=o,d.multi.push(o)}this.records.set(u,l)}hydrate(o,u){return u.value===Bp&&(u.value=_I,u.value=u.factory()),"object"==typeof u.value&&u.value&&function EI(s){return null!==s&&"object"==typeof s&&"function"==typeof s.ngOnDestroy}(u.value)&&this._ngOnDestroyHooks.add(u.value),u.value}injectableDefInScope(o){if(!o.providedIn)return!1;const u=De(o.providedIn);return"string"==typeof u?"any"===u||this.scopes.has(u):this.injectorDefTypes.has(u)}removeOnDestroy(o){const u=this._onDestroyHooks.indexOf(o);-1!==u&&this._onDestroyHooks.splice(u,1)}}function vI(s){const o=ys(s),u=null!==o?o.factory:zs(s);if(null!==u)return u;if(s instanceof qt)throw new K(204,!1);if(s instanceof Function)return function PP(s){const o=s.length;if(o>0)throw function zi(s,o){const u=[];for(let l=0;l<s;l++)u.push(o);return u}(o,"?"),new K(204,!1);const u=function $s(s){return s&&(s[vn]||s[Tt])||null}(s);return null!==u?()=>u.factory(s):()=>new s}(s);throw new K(204,!1)}function wI(s,o,u){let l;if(mu(s)){const d=De(s);return zs(d)||vI(d)}if(k_(s))l=()=>De(s.useValue);else if(function yI(s){return!(!s||!s.useFactory)}(s))l=()=>s.useFactory(...Ho(s.deps||[]));else if(function F_(s){return!(!s||!s.useExisting)}(s))l=()=>dt(De(s.useExisting));else{const d=De(s&&(s.useClass||s.provide));if(!function EA(s){return!!s.deps}(s))return zs(d)||vI(d);l=()=>new d(...Ho(s.deps))}return l}function Y(s,o,u=!1){return{factory:s,value:o,multi:u?[]:void 0}}function ls(s,o){for(const u of s)Array.isArray(u)?ls(u,o):u&&le(u)?ls(u.\u0275providers,o):o(u)}const II=new qt("AppId",{providedIn:"root",factory:()=>DI}),DI="ng",bI=new qt("Platform Initializer"),j_=new qt("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),$c=new qt("AnimationModuleType"),ya=new qt("CSP nonce",{providedIn:"root",factory:()=>Vc().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});let $_=(s,o,u)=>null;function Yd(s,o,u=!1){return $_(s,o,u)}class LP{}class DA{}class Qp{resolveComponentFactory(o){throw function Yp(s){const o=Error(`No component factory found for ${Be(s)}.`);return o.ngComponent=s,o}(o)}}let eh=(()=>{class o{}return o.NULL=new Qp,o})();function G_(){return Gc(Tn(),ge())}function Gc(s,o){return new Jp(zn(s,o))}let Jp=(()=>{class o{constructor(l){this.nativeElement=l}}return o.__NG_ELEMENT_ID__=G_,o})();function VP(s){return s instanceof Jp?s.nativeElement:s}class bA{}let UP=(()=>{class o{constructor(){this.destroyNode=null}}return o.__NG_ELEMENT_ID__=()=>function BP(){const s=ge(),u=mi(Tn().index,s);return(_r(u)?u:s)[Dt]}(),o})(),jP=(()=>{var s;class o{}return(s=o).\u0275prov=_t({token:s,providedIn:"root",factory:()=>null}),o})();class CA{constructor(o){this.full=o,this.major=o.split(".")[0],this.minor=o.split(".")[1],this.patch=o.split(".").slice(2).join(".")}}const OI=new CA("16.2.3"),Xp={};function rh(s,o=null,u=null,l){const d=W_(s,o,u,l);return d.resolveInjectorInitializers(),d}function W_(s,o=null,u=null,l,d=new Set){const p=[u||at,OP(s)];return l=l||("object"==typeof s?void 0:Be(s)),new B_(p,o||U_(),l||null,d)}let ds=(()=>{var s;class o{static create(l,d){if(Array.isArray(l))return rh({name:""},d,l,"");{const p=l.name??"";return rh({name:p},l.parent,l.providers,p)}}}return(s=o).THROW_IF_NOT_FOUND=F,s.NULL=new Lp,s.\u0275prov=_t({token:s,providedIn:"any",factory:()=>dt(mI)}),s.__NG_ELEMENT_ID__=-1,o})();function ng(s){return o=>{setTimeout(s,void 0,o)}}const Ao=class HP extends h.x{constructor(o=!1){super(),this.__isAsync=o}emit(o){super.next(o)}subscribe(o,u,l){let d=o,p=u||(()=>null),_=l;if(o&&"object"==typeof o){const D=o;d=D.next?.bind(D),p=D.error?.bind(D),_=D.complete?.bind(D)}this.__isAsync&&(p=ng(p),d&&(d=ng(d)),_&&(_=ng(_)));const w=super.subscribe({next:d,error:p,complete:_});return o instanceof k.w0&&o.add(w),w}};function _a(...s){}class Pn{constructor({enableLongStackTrace:o=!1,shouldCoalesceEventChangeDetection:u=!1,shouldCoalesceRunChangeDetection:l=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Ao(!1),this.onMicrotaskEmpty=new Ao(!1),this.onStable=new Ao(!1),this.onError=new Ao(!1),typeof Zone>"u")throw new K(908,!1);Zone.assertZonePatched();const d=this;d._nesting=0,d._outer=d._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(d._inner=d._inner.fork(new Zone.TaskTrackingZoneSpec)),o&&Zone.longStackTraceZoneSpec&&(d._inner=d._inner.fork(Zone.longStackTraceZoneSpec)),d.shouldCoalesceEventChangeDetection=!l&&u,d.shouldCoalesceRunChangeDetection=l,d.lastRequestAnimationFrameId=-1,d.nativeRequestAnimationFrame=function sh(){const s="function"==typeof fn.requestAnimationFrame;let o=fn[s?"requestAnimationFrame":"setTimeout"],u=fn[s?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&o&&u){const l=o[Zone.__symbol__("OriginalDelegate")];l&&(o=l);const d=u[Zone.__symbol__("OriginalDelegate")];d&&(u=d)}return{nativeRequestAnimationFrame:o,nativeCancelAnimationFrame:u}}().nativeRequestAnimationFrame,function K_(s){const o=()=>{!function AA(s){s.isCheckStableRunning||-1!==s.lastRequestAnimationFrameId||(s.lastRequestAnimationFrameId=s.nativeRequestAnimationFrame.call(fn,()=>{s.fakeTopEventTask||(s.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{s.lastRequestAnimationFrameId=-1,Zc(s),s.isCheckStableRunning=!0,Wc(s),s.isCheckStableRunning=!1},void 0,()=>{},()=>{})),s.fakeTopEventTask.invoke()}),Zc(s))}(s)};s._inner=s._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(u,l,d,p,_,w)=>{try{return kI(s),u.invokeTask(d,p,_,w)}finally{(s.shouldCoalesceEventChangeDetection&&"eventTask"===p.type||s.shouldCoalesceRunChangeDetection)&&o(),FI(s)}},onInvoke:(u,l,d,p,_,w,D)=>{try{return kI(s),u.invoke(d,p,_,w,D)}finally{s.shouldCoalesceRunChangeDetection&&o(),FI(s)}},onHasTask:(u,l,d,p)=>{u.hasTask(d,p),l===d&&("microTask"==p.change?(s._hasPendingMicrotasks=p.microTask,Zc(s),Wc(s)):"macroTask"==p.change&&(s.hasPendingMacrotasks=p.macroTask))},onHandleError:(u,l,d,p)=>(u.handleError(d,p),s.runOutsideAngular(()=>s.onError.emit(p)),!1)})}(d)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Pn.isInAngularZone())throw new K(909,!1)}static assertNotInAngularZone(){if(Pn.isInAngularZone())throw new K(909,!1)}run(o,u,l){return this._inner.run(o,u,l)}runTask(o,u,l,d){const p=this._inner,_=p.scheduleEventTask("NgZoneEvent: "+d,o,rg,_a,_a);try{return p.runTask(_,u,l)}finally{p.cancelTask(_)}}runGuarded(o,u,l){return this._inner.runGuarded(o,u,l)}runOutsideAngular(o){return this._outer.run(o)}}const rg={};function Wc(s){if(0==s._nesting&&!s.hasPendingMicrotasks&&!s.isStable)try{s._nesting++,s.onMicrotaskEmpty.emit(null)}finally{if(s._nesting--,!s.hasPendingMicrotasks)try{s.runOutsideAngular(()=>s.onStable.emit(null))}finally{s.isStable=!0}}}function Zc(s){s.hasPendingMicrotasks=!!(s._hasPendingMicrotasks||(s.shouldCoalesceEventChangeDetection||s.shouldCoalesceRunChangeDetection)&&-1!==s.lastRequestAnimationFrameId)}function kI(s){s._nesting++,s.isStable&&(s.isStable=!1,s.onUnstable.emit(null))}function FI(s){s._nesting--,Wc(s)}class LI{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Ao,this.onMicrotaskEmpty=new Ao,this.onStable=new Ao,this.onError=new Ao}run(o,u,l){return o.apply(u,l)}runGuarded(o,u,l){return o.apply(u,l)}runOutsideAngular(o){return o()}runTask(o,u,l,d){return o.apply(u,l)}}const VI=new qt("",{providedIn:"root",factory:Y_});function Y_(){const s=Vt(Pn);let o=!0;const u=new re.y(d=>{o=s.isStable&&!s.hasPendingMacrotasks&&!s.hasPendingMicrotasks,s.runOutsideAngular(()=>{d.next(o),d.complete()})}),l=new re.y(d=>{let p;s.runOutsideAngular(()=>{p=s.onStable.subscribe(()=>{Pn.assertNotInAngularZone(),queueMicrotask(()=>{!o&&!s.hasPendingMacrotasks&&!s.hasPendingMicrotasks&&(o=!0,d.next(!0))})})});const _=s.onUnstable.subscribe(()=>{Pn.assertInAngularZone(),o&&(o=!1,s.runOutsideAngular(()=>{d.next(!1)}))});return()=>{p.unsubscribe(),_.unsubscribe()}});return(0,se.T)(u,l.pipe((0,Pe.B)()))}function wa(s){return s instanceof Function?s():s}let ah=(()=>{var s;class o{constructor(){this.callbacks=new Set,this.deferredCallbacks=new Set,this.renderDepth=0,this.runningCallbacks=!1}begin(){if(this.runningCallbacks)throw new K(102,!1);this.renderDepth++}end(){if(this.renderDepth--,0===this.renderDepth)try{this.runningCallbacks=!0;for(const l of this.callbacks)l.invoke()}finally{this.runningCallbacks=!1;for(const l of this.deferredCallbacks)this.callbacks.add(l);this.deferredCallbacks.clear()}}register(l){(this.runningCallbacks?this.deferredCallbacks:this.callbacks).add(l)}unregister(l){this.callbacks.delete(l),this.deferredCallbacks.delete(l)}ngOnDestroy(){this.callbacks.clear(),this.deferredCallbacks.clear()}}return(s=o).\u0275prov=_t({token:s,providedIn:"root",factory:()=>new s}),o})();function uh(s){for(;s;){s[It]|=64;const o=Ip(s);if(Xl(s)&&!o)return s;s=o}return null}function Iu(s){return s.ngOriginalError}class Ea{constructor(){this._console=console}handleError(o){const u=this._findOriginalError(o);this._console.error("ERROR",o),u&&this._console.error("ORIGINAL ERROR",u)}_findOriginalError(o){let u=o&&Iu(o);for(;u&&Iu(u);)u=Iu(u);return u||null}}const Kc=new qt("",{providedIn:"root",factory:()=>!1});class lh extends Vy{constructor(){super(...arguments),this.consumerAllowSignalWrites=!1,this._lView=null}set lView(o){this._lView=o}onConsumerDependencyMayHaveChanged(){uh(this._lView)}onProducerUpdateValueVersion(){}get hasReadASignal(){return this.hasProducers}runInContext(o,u,l){const d=Fn(this);this.trackingVersion++;try{o(u,l)}finally{Fn(d)}}destroy(){this.trackingVersion++}}let ig=null;function tv(){return ig??=new lh,ig}function $I(s,o){return s[o]??tv()}function FA(s,o){const u=tv();u.hasReadASignal&&(s[o]=ig,u.lView=s,ig=new lh)}const bt={};function HI(s){nv($t(),ge(),Sr()+s,!1)}function nv(s,o,u,l){if(!l)if(3==(3&o[It])){const p=s.preOrderCheckHooks;null!==p&&Qa(o,p,u)}else{const p=s.preOrderHooks;null!==p&&os(o,p,0,u)}na(u)}function Yc(s,o=mt.Default){const u=ge();return null===u?dt(s,o):np(Tn(),u,De(s),o)}function rv(){throw new Error("invalid")}function sg(s,o,u,l,d,p,_,w,D,C,A){const x=o.blueprint.slice();return x[pn]=d,x[It]=140|l,(null!==C||s&&2048&s[It])&&(x[It]|=2048),yc(x),x[un]=x[Li]=s,x[Cn]=u,x[di]=_||s&&s[di],x[Dt]=w||s&&s[Dt],x[po]=D||s&&s[po]||null,x[Hn]=p,x[ac]=function Oc(){return $S++}(),x[hi]=A,x[Is]=C,x[cn]=2==o.type?s[cn]:x,x}function Du(s,o,u,l,d){let p=s.data[o];if(null===p)p=function sv(s,o,u,l,d){const p=wc(),_=yd(),D=s.data[o]=function WI(s,o,u,l,d,p){let _=o?o.injectorIndex:-1,w=0;return function Ya(){return null!==ht.skipHydrationRootTNode}()&&(w|=128),{type:u,index:l,insertBeforeIndex:null,injectorIndex:_,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:w,providerIndexes:0,value:d,attrs:p,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:o,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,_?p:p&&p.parent,u,o,l,d);return null===s.firstChild&&(s.firstChild=D),null!==p&&(_?null==p.child&&null!==D.parent&&(p.child=D):null===p.next&&(p.next=D,D.prev=p)),D}(s,o,u,l,d),function Qy(){return ht.lFrame.inI18n}()&&(p.flags|=32);else if(64&p.type){p.type=u,p.value=l,p.attrs=d;const _=function $i(){const s=ht.lFrame,o=s.currentTNode;return s.isParent?o:o.parent}();p.injectorIndex=null===_?-1:_.injectorIndex}return yi(p,!0),p}function eo(s,o,u,l){if(0===u)return-1;const d=o.length;for(let p=0;p<u;p++)o.push(l),s.blueprint.push(l),s.data.push(null);return d}function zI(s,o,u,l,d){const p=$I(o,uc),_=Sr(),w=2&l;try{if(na(-1),w&&o.length>St&&nv(s,o,St,!1),Bi(w?2:0,d),w)p.runInContext(u,l,d);else{const C=Fn(null);try{u(l,d)}finally{Fn(C)}}}finally{w&&null===o[uc]&&FA(o,uc),na(_),Bi(w?3:1,d)}}function dh(s,o,u){if(Ko(o)){const l=Fn(null);try{const p=o.directiveEnd;for(let _=o.directiveStart;_<p;_++){const w=s.data[_];w.contentQueries&&w.contentQueries(1,u[_],_)}}finally{Fn(l)}}}function ov(s,o,u){ea()&&(function HA(s,o,u,l){const d=u.directiveStart,p=u.directiveEnd;Ds(u)&&function WA(s,o,u){const l=zn(o,s),d=av(u);let _=16;u.signals?_=4096:u.onPush&&(_=64);const w=hv(s,sg(s,d,null,_,l,o,null,s[di].rendererFactory.createRenderer(l,u),null,null,null));s[o.index]=w}(o,u,s.data[d+u.componentOffset]),s.firstCreatePass||Vn(u,o),hr(l,o);const _=u.initialInputs;for(let w=d;w<p;w++){const D=s.data[w],C=xr(o,s,w,u);hr(C,o),null!==_&&QP(0,w-d,C,D,0,_),pi(D)&&(mi(u.index,o)[Cn]=xr(o,s,w,u))}}(s,o,u,zn(u,o)),64==(64&u.flags)&&ag(s,o,u))}function hh(s,o,u=zn){const l=o.localNames;if(null!==l){let d=o.index+1;for(let p=0;p<l.length;p+=2){const _=l[p+1],w=-1===_?u(o,s):s[_];s[d++]=w}}}function av(s){const o=s.tView;return null===o||o.incompleteFirstPass?s.tView=uv(1,null,s.template,s.decls,s.vars,s.directiveDefs,s.pipeDefs,s.viewQuery,s.schemas,s.consts,s.id):o}function uv(s,o,u,l,d,p,_,w,D,C,A){const x=St+l,V=x+d,H=function fh(s,o){const u=[];for(let l=0;l<o;l++)u.push(l<s?null:bt);return u}(x,V),oe="function"==typeof C?C():C;return H[Le]={type:s,blueprint:H,template:u,queries:null,viewQuery:w,declTNode:o,data:H.slice().fill(null,x),bindingStartIndex:x,expandoStartIndex:V,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof p?p():p,pipeRegistry:"function"==typeof _?_():_,firstChild:null,schemas:D,consts:oe,incompleteFirstPass:!1,ssrId:A}}let qI=s=>null;function ZI(s,o,u,l){for(let d in s)if(s.hasOwnProperty(d)){u=null===u?{}:u;const p=s[d];null===l?BA(u,o,d,p):l.hasOwnProperty(d)&&BA(u,o,l[d],p)}return u}function BA(s,o,u,l){s.hasOwnProperty(u)?s[u].push(o,l):s[u]=[o,l]}function Di(s,o,u,l,d,p,_,w){const D=zn(o,u);let A,C=o.inputs;!w&&null!=C&&(A=C[l])?(fv(s,u,A,l,d),Ds(o)&&function KI(s,o){const u=mi(o,s);16&u[It]||(u[It]|=64)}(u,o.index)):3&o.type&&(l=function jA(s){return"class"===s?"className":"for"===s?"htmlFor":"formaction"===s?"formAction":"innerHtml"===s?"innerHTML":"readonly"===s?"readOnly":"tabindex"===s?"tabIndex":s}(l),d=null!=_?_(d,o.value||"",l):d,p.setProperty(D,l,d))}function og(s,o,u,l){if(ea()){const d=null===l?null:{"":-1},p=function zA(s,o){const u=s.directiveRegistry;let l=null,d=null;if(u)for(let p=0;p<u.length;p++){const _=u[p];if($l(o,_.selectors,!1))if(l||(l=[]),pi(_))if(null!==_.findHostDirectiveDefs){const w=[];d=d||new Map,_.findHostDirectiveDefs(_,w,d),l.unshift(...w,_),ug(s,o,w.length)}else l.unshift(_),ug(s,o,0);else d=d||new Map,_.findHostDirectiveDefs?.(_,l,d),l.push(_)}return null===l?null:[l,d]}(s,u);let _,w;null===p?_=w=null:[_,w]=p,null!==_&&YI(s,o,u,_,d,w),d&&function GA(s,o,u){if(o){const l=s.localNames=[];for(let d=0;d<o.length;d+=2){const p=u[o[d+1]];if(null==p)throw new K(-301,!1);l.push(o[d],p)}}}(u,l,d)}u.mergedAttrs=ts(u.mergedAttrs,u.attrs)}function YI(s,o,u,l,d,p){for(let C=0;C<l.length;C++)Gr(Vn(u,o),s,l[C].type);!function qA(s,o,u){s.flags|=1,s.directiveStart=o,s.directiveEnd=o+u,s.providerIndexes=o}(u,s.data.length,l.length);for(let C=0;C<l.length;C++){const A=l[C];A.providersResolver&&A.providersResolver(A)}let _=!1,w=!1,D=eo(s,o,l.length,null);for(let C=0;C<l.length;C++){const A=l[C];u.mergedAttrs=ts(u.mergedAttrs,A.hostAttrs),eD(s,u,o,D,A),XI(D,A,d),null!==A.contentQueries&&(u.flags|=4),(null!==A.hostBindings||null!==A.hostAttrs||0!==A.hostVars)&&(u.flags|=64);const x=A.type.prototype;!_&&(x.ngOnChanges||x.ngOnInit||x.ngDoCheck)&&((s.preOrderHooks??=[]).push(u.index),_=!0),!w&&(x.ngOnChanges||x.ngDoCheck)&&((s.preOrderCheckHooks??=[]).push(u.index),w=!0),D++}!function lv(s,o,u){const d=o.directiveEnd,p=s.data,_=o.attrs,w=[];let D=null,C=null;for(let A=o.directiveStart;A<d;A++){const x=p[A],V=u?u.get(x):null,oe=V?V.outputs:null;D=ZI(x.inputs,A,D,V?V.inputs:null),C=ZI(x.outputs,A,C,oe);const Ie=null===D||null===_||nc(o)?null:nD(D,A,_);w.push(Ie)}null!==D&&(D.hasOwnProperty("class")&&(o.flags|=8),D.hasOwnProperty("style")&&(o.flags|=16)),o.initialInputs=w,o.inputs=D,o.outputs=C}(s,u,p)}function ag(s,o,u){const l=u.directiveStart,d=u.directiveEnd,p=u.index,_=function Xy(){return ht.lFrame.currentDirectiveIndex}();try{na(p);for(let w=l;w<d;w++){const D=s.data[w],C=o[w];Gf(w),(null!==D.hostBindings||0!==D.hostVars||null!==D.hostAttrs)&&JI(D,C)}}finally{na(-1),Gf(_)}}function JI(s,o){null!==s.hostBindings&&s.hostBindings(1,o)}function ug(s,o,u){o.componentOffset=u,(s.components??=[]).push(o.index)}function XI(s,o,u){if(u){if(o.exportAs)for(let l=0;l<o.exportAs.length;l++)u[o.exportAs[l]]=s;pi(o)&&(u[""]=s)}}function eD(s,o,u,l,d){s.data[l]=d;const p=d.factory||(d.factory=zs(d.type)),_=new as(p,pi(d),Yc);s.blueprint[l]=_,u[l]=_,function QI(s,o,u,l,d){const p=d.hostBindings;if(p){let _=s.hostBindingOpCodes;null===_&&(_=s.hostBindingOpCodes=[]);const w=~o.index;(function $A(s){let o=s.length;for(;o>0;){const u=s[--o];if("number"==typeof u&&u<0)return u}return 0})(_)!=w&&_.push(w),_.push(u,l,p)}}(s,o,l,eo(s,u,d.hostVars,bt),d)}function Os(s,o,u,l,d,p){const _=zn(s,o);!function tD(s,o,u,l,d,p,_){if(null==p)s.removeAttribute(o,d,u);else{const w=null==_?ve(p):_(p,l||"",d);s.setAttribute(o,d,w,u)}}(o[Dt],_,p,s.value,u,l,d)}function QP(s,o,u,l,d,p){const _=p[o];if(null!==_)for(let w=0;w<_.length;)ZA(l,u,_[w++],_[w++],_[w++])}function ZA(s,o,u,l,d){const p=Fn(null);try{const _=s.inputTransforms;null!==_&&_.hasOwnProperty(l)&&(d=_[l].call(o,d)),null!==s.setInput?s.setInput(o,d,u,l):o[l]=d}finally{Fn(p)}}function nD(s,o,u){let l=null,d=0;for(;d<u.length;){const p=u[d];if(0!==p)if(5!==p){if("number"==typeof p)break;if(s.hasOwnProperty(p)){null===l&&(l=[]);const _=s[p];for(let w=0;w<_.length;w+=2)if(_[w]===o){l.push(p,_[w+1],u[d+1]);break}}d+=2}else d+=2;else d+=4}return l}function dv(s,o,u,l){return[s,!0,!1,o,null,0,l,u,null,null,null]}function KA(s,o){const u=s.contentQueries;if(null!==u)for(let l=0;l<u.length;l+=2){const p=u[l+1];if(-1!==p){const _=s.data[p];Wf(u[l]),_.contentQueries(2,o[p],p)}}}function hv(s,o){return s[Go]?s[Es][Fi]=o:s[Go]=o,s[Es]=o,o}function cg(s,o,u){Wf(0);const l=Fn(null);try{o(s,u)}finally{Fn(l)}}function YA(s){return s[li]||(s[li]=[])}function QA(s){return s.cleanup||(s.cleanup=[])}function JA(s,o,u){return(null===s||pi(s))&&(u=function Qo(s){for(;Array.isArray(s);){if("object"==typeof s[Jl])return s;s=s[pn]}return null}(u[o.index])),u[Dt]}function iD(s,o){const u=s[po],l=u?u.get(Ea,null):null;l&&l.handleError(o)}function fv(s,o,u,l,d){for(let p=0;p<u.length;){const _=u[p++],w=u[p++];ZA(s.data[_],o[_],l,w,d)}}function qi(s,o,u){const l=gi(o,s);!function bp(s,o,u){s.setValue(o,u)}(s[Dt],l,u)}function XA(s,o){const u=mi(o,s),l=u[Le];!function eM(s,o){for(let u=o.length;u<s.blueprint.length;u++)o.push(s.blueprint[u])}(l,u);const d=u[pn];null!==d&&null===u[hi]&&(u[hi]=Yd(d,u[po])),Me(l,u,u[Cn])}function Me(s,o,u){ta(o);try{const l=s.viewQuery;null!==l&&cg(1,l,u);const d=s.template;null!==d&&zI(s,o,d,1,u),s.firstCreatePass&&(s.firstCreatePass=!1),s.staticContentQueries&&KA(s,o),s.staticViewQueries&&cg(2,s.viewQuery,u);const p=s.components;null!==p&&function sD(s,o){for(let u=0;u<o.length;u++)XA(s,o[u])}(o,p)}catch(l){throw s.firstCreatePass&&(s.incompleteFirstPass=!0,s.firstCreatePass=!1),l}finally{o[It]&=-5,Kf()}}let oD=(()=>{var s;class o{constructor(){this.all=new Set,this.queue=new Map}create(l,d,p){const _=typeof Zone>"u"?null:Zone.current,w=new jy(l,A=>{this.all.has(A)&&this.queue.set(A,_)},p);let D;this.all.add(w),w.notify();const C=()=>{w.cleanup(),D?.(),this.all.delete(w),this.queue.delete(w)};return D=d?.onDestroy(C),{destroy:C}}flush(){if(0!==this.queue.size)for(const[l,d]of this.queue)this.queue.delete(l),d?d.run(()=>l.run()):l.run()}get isQueueEmpty(){return 0===this.queue.size}}return(s=o).\u0275prov=_t({token:s,providedIn:"root",factory:()=>new s}),o})();function lg(s,o,u){let l=u?s.styles:null,d=u?s.classes:null,p=0;if(null!==o)for(let _=0;_<o.length;_++){const w=o[_];"number"==typeof w?p=w:1==p?d=Te(d,w):2==p&&(l=Te(l,w+": "+o[++_]+";"))}u?s.styles=l:s.stylesWithoutHost=l,u?s.classes=d:s.classesWithoutHost=d}function Qc(s,o,u,l,d=!1){for(;null!==u;){const p=o[u.index];null!==p&&l.push(rn(p)),cr(p)&&tM(p,l);const _=u.type;if(8&_)Qc(s,o,u.child,l);else if(32&_){const w=Ep(u,o);let D;for(;D=w();)l.push(D)}else if(16&_){const w=ZE(o,u);if(Array.isArray(w))l.push(...w);else{const D=Ip(o[cn]);Qc(D[Le],D,w,l,!0)}}u=d?u.projectionNext:u.next}return l}function tM(s,o){for(let u=Jn;u<s.length;u++){const l=s[u],d=l[Le].firstChild;null!==d&&Qc(l[Le],l,d,o)}s[fi]!==s[pn]&&o.push(s[fi])}function ph(s,o,u,l=!0){const d=o[di],p=d.rendererFactory,_=d.afterRenderEventManager;p.begin?.(),_?.begin();try{nM(s,o,s.template,u)}catch(D){throw l&&iD(o,D),D}finally{p.end?.(),d.effectManager?.flush(),_?.end()}}function nM(s,o,u,l){const d=o[It];if(256!=(256&d)){o[di].effectManager?.flush(),ta(o);try{yc(o),function zf(s){return ht.lFrame.bindingIndex=s}(s.bindingStartIndex),null!==u&&zI(s,o,u,2,l);const _=3==(3&d);if(_){const C=s.preOrderCheckHooks;null!==C&&Qa(o,C,null)}else{const C=s.preOrderHooks;null!==C&&os(o,C,0,null),Cs(o,0)}if(function JP(s){for(let o=WS(s);null!==o;o=jE(o)){if(!o[Tf])continue;const u=o[Wo];for(let l=0;l<u.length;l++){Xo(u[l])}}}(o),gv(o,2),null!==s.contentQueries&&KA(s,o),_){const C=s.contentCheckHooks;null!==C&&Qa(o,C)}else{const C=s.contentHooks;null!==C&&os(o,C,1),Cs(o,1)}!function iv(s,o){const u=s.hostBindingOpCodes;if(null===u)return;const l=$I(o,mo);try{for(let d=0;d<u.length;d++){const p=u[d];if(p<0)na(~p);else{const _=p,w=u[++d],D=u[++d];SE(w,_),l.runInContext(D,2,o[_])}}}finally{null===o[mo]&&FA(o,mo),na(-1)}}(s,o);const w=s.components;null!==w&&iM(o,w,0);const D=s.viewQuery;if(null!==D&&cg(2,D,l),_){const C=s.viewCheckHooks;null!==C&&Qa(o,C)}else{const C=s.viewHooks;null!==C&&os(o,C,2),Cs(o,2)}!0===s.firstUpdatePass&&(s.firstUpdatePass=!1),o[It]&=-73,fd(o)}finally{Kf()}}}function gv(s,o){for(let u=WS(s);null!==u;u=jE(u))for(let l=Jn;l<u.length;l++)rM(u[l],o)}function XP(s,o,u){rM(mi(o,s),u)}function rM(s,o){if(!function Gy(s){return 128==(128&s[It])}(s))return;const u=s[Le];if(80&s[It]&&0===o||1024&s[It]||2===o)nM(u,s,u.template,s[Cn]);else if(s[zo]>0){gv(s,1);const d=s[Le].components;null!==d&&iM(s,d,1)}}function iM(s,o,u){for(let l=0;l<o.length;l++)XP(s,o[l],u)}class hg{get rootNodes(){const o=this._lView,u=o[Le];return Qc(u,o,u.firstChild,[])}constructor(o,u){this._lView=o,this._cdRefInjectingView=u,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[Cn]}set context(o){this._lView[Cn]=o}get destroyed(){return 256==(256&this._lView[It])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const o=this._lView[un];if(cr(o)){const u=o[8],l=u?u.indexOf(this):-1;l>-1&&(Sp(o,l),Io(u,l))}this._attachedToViewContainer=!1}pa(this._lView[Le],this._lView)}onDestroy(o){!function pd(s,o){if(256==(256&s[It]))throw new K(911,!1);null===s[go]&&(s[go]=[]),s[go].push(o)}(this._lView,o)}markForCheck(){uh(this._cdRefInjectingView||this._lView)}detach(){this._lView[It]&=-129}reattach(){this._lView[It]|=128}detectChanges(){ph(this._lView[Le],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new K(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function KS(s,o){$d(s,o,o[Dt],2,null,null)}(this._lView[Le],this._lView)}attachToAppRef(o){if(this._attachedToViewContainer)throw new K(902,!1);this._appRef=o}}class gh extends hg{constructor(o){super(o),this._view=o}detectChanges(){const o=this._view;ph(o[Le],o,o[Cn],!1)}checkNoChanges(){}get context(){return null}}class mv extends eh{constructor(o){super(),this.ngModule=o}resolveComponentFactory(o){const u=jt(o);return new mh(u,this.ngModule)}}function fg(s){const o=[];for(let u in s)s.hasOwnProperty(u)&&o.push({propName:s[u],templateName:u});return o}class sM{constructor(o,u){this.injector=o,this.parentInjector=u}get(o,u,l){l=ws(l);const d=this.injector.get(o,Xp,l);return d!==Xp||u===Xp?d:this.parentInjector.get(o,u,l)}}class mh extends DA{get inputs(){const o=this.componentDef,u=o.inputTransforms,l=fg(o.inputs);if(null!==u)for(const d of l)u.hasOwnProperty(d.propName)&&(d.transform=u[d.propName]);return l}get outputs(){return fg(this.componentDef.outputs)}constructor(o,u){super(),this.componentDef=o,this.ngModule=u,this.componentType=o.type,this.selector=function ic(s){return s.map(Hl).join(",")}(o.selectors),this.ngContentSelectors=o.ngContentSelectors?o.ngContentSelectors:[],this.isBoundToModule=!!u}create(o,u,l,d){let p=(d=d||this.ngModule)instanceof So?d:d?.injector;p&&null!==this.componentDef.getStandaloneInjector&&(p=this.componentDef.getStandaloneInjector(p)||p);const _=p?new sM(o,p):o,w=_.get(bA,null);if(null===w)throw new K(407,!1);const x={rendererFactory:w,sanitizer:_.get(jP,null),effectManager:_.get(oD,null),afterRenderEventManager:_.get(ah,null)},V=w.createRenderer(null,this.componentDef),H=this.componentDef.selectors[0][0]||"div",oe=l?function LA(s,o,u,l){const p=l.get(Kc,!1)||u===Ft.ShadowDom,_=s.selectRootElement(o,p);return function GI(s){qI(s)}(_),_}(V,l,this.componentDef.encapsulation,_):Cp(V,H,function aD(s){const o=s.toLowerCase();return"svg"===o?Ff:"math"===o?"math":null}(H)),tt=this.componentDef.signals?4608:this.componentDef.onPush?576:528;let pe=null;null!==oe&&(pe=Yd(oe,_,!0));const gt=uv(0,null,null,1,0,null,null,null,null,null,null),Rt=sg(null,gt,null,tt,null,null,x,V,_,null,pe);let en,ei;ta(Rt);try{const Fo=this.componentDef;let $u,$m=null;Fo.findHostDirectiveDefs?($u=[],$m=new Map,Fo.findHostDirectiveDefs(Fo,$u,$m),$u.push(Fo)):$u=[Fo];const aw=function aM(s,o){const u=s[Le],l=St;return s[l]=o,Du(u,l,2,"#host",null)}(Rt,oe),YC=function uM(s,o,u,l,d,p,_){const w=d[Le];!function cM(s,o,u,l){for(const d of s)o.mergedAttrs=ts(o.mergedAttrs,d.hostAttrs);null!==o.mergedAttrs&&(lg(o,o.mergedAttrs,!0),null!==u&&XE(l,u,o))}(l,s,o,_);let D=null;null!==o&&(D=Yd(o,d[po]));const C=p.rendererFactory.createRenderer(o,u);let A=16;u.signals?A=4096:u.onPush&&(A=64);const x=sg(d,av(u),null,A,d[s.index],s,p,C,null,null,D);return w.firstCreatePass&&ug(w,s,l.length-1),hv(d,x),d[s.index]=x}(aw,oe,Fo,$u,Rt,x,V);ei=Uf(gt,St),oe&&function dM(s,o,u,l){if(l)Xu(s,u,["ng-version",OI.full]);else{const{attrs:d,classes:p}=function zl(s){const o=[],u=[];let l=1,d=2;for(;l<s.length;){let p=s[l];if("string"==typeof p)2===d?""!==p&&o.push(p,s[++l]):8===d&&u.push(p);else{if(!yr(d))break;d=p}l++}return{attrs:o,classes:u}}(o.selectors[0]);d&&Xu(s,u,d),p&&p.length>0&&b_(s,u,p.join(" "))}}(V,Fo,oe,l),void 0!==u&&function hM(s,o,u){const l=s.projection=[];for(let d=0;d<o.length;d++){const p=u[d];l.push(null!=p?Array.from(p):null)}}(ei,this.ngContentSelectors,u),en=function lM(s,o,u,l,d,p){const _=Tn(),w=d[Le],D=zn(_,d);YI(w,d,_,u,null,l);for(let A=0;A<u.length;A++)hr(xr(d,w,_.directiveStart+A,_),d);ag(w,d,_),D&&hr(D,d);const C=xr(d,w,_.directiveStart+_.componentOffset,_);if(s[Cn]=d[Cn]=C,null!==p)for(const A of p)A(C,o);return dh(w,_,s),C}(YC,Fo,$u,$m,Rt,[fM]),Me(gt,Rt,null)}finally{Kf()}return new oM(this.componentType,en,Gc(ei,Rt),Rt,ei)}}class oM extends LP{constructor(o,u,l,d,p){super(),this.location=l,this._rootLView=d,this._tNode=p,this.previousInputValues=null,this.instance=u,this.hostView=this.changeDetectorRef=new gh(d),this.componentType=o}setInput(o,u){const l=this._tNode.inputs;let d;if(null!==l&&(d=l[o])){if(this.previousInputValues??=new Map,this.previousInputValues.has(o)&&Object.is(this.previousInputValues.get(o),u))return;const p=this._rootLView;fv(p[Le],p,d,o,u),this.previousInputValues.set(o,u),uh(mi(this._tNode.index,p))}}get injector(){return new Xn(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(o){this.hostView.onDestroy(o)}}function fM(){const s=Tn();ra(ge()[Le],s)}function yv(s){let o=function uD(s){return Object.getPrototypeOf(s.prototype).constructor}(s.type),u=!0;const l=[s];for(;o;){let d;if(pi(s))d=o.\u0275cmp||o.\u0275dir;else{if(o.\u0275cmp)throw new K(903,!1);d=o.\u0275dir}if(d){if(u){l.push(d);const _=s;_.inputs=pg(s.inputs),_.inputTransforms=pg(s.inputTransforms),_.declaredInputs=pg(s.declaredInputs),_.outputs=pg(s.outputs);const w=d.hostBindings;w&&gg(s,w);const D=d.viewQuery,C=d.contentQueries;if(D&&pM(s,D),C&&gM(s,C),Ze(s.inputs,d.inputs),Ze(s.declaredInputs,d.declaredInputs),Ze(s.outputs,d.outputs),null!==d.inputTransforms&&(null===_.inputTransforms&&(_.inputTransforms={}),Ze(_.inputTransforms,d.inputTransforms)),pi(d)&&d.data.animation){const A=s.data;A.animation=(A.animation||[]).concat(d.data.animation)}}const p=d.features;if(p)for(let _=0;_<p.length;_++){const w=p[_];w&&w.ngInherit&&w(s),w===yv&&(u=!1)}}o=Object.getPrototypeOf(o)}!function ek(s){let o=0,u=null;for(let l=s.length-1;l>=0;l--){const d=s[l];d.hostVars=o+=d.hostVars,d.hostAttrs=ts(d.hostAttrs,u=ts(u,d.hostAttrs))}}(l)}function pg(s){return s===on?{}:s===at?[]:s}function pM(s,o){const u=s.viewQuery;s.viewQuery=u?(l,d)=>{o(l,d),u(l,d)}:o}function gM(s,o){const u=s.contentQueries;s.contentQueries=u?(l,d,p)=>{o(l,d,p),u(l,d,p)}:o}function gg(s,o){const u=s.hostBindings;s.hostBindings=u?(l,d)=>{o(l,d),u(l,d)}:o}function pD(s){const o=s.inputConfig,u={};for(const l in o)if(o.hasOwnProperty(l)){const d=o[l];Array.isArray(d)&&d[2]&&(u[l]=d[2])}s.inputTransforms=u}function _v(s){return!!gD(s)&&(Array.isArray(s)||!(s instanceof Map)&&Symbol.iterator in s)}function gD(s){return null!==s&&("function"==typeof s||"object"==typeof s)}function Or(s,o,u){return!Object.is(s[o],u)&&(s[o]=u,!0)}function Tu(s,o,u,l){const d=Or(s,o,u);return Or(s,o+1,l)||d}function Su(s,o,u,l){const d=ge();return Or(d,Gs(),o)&&($t(),Os(mn(),d,s,o,u,l)),Su}function Xc(s,o,u,l,d,p){const w=Tu(s,function is(){return ht.lFrame.bindingIndex}(),u,d);return bs(2),w?o+ve(u)+l+ve(d)+p:bt}function Sv(s,o,u,l,d,p,_,w){const D=ge(),C=$t(),A=s+St,x=C.firstCreatePass?function Tv(s,o,u,l,d,p,_,w,D){const C=o.consts,A=Du(o,s,4,_||null,ji(C,w));og(o,u,A,ji(C,D)),ra(o,A);const x=A.tView=uv(2,A,l,d,p,o.directiveRegistry,o.pipeRegistry,null,o.schemas,C,null);return null!==o.queries&&(o.queries.template(o,A),x.queries=o.queries.embeddedTView(A)),A}(A,C,D,o,u,l,d,p,_):C.data[A];yi(x,!1);const V=CD(C,D,x,s);yo()&&Mp(C,D,V,x),hr(V,D),hv(D,D[A]=dv(V,D,V,x)),qa(x)&&ov(C,D,x),null!=_&&hh(D,x,w)}let CD=function TD(s,o,u,l){return ss(!0),o[Dt].createComment("")};function Nu(s){return Jo(function Hf(){return ht.lFrame.contextLView}(),St+s)}function Da(s,o,u){const l=ge();return Or(l,Gs(),o)&&Di($t(),mn(),l,s,o,l[Dt],u,!1),Da}function Dg(s,o,u,l,d){const _=d?"class":"style";fv(s,u,o.inputs[_],_,l)}function bg(s,o,u,l){const d=ge(),p=$t(),_=St+s,w=d[Dt],D=p.firstCreatePass?function MM(s,o,u,l,d,p){const _=o.consts,D=Du(o,s,2,l,ji(_,d));return og(o,u,D,ji(_,p)),null!==D.attrs&&lg(D,D.attrs,!1),null!==D.mergedAttrs&&lg(D,D.mergedAttrs,!0),null!==o.queries&&o.queries.elementStart(o,D),D}(_,p,d,o,u,l):p.data[_],C=ba(p,d,D,w,o,s);d[_]=C;const A=qa(D);return yi(D,!0),XE(w,C,D),32!=(32&D.flags)&&yo()&&Mp(p,d,C,D),0===function vc(){return ht.lFrame.elementDepthCount}()&&hr(C,d),function Zy(){ht.lFrame.elementDepthCount++}(),A&&(ov(p,d,D),dh(p,D,d)),null!==l&&hh(d,D),bg}function Dh(){let s=Tn();yd()?Ec():(s=s.parent,yi(s,!1));const o=s;(function Ln(s){return ht.skipHydrationRootTNode===s})(o)&&function gd(){ht.skipHydrationRootTNode=null}(),function Ky(){ht.lFrame.elementDepthCount--}();const u=$t();return u.firstCreatePass&&(ra(u,s),Ko(s)&&u.queries.elementEnd(s)),null!=o.classesWithoutHost&&function Id(s){return 0!=(8&s.flags)}(o)&&Dg(u,o,ge(),o.classesWithoutHost,!0),null!=o.stylesWithoutHost&&function Xf(s){return 0!=(16&s.flags)}(o)&&Dg(u,o,ge(),o.stylesWithoutHost,!1),Dh}function Mv(s,o,u,l){return bg(s,o,u,l),Dh(),Mv}let ba=(s,o,u,l,d,p)=>(ss(!0),Cp(l,d,function lt(){return ht.lFrame.currentNamespace}()));function Cg(s,o,u){const l=ge(),d=$t(),p=s+St,_=d.firstCreatePass?function xM(s,o,u,l,d){const p=o.consts,_=ji(p,l),w=Du(o,s,8,"ng-container",_);return null!==_&&lg(w,_,!0),og(o,u,w,ji(p,d)),null!==o.queries&&o.queries.elementStart(o,w),w}(p,d,l,o,u):d.data[p];yi(_,!0);const w=Sg(d,l,_,s);return l[p]=w,yo()&&Mp(d,l,w,_),hr(w,l),qa(_)&&(ov(d,l,_),dh(d,_,l)),null!=u&&hh(l,_),Cg}function to(){let s=Tn();const o=$t();return yd()?Ec():(s=s.parent,yi(s,!1)),o.firstCreatePass&&(ra(o,s),Ko(s)&&o.queries.elementEnd(s)),to}let Sg=(s,o,u,l)=>(ss(!0),Gi(o[Dt],""));function Mg(){return ge()}function bh(s){return!!s&&"function"==typeof s.then}function rl(s){return!!s&&"function"==typeof s.subscribe}function Ch(s,o,u,l){const d=ge(),p=$t(),_=Tn();return function MD(s,o,u,l,d,p,_){const w=qa(l),C=s.firstCreatePass&&QA(s),A=o[Cn],x=YA(o);let V=!0;if(3&l.type||_){const Ie=zn(l,o),Ve=_?_(Ie):Ie,tt=x.length,pe=_?Rt=>_(rn(Rt[l.index])):l.index;let gt=null;if(!_&&w&&(gt=function Nv(s,o,u,l){const d=s.cleanup;if(null!=d)for(let p=0;p<d.length-1;p+=2){const _=d[p];if(_===u&&d[p+1]===l){const w=o[li],D=d[p+2];return w.length>D?w[D]:null}"string"==typeof _&&(p+=2)}return null}(s,o,d,l.index)),null!==gt)(gt.__ngLastListenerFn__||gt).__ngNextListenerFn__=p,gt.__ngLastListenerFn__=p,V=!1;else{p=ND(l,o,A,p,!1);const Rt=u.listen(Ve,d,p);x.push(p,Rt),C&&C.push(d,pe,tt,tt+1)}}else p=ND(l,o,A,p,!1);const H=l.outputs;let oe;if(V&&null!==H&&(oe=H[d])){const Ie=oe.length;if(Ie)for(let Ve=0;Ve<Ie;Ve+=2){const en=o[oe[Ve]][oe[Ve+1]].subscribe(p),ei=x.length;x.push(p,en),C&&C.push(d,l.index,ei,-(ei+1))}}}(p,d,d[Dt],_,s,o,l),Ch}function xD(s,o,u,l){try{return Bi(6,o,u),!1!==u(l)}catch(d){return iD(s,d),!1}finally{Bi(7,o,u)}}function ND(s,o,u,l,d){return function p(_){if(_===Function)return l;uh(s.componentOffset>-1?mi(s.index,o):o);let D=xD(o,u,l,_),C=p.__ngNextListenerFn__;for(;C;)D=xD(o,u,C,_)&&D,C=C.__ngNextListenerFn__;return d&&!1===D&&_.preventDefault(),D}}function Ng(s=1){return function n_(s){return(ht.lFrame.contextLView=function ME(s,o){for(;s>0;)o=o[Li],s--;return o}(s,ht.lFrame.contextLView))[Cn]}(s)}function Fg(s,o){return s<<17|o<<2}function no(s){return s>>17&32767}function Fv(s){return 2|s}function Ru(s){return(131068&s)>>2}function Lv(s,o){return-131069&s|o<<2}function Th(s){return 1|s}function VD(s,o,u,l,d){const p=s[u+1],_=null===o;let w=l?no(p):Ru(p),D=!1;for(;0!==w&&(!1===D||_);){const A=s[w+1];Uv(s[w],o)&&(D=!0,s[w+1]=l?Th(A):Fv(A)),w=l?no(A):Ru(A)}D&&(s[u+1]=l?Fv(p):Th(p))}function Uv(s,o){return null===s||null==o||(Array.isArray(s)?s[1]:s)===o||!(!Array.isArray(s)||"string"!=typeof o)&&xs(s,o)>=0}const tr={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function kM(s){return s.substring(tr.key,tr.keyEnd)}function FM(s,o){const u=tr.textEnd;return u===o?-1:(o=tr.keyEnd=function VM(s,o,u){for(;o<u&&s.charCodeAt(o)>32;)o++;return o}(s,tr.key=o,u),il(s,o,u))}function il(s,o,u){for(;o<u&&s.charCodeAt(o)<=32;)o++;return o}function Vg(s,o,u){return hs(s,o,u,!1),Vg}function zv(s,o){return hs(s,o,null,!0),zv}function BD(s){!function Ps(s,o,u,l){const d=$t(),p=bs(2);d.firstUpdatePass&&jM(d,null,p,l);const _=ge();if(u!==bt&&Or(_,p,u)){const w=d.data[Sr()];if($D(w,l)&&!Ug(d,p)){let D=l?w.classesWithoutHost:w.stylesWithoutHost;null!==D&&(u=Te(D,u||"")),Dg(d,w,_,u,l)}else!function jg(s,o,u,l,d,p,_,w){d===bt&&(d=at);let D=0,C=0,A=0<d.length?d[0]:null,x=0<p.length?p[0]:null;for(;null!==A||null!==x;){const V=D<d.length?d[D+1]:void 0,H=C<p.length?p[C+1]:void 0;let Ie,oe=null;A===x?(D+=2,C+=2,V!==H&&(oe=x,Ie=H)):null===x||null!==A&&A<x?(D+=2,oe=A):(C+=2,oe=x,Ie=H),null!==oe&&qM(s,o,u,l,oe,Ie,_,w),A=D<d.length?d[D]:null,x=C<p.length?p[C]:null}}(d,w,_,_[Dt],_[p+1],_[p+1]=function dk(s,o,u){if(null==u||""===u)return at;const l=[],d=Co(u);if(Array.isArray(d))for(let p=0;p<d.length;p++)s(l,d[p],!0);else if("object"==typeof d)for(const p in d)d.hasOwnProperty(p)&&s(l,p,d[p]);else"string"==typeof d&&o(l,d);return l}(s,o,u),l,p)}}(hk,ro,s,!0)}function ro(s,o){for(let u=function ck(s){return function jv(s){tr.key=0,tr.keyEnd=0,tr.value=0,tr.valueEnd=0,tr.textEnd=s.length}(s),FM(s,il(s,0,tr.textEnd))}(o);u>=0;u=FM(o,u))er(s,kM(o),!0)}function hs(s,o,u,l){const d=ge(),p=$t(),_=bs(2);p.firstUpdatePass&&jM(p,s,_,l),o!==bt&&Or(d,_,o)&&qM(p,p.data[Sr()],d,d[Dt],s,d[_+1]=function WM(s,o){return null==s||""===s||("string"==typeof o?s+=o:"object"==typeof s&&(s=Be(Co(s)))),s}(o,u),l,_)}function Ug(s,o){return o>=s.expandoStartIndex}function jM(s,o,u,l){const d=s.data;if(null===d[u+1]){const p=d[Sr()],_=Ug(s,u);$D(p,l)&&null===o&&!_&&(o=!1),o=function $M(s,o,u,l){const d=qf(s);let p=l?o.residualClasses:o.residualStyles;if(null===d)0===(l?o.classBindings:o.styleBindings)&&(u=Bg(u=Sh(null,s,o,u,l),o.attrs,l),p=null);else{const _=o.directiveStylingLast;if(-1===_||s[_]!==d)if(u=Sh(d,s,o,u,l),null===p){let D=function Gv(s,o,u){const l=u?o.classBindings:o.styleBindings;if(0!==Ru(l))return s[no(l)]}(s,o,l);void 0!==D&&Array.isArray(D)&&(D=Sh(null,s,o,D[1],l),D=Bg(D,o.attrs,l),function HM(s,o,u,l){s[no(u?o.classBindings:o.styleBindings)]=l}(s,o,l,D))}else p=function zM(s,o,u){let l;const d=o.directiveEnd;for(let p=1+o.directiveStylingLast;p<d;p++)l=Bg(l,s[p].hostAttrs,u);return Bg(l,o.attrs,u)}(s,o,l)}return void 0!==p&&(l?o.residualClasses=p:o.residualStyles=p),u}(d,p,o,l),function PM(s,o,u,l,d,p){let _=p?o.classBindings:o.styleBindings,w=no(_),D=Ru(_);s[l]=u;let A,C=!1;if(Array.isArray(u)?(A=u[1],(null===A||xs(u,A)>0)&&(C=!0)):A=u,d)if(0!==D){const V=no(s[w+1]);s[l+1]=Fg(V,w),0!==V&&(s[V+1]=Lv(s[V+1],l)),s[w+1]=function RM(s,o){return 131071&s|o<<17}(s[w+1],l)}else s[l+1]=Fg(w,0),0!==w&&(s[w+1]=Lv(s[w+1],l)),w=l;else s[l+1]=Fg(D,0),0===w?w=l:s[D+1]=Lv(s[D+1],l),D=l;C&&(s[l+1]=Fv(s[l+1])),VD(s,A,l,!0),VD(s,A,l,!1),function Vv(s,o,u,l,d){const p=d?s.residualClasses:s.residualStyles;null!=p&&"string"==typeof o&&xs(p,o)>=0&&(u[l+1]=Th(u[l+1]))}(o,A,s,l,p),_=Fg(w,D),p?o.classBindings=_:o.styleBindings=_}(d,p,o,u,_,l)}}function Sh(s,o,u,l,d){let p=null;const _=u.directiveEnd;let w=u.directiveStylingLast;for(-1===w?w=u.directiveStart:w++;w<_&&(p=o[w],l=Bg(l,p.hostAttrs,d),p!==s);)w++;return null!==s&&(u.directiveStylingLast=w),l}function Bg(s,o,u){const l=u?1:2;let d=-1;if(null!==o)for(let p=0;p<o.length;p++){const _=o[p];"number"==typeof _?d=_:d===l&&(Array.isArray(s)||(s=void 0===s?[]:["",s]),er(s,_,!!u||o[++p]))}return void 0===s?null:s}function hk(s,o,u){const l=String(o);""!==l&&!l.includes(" ")&&er(s,l,u)}function qM(s,o,u,l,d,p,_,w){if(!(3&o.type))return;const D=s.data,C=D[w+1],A=function OM(s){return 1==(1&s)}(C)?jD(D,o,u,d,Ru(C),_):void 0;$g(A)||($g(p)||function FD(s){return 2==(2&s)}(C)&&(p=jD(D,null,u,d,w,_)),function JE(s,o,u,l,d){if(o)d?s.addClass(u,l):s.removeClass(u,l);else{let p=-1===l.indexOf("-")?void 0:Nc.DashCase;null==d?s.removeStyle(u,l,p):("string"==typeof d&&d.endsWith("!important")&&(d=d.slice(0,-10),p|=Nc.Important),s.setStyle(u,l,d,p))}}(l,_,gi(Sr(),u),d,p))}function jD(s,o,u,l,d,p){const _=null===o;let w;for(;d>0;){const D=s[d],C=Array.isArray(D),A=C?D[1]:D,x=null===A;let V=u[d+1];V===bt&&(V=x?at:void 0);let H=x?Tc(V,l):A===l?V:void 0;if(C&&!$g(H)&&(H=Tc(D,l)),$g(H)&&(w=H,_))return w;const oe=s[d+1];d=_?no(oe):Ru(oe)}if(null!==o){let D=p?o.residualClasses:o.residualStyles;null!=D&&(w=Tc(D,l))}return w}function $g(s){return void 0!==s}function $D(s,o){return 0!=(s.flags&(o?8:16))}function HD(s,o=""){const u=ge(),l=$t(),d=s+St,p=l.firstCreatePass?Du(l,d,1,o,null):l.data[d],_=zD(l,u,p,o,s);u[d]=_,yo()&&Mp(l,u,_,p),yi(p,!1)}let zD=(s,o,u,l,d)=>(ss(!0),function Dp(s,o){return s.createText(o)}(o[Dt],l));function qv(s){return Hg("",s,""),qv}function Hg(s,o,u){const l=ge(),d=function Jc(s,o,u,l){return Or(s,Gs(),u)?o+ve(u)+l:bt}(l,s,o,u);return d!==bt&&qi(l,Sr(),d),Hg}function sl(s,o,u,l,d){const p=ge(),_=Xc(p,s,o,u,l,d);return _!==bt&&qi(p,Sr(),_),sl}function t0(s,o,u){const l=ge();if(Or(l,Gs(),o)){const p=$t(),_=mn();Di(p,_,l,s,o,JA(qf(p.data),_,l),u,!0)}return t0}const Ou=void 0;var r1=["en",[["a","p"],["AM","PM"],Ou],[["AM","PM"],Ou,Ou],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Ou,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Ou,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Ou,"{1} 'at' {0}",Ou],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function sb(s){const u=Math.floor(Math.abs(s)),l=s.toString().replace(/^[^.]*\.?/,"").length;return 1===u&&0===l?1:5}];let Pu={};function n0(s){const o=function r0(s){return s.toLowerCase().replace(/_/g,"-")}(s);let u=Ah(o);if(u)return u;const l=o.split("-")[0];if(u=Ah(l),u)return u;if("en"===l)return r1;throw new K(701,!1)}function ob(s){return n0(s)[ol.PluralCase]}function Ah(s){return s in Pu||(Pu[s]=fn.ng&&fn.ng.common&&fn.ng.common.locales&&fn.ng.common.locales[s]),Pu[s]}var ol=function(s){return s[s.LocaleId=0]="LocaleId",s[s.DayPeriodsFormat=1]="DayPeriodsFormat",s[s.DayPeriodsStandalone=2]="DayPeriodsStandalone",s[s.DaysFormat=3]="DaysFormat",s[s.DaysStandalone=4]="DaysStandalone",s[s.MonthsFormat=5]="MonthsFormat",s[s.MonthsStandalone=6]="MonthsStandalone",s[s.Eras=7]="Eras",s[s.FirstDayOfWeek=8]="FirstDayOfWeek",s[s.WeekendRange=9]="WeekendRange",s[s.DateFormat=10]="DateFormat",s[s.TimeFormat=11]="TimeFormat",s[s.DateTimeFormat=12]="DateTimeFormat",s[s.NumberSymbols=13]="NumberSymbols",s[s.NumberFormats=14]="NumberFormats",s[s.CurrencyCode=15]="CurrencyCode",s[s.CurrencySymbol=16]="CurrencySymbol",s[s.CurrencyName=17]="CurrencyName",s[s.Currencies=18]="Currencies",s[s.Directionality=19]="Directionality",s[s.PluralCase=20]="PluralCase",s[s.ExtraData=21]="ExtraData",s}(ol||{});const al="en-US";let Kg=al;function xh(s,o,u,l,d){if(s=De(s),Array.isArray(s))for(let p=0;p<s.length;p++)xh(s[p],o,u,l,d);else{const p=$t(),_=ge(),w=Tn();let D=mu(s)?s:De(s.provide);const C=wI(s),A=1048575&w.providerIndexes,x=w.directiveStart,V=w.providerIndexes>>20;if(mu(s)||!s.multi){const H=new as(C,d,Yc),oe=T0(D,o,d?A:A+V,x);-1===oe?(Gr(Vn(w,_),p,D),C0(p,s,o.length),o.push(D),w.directiveStart++,w.directiveEnd++,d&&(w.providerIndexes+=1048576),u.push(H),_.push(H)):(u[oe]=H,_[oe]=H)}else{const H=T0(D,o,A+V,x),oe=T0(D,o,A,A+V),Ve=oe>=0&&u[oe];if(d&&!Ve||!d&&!(H>=0&&u[H])){Gr(Vn(w,_),p,D);const tt=function R1(s,o,u,l,d){const p=new as(s,u,Yc);return p.multi=[],p.index=o,p.componentProviders=0,cm(p,d,l&&!u),p}(d?N1:x1,u.length,d,l,C);!d&&Ve&&(u[oe].providerFactory=tt),C0(p,s,o.length,0),o.push(D),w.directiveStart++,w.directiveEnd++,d&&(w.providerIndexes+=1048576),u.push(tt),_.push(tt)}else C0(p,s,H>-1?H:oe,cm(u[d?oe:H],C,!d&&l));!d&&l&&Ve&&u[oe].componentProviders++}}}function C0(s,o,u,l){const d=mu(o),p=function wA(s){return!!s.useClass}(o);if(d||p){const D=(p?De(o.useClass):o).prototype.ngOnDestroy;if(D){const C=s.destroyHooks||(s.destroyHooks=[]);if(!d&&o.multi){const A=C.indexOf(u);-1===A?C.push(u,[l,D]):C[A+1].push(l,D)}else C.push(u,D)}}}function cm(s,o,u){return u&&s.componentProviders++,s.multi.push(o)-1}function T0(s,o,u,l){for(let d=u;d<l;d++)if(o[d]===s)return d;return-1}function x1(s,o,u,l){return S0(this.multi,[])}function N1(s,o,u,l){const d=this.multi;let p;if(this.providerFactory){const _=this.providerFactory.componentProviders,w=xr(u,u[Le],this.providerFactory.index,l);p=w.slice(0,_),S0(d,p);for(let D=_;D<w.length;D++)p.push(w[D])}else p=[],S0(d,p);return p}function S0(s,o){for(let u=0;u<s.length;u++)o.push((0,s[u])());return o}function Ib(s,o=[]){return u=>{u.providersResolver=(l,d)=>function M1(s,o,u){const l=$t();if(l.firstCreatePass){const d=pi(s);xh(u,l.data,l.blueprint,d,!0),xh(o,l.data,l.blueprint,d,!1)}}(l,d?d(s):s,o)}}class Sa{}class Db{}function O1(s,o){return new A0(s,o??null,[])}class A0 extends Sa{constructor(o,u,l){super(),this._parent=u,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new mv(this);const d=bn(o);this._bootstrapComponents=wa(d.bootstrap),this._r3Injector=W_(o,u,[{provide:Sa,useValue:this},{provide:eh,useValue:this.componentFactoryResolver},...l],Be(o),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(o)}get injector(){return this._r3Injector}destroy(){const o=this._r3Injector;!o.destroyed&&o.destroy(),this.destroyCbs.forEach(u=>u()),this.destroyCbs=null}onDestroy(o){this.destroyCbs.push(o)}}class Nh extends Db{constructor(o){super(),this.moduleType=o}create(o){return new A0(this.moduleType,o,[])}}class lm extends Sa{constructor(o){super(),this.componentFactoryResolver=new mv(this),this.instance=null;const u=new B_([...o.providers,{provide:Sa,useValue:this},{provide:eh,useValue:this.componentFactoryResolver}],o.parent||U_(),o.debugName,new Set(["environment"]));this.injector=u,o.runEnvironmentInitializers&&u.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(o){this.injector.onDestroy(o)}}function Tb(s,o,u=null){return new lm({providers:s,parent:o,debugName:u,runEnvironmentInitializers:!0}).injector}let P1=(()=>{var s;class o{constructor(l){this._injector=l,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(l){if(!l.standalone)return null;if(!this.cachedInjectors.has(l)){const d=yA(0,l.type),p=d.length>0?Tb([d],this._injector,`Standalone[${l.type.name}]`):null;this.cachedInjectors.set(l,p)}return this.cachedInjectors.get(l)}ngOnDestroy(){try{for(const l of this.cachedInjectors.values())null!==l&&l.destroy()}finally{this.cachedInjectors.clear()}}}return(s=o).\u0275prov=_t({token:s,providedIn:"environment",factory:()=>new s(dt(So))}),o})();function Sb(s){s.getStandaloneInjector=o=>o.get(P1).getOrCreateStandaloneInjector(s)}function fm(s,o,u,l,d){return j1(ge(),gn(),s,o,u,l,d)}function j1(s,o,u,l,d,p,_){const w=o+u;return Tu(s,w,d,p)?function Kr(s,o,u){return s[o]=u}(s,w+2,_?l.call(_,d,p):l(d,p)):function Ci(s,o){const u=s[o];return u===bt?void 0:u}(s,w+2)}function Bb(s,o){const u=$t();let l;const d=s+St;u.firstCreatePass?(l=function H1(s,o){if(o)for(let u=o.length-1;u>=0;u--){const l=o[u];if(s===l.name)return l}}(o,u.pipeRegistry),u.data[d]=l,l.onDestroy&&(u.destroyHooks??=[]).push(d,l.onDestroy)):l=u.data[d];const p=l.factory||(l.factory=zs(l.type)),w=zt(Yc);try{const D=sa(!1),C=p();return sa(D),function AM(s,o,u,l){u>=s.data.length&&(s.data[u]=null,s.blueprint[u]=null),o[u]=l}(u,ge(),d,C),C}finally{zt(w)}}function mm(s,o,u,l){const d=s+St,p=ge(),_=Jo(p,d);return function ym(s,o){return s[Le].data[o].pure}(p,d)?j1(p,gn(),o,_.transform,u,l,_):_.transform(u,l)}function z1(){return this._results[Symbol.iterator]()}class $b{get changes(){return this._changes||(this._changes=new Ao)}constructor(o=!1){this._emitDistinctChangesOnly=o,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const u=$b.prototype;u[Symbol.iterator]||(u[Symbol.iterator]=z1)}get(o){return this._results[o]}map(o){return this._results.map(o)}filter(o){return this._results.filter(o)}find(o){return this._results.find(o)}reduce(o,u){return this._results.reduce(o,u)}forEach(o){this._results.forEach(o)}some(o){return this._results.some(o)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(o,u){const l=this;l.dirty=!1;const d=function dr(s){return s.flat(Number.POSITIVE_INFINITY)}(o);(this._changesDetected=!function l_(s,o,u){if(s.length!==o.length)return!1;for(let l=0;l<s.length;l++){let d=s[l],p=o[l];if(u&&(d=u(d),p=u(p)),p!==d)return!1}return!0}(l._results,d,u))&&(l._results=d,l.length=d.length,l.last=d[this.length-1],l.first=d[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}function q1(s,o,u,l=!0){const d=o[Le];if(function $E(s,o,u,l){const d=Jn+l,p=u.length;l>0&&(u[d-1][Fi]=o),l<p-Jn?(o[Fi]=u[d],up(u,Jn+l,o)):(u.push(o),o[Fi]=null),o[un]=u;const _=o[za];null!==_&&u!==_&&function Tp(s,o){const u=s[Wo];o[cn]!==o[un][un][cn]&&(s[Tf]=!0),null===u?s[Wo]=[o]:u.push(o)}(_,o);const w=o[rs];null!==w&&w.insertView(s),o[It]|=128}(d,o,s,u),l){const p=I_(u,s),_=o[Dt],w=Ap(_,s[fi]);null!==w&&function DP(s,o,u,l,d,p){l[pn]=d,l[Hn]=o,$d(s,l,u,1,d,p)}(d,s[Hn],_,o,w,p)}}let Aa=(()=>{class o{}return o.__NG_ELEMENT_ID__=Z1,o})();const W1=Aa,zb=class extends W1{constructor(o,u,l){super(),this._declarationLView=o,this._declarationTContainer=u,this.elementRef=l}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(o,u){return this.createEmbeddedViewImpl(o,u)}createEmbeddedViewImpl(o,u,l){const d=function Hb(s,o,u,l){const d=o.tView,w=sg(s,d,u,4096&s[It]?4096:16,null,o,null,null,null,l?.injector??null,l?.hydrationInfo??null);w[za]=s[o.index];const C=s[rs];return null!==C&&(w[rs]=C.createEmbeddedView(d)),Me(d,w,u),w}(this._declarationLView,this._declarationTContainer,o,{injector:u,hydrationInfo:l});return new hg(d)}};function Z1(){return Ma(Tn(),ge())}function Ma(s,o){return 4&s.type?new zb(o,s,Gc(s,o)):null}let dl=(()=>{class o{}return o.__NG_ELEMENT_ID__=V0,o})();function V0(){return J1(Tn(),ge())}const U0=dl,vm=class extends U0{constructor(o,u,l){super(),this._lContainer=o,this._hostTNode=u,this._hostLView=l}get element(){return Gc(this._hostTNode,this._hostLView)}get injector(){return new Xn(this._hostTNode,this._hostLView)}get parentInjector(){const o=Dc(this._hostTNode,this._hostLView);if(_o(o)){const u=Ws(o,this._hostLView),l=Ss(o);return new Xn(u[Le].data[l+8],u)}return new Xn(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(o){const u=Q1(this._lContainer);return null!==u&&u[o]||null}get length(){return this._lContainer.length-Jn}createEmbeddedView(o,u,l){let d,p;"number"==typeof l?d=l:null!=l&&(d=l.index,p=l.injector);const w=o.createEmbeddedViewImpl(u||{},p,null);return this.insertImpl(w,d,false),w}createComponent(o,u,l,d,p){const _=o&&!function wi(s){return"function"==typeof s}(o);let w;if(_)w=u;else{const Ie=u||{};w=Ie.index,l=Ie.injector,d=Ie.projectableNodes,p=Ie.environmentInjector||Ie.ngModuleRef}const D=_?o:new mh(jt(o)),C=l||this.parentInjector;if(!p&&null==D.ngModule){const Ve=(_?C:this.parentInjector).get(So,null);Ve&&(p=Ve)}jt(D.componentType??{});const H=D.create(C,d,null,p);return this.insertImpl(H.hostView,w,false),H}insert(o,u){return this.insertImpl(o,u,!1)}insertImpl(o,u,l){const d=o._lView;if(function hd(s){return cr(s[un])}(d)){const D=this.indexOf(o);if(-1!==D)this.detach(D);else{const C=d[un],A=new vm(C,C[Hn],C[un]);A.detach(A.indexOf(o))}}const _=this._adjustIndex(u),w=this._lContainer;return q1(w,d,_,!l),o.attachToViewContainerRef(),up(qb(w),_,o),o}move(o,u){return this.insert(o,u)}indexOf(o){const u=Q1(this._lContainer);return null!==u?u.indexOf(o):-1}remove(o){const u=this._adjustIndex(o,-1),l=Sp(this._lContainer,u);l&&(Io(qb(this._lContainer),u),pa(l[Le],l))}detach(o){const u=this._adjustIndex(o,-1),l=Sp(this._lContainer,u);return l&&null!=Io(qb(this._lContainer),u)?new hg(l):null}_adjustIndex(o,u=0){return o??this.length+u}};function Q1(s){return s[8]}function qb(s){return s[8]||(s[8]=[])}function J1(s,o){let u;const l=o[s.index];return cr(l)?u=l:(u=dv(l,o,null,s),o[s.index]=u,hv(o,u)),wm(u,o,s,l),new vm(u,s,o)}let wm=function Lu(s,o,u,l){if(s[fi])return;let d;d=8&u.type?rn(l):function B0(s,o){const u=s[Dt],l=u.createComment(""),d=zn(o,s);return du(u,Ap(u,d),l,function CP(s,o){return s.nextSibling(o)}(u,d),!1),l}(o,u),s[fi]=d};class hl{constructor(o){this.queryList=o,this.matches=null}clone(){return new hl(this.queryList)}setDirty(){this.queryList.setDirty()}}class No{constructor(o=[]){this.queries=o}createEmbeddedView(o){const u=o.queries;if(null!==u){const l=null!==o.contentQueries?o.contentQueries[0]:u.length,d=[];for(let p=0;p<l;p++){const _=u.getByIndex(p);d.push(this.queries[_.indexInDeclarationView].clone())}return new No(d)}return null}insertView(o){this.dirtyQueriesWithMatches(o)}detachView(o){this.dirtyQueriesWithMatches(o)}dirtyQueriesWithMatches(o){for(let u=0;u<this.queries.length;u++)null!==eC(o,u).matches&&this.queries[u].setDirty()}}class Zb{constructor(o,u,l=null){this.predicate=o,this.flags=u,this.read=l}}class Ro{constructor(o=[]){this.queries=o}elementStart(o,u){for(let l=0;l<this.queries.length;l++)this.queries[l].elementStart(o,u)}elementEnd(o){for(let u=0;u<this.queries.length;u++)this.queries[u].elementEnd(o)}embeddedTView(o){let u=null;for(let l=0;l<this.length;l++){const d=null!==u?u.length:0,p=this.getByIndex(l).embeddedTView(o,d);p&&(p.indexInDeclarationView=l,null!==u?u.push(p):u=[p])}return null!==u?new Ro(u):null}template(o,u){for(let l=0;l<this.queries.length;l++)this.queries[l].template(o,u)}getByIndex(o){return this.queries[o]}get length(){return this.queries.length}track(o){this.queries.push(o)}}class Kb{constructor(o,u=-1){this.metadata=o,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=u}elementStart(o,u){this.isApplyingToNode(u)&&this.matchTNode(o,u)}elementEnd(o){this._declarationNodeIndex===o.index&&(this._appliesToNextNode=!1)}template(o,u){this.elementStart(o,u)}embeddedTView(o,u){return this.isApplyingToNode(o)?(this.crossesNgTemplate=!0,this.addMatch(-o.index,u),new Kb(this.metadata)):null}isApplyingToNode(o){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const u=this._declarationNodeIndex;let l=o.parent;for(;null!==l&&8&l.type&&l.index!==u;)l=l.parent;return u===(null!==l?l.index:-1)}return this._appliesToNextNode}matchTNode(o,u){const l=this.metadata.predicate;if(Array.isArray(l))for(let d=0;d<l.length;d++){const p=l[d];this.matchTNodeWithReadOption(o,u,Sk(u,p)),this.matchTNodeWithReadOption(o,u,In(u,o,p,!1,!1))}else l===Aa?4&u.type&&this.matchTNodeWithReadOption(o,u,-1):this.matchTNodeWithReadOption(o,u,In(u,o,l,!1,!1))}matchTNodeWithReadOption(o,u,l){if(null!==l){const d=this.metadata.read;if(null!==d)if(d===Jp||d===dl||d===Aa&&4&u.type)this.addMatch(u.index,-2);else{const p=In(u,o,d,!1,!1);null!==p&&this.addMatch(u.index,p)}else this.addMatch(u.index,l)}}addMatch(o,u){null===this.matches?this.matches=[o,u]:this.matches.push(o,u)}}function Sk(s,o){const u=s.localNames;if(null!==u)for(let l=0;l<u.length;l+=2)if(u[l]===o)return u[l+1];return null}function ex(s,o,u,l){return-1===u?function Yb(s,o){return 11&s.type?Gc(s,o):4&s.type?Ma(s,o):null}(o,s):-2===u?function tx(s,o,u){return u===Jp?Gc(o,s):u===Aa?Ma(o,s):u===dl?J1(o,s):void 0}(s,o,l):xr(s,s[Le],u,o)}function Ti(s,o,u,l){const d=o[rs].queries[l];if(null===d.matches){const p=s.data,_=u.matches,w=[];for(let D=0;D<_.length;D+=2){const C=_[D];w.push(C<0?null:ex(o,p[C],_[D+1],u.metadata.read))}d.matches=w}return d.matches}function Oo(s,o,u,l){const d=s.queries.getByIndex(u),p=d.matches;if(null!==p){const _=Ti(s,o,d,u);for(let w=0;w<p.length;w+=2){const D=p[w];if(D>0)l.push(_[w/2]);else{const C=p[w+1],A=o[-D];for(let x=Jn;x<A.length;x++){const V=A[x];V[za]===V[un]&&Oo(V[Le],V,C,l)}if(null!==A[Wo]){const x=A[Wo];for(let V=0;V<x.length;V++){const H=x[V];Oo(H[Le],H,C,l)}}}}}return l}function Vu(s){const o=ge(),u=$t(),l=Ic();Wf(l+1);const d=eC(u,l);if(s.dirty&&function zy(s){return 4==(4&s[It])}(o)===(2==(2&d.metadata.flags))){if(null===d.matches)s.reset([]);else{const p=d.crossesNgTemplate?Oo(u,o,l,[]):Ti(u,o,d,l);s.reset(p,VP),s.notifyOnChanges()}return!0}return!1}function nx(s,o,u,l){const d=$t();if(d.firstCreatePass){const p=Tn();(function Xb(s,o,u){null===s.queries&&(s.queries=new Ro),s.queries.track(new Kb(o,u))})(d,new Zb(o,u,l),p.index),function rx(s,o){const u=s.contentQueries||(s.contentQueries=[]);o!==(u.length?u[u.length-1]:-1)&&u.push(s.queries.length-1,o)}(d,s),2==(2&u)&&(d.staticContentQueries=!0)}!function Jb(s,o,u){const l=new $b(4==(4&u));(function UA(s,o,u,l){const d=YA(o);d.push(u),s.firstCreatePass&&QA(s).push(l,d.length-1)})(s,o,l,l.destroy),null===o[rs]&&(o[rs]=new No),o[rs].queries.push(new hl(l))}(d,ge(),u)}function Qb(){return function $0(s,o){return s[rs].queries[o].queryList}(ge(),Ic())}function eC(s,o){return s.queries.getByIndex(o)}function tC(s,o){return Ma(s,o)}function kh(s){return!!bn(s)}const Nm=new qt("Application Initializer");let Rm=(()=>{var s;class o{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((l,d)=>{this.resolve=l,this.reject=d}),this.appInits=Vt(Nm,{optional:!0})??[]}runInitializers(){if(this.initialized)return;const l=[];for(const p of this.appInits){const _=p();if(bh(_))l.push(_);else if(rl(_)){const w=new Promise((D,C)=>{_.subscribe({complete:D,error:C})});l.push(w)}}const d=()=>{this.done=!0,this.resolve()};Promise.all(l).then(()=>{d()}).catch(p=>{this.reject(p)}),0===l.length&&d(),this.initialized=!0}}return(s=o).\u0275fac=function(l){return new(l||s)},s.\u0275prov=_t({token:s,factory:s.\u0275fac,providedIn:"root"}),o})(),wC=(()=>{var s;class o{log(l){console.log(l)}warn(l){console.warn(l)}}return(s=o).\u0275fac=function(l){return new(l||s)},s.\u0275prov=_t({token:s,factory:s.\u0275fac,providedIn:"platform"}),o})();const Po=new qt("LocaleId",{providedIn:"root",factory:()=>Vt(Po,mt.Optional|mt.SkipSelf)||function EC(){return typeof $localize<"u"&&$localize.locale||al}()}),IC=new qt("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});let DC=(()=>{var s;class o{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new fe.X(!1)}add(){this.hasPendingTasks.next(!0);const l=this.taskId++;return this.pendingTasks.add(l),l}remove(l){this.pendingTasks.delete(l),0===this.pendingTasks.size&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks.next(!1)}}return(s=o).\u0275fac=function(l){return new(l||s)},s.\u0275prov=_t({token:s,factory:s.\u0275fac,providedIn:"root"}),o})();class yx{constructor(o,u){this.ngModuleFactory=o,this.componentFactories=u}}let _x=(()=>{var s;class o{compileModuleSync(l){return new Nh(l)}compileModuleAsync(l){return Promise.resolve(this.compileModuleSync(l))}compileModuleAndAllComponentsSync(l){const d=this.compileModuleSync(l),_=wa(bn(l).declarations).reduce((w,D)=>{const C=jt(D);return C&&w.push(new mh(C)),w},[]);return new yx(d,_)}compileModuleAndAllComponentsAsync(l){return Promise.resolve(this.compileModuleAndAllComponentsSync(l))}clearCache(){}clearCacheFor(l){}getModuleId(l){}}return(s=o).\u0275fac=function(l){return new(l||s)},s.\u0275prov=_t({token:s,factory:s.\u0275fac,providedIn:"root"}),o})();const km=new qt(""),Sx=new qt("");let X0,Ax=(()=>{var s;class o{constructor(l,d,p){this._ngZone=l,this.registry=d,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,X0||(function xx(s){X0=s}(p),p.addToWindow(d)),this._watchAngularEvents(),l.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Pn.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let l=this._callbacks.pop();clearTimeout(l.timeoutId),l.doneCb(this._didWork)}this._didWork=!1});else{let l=this.getPendingTasks();this._callbacks=this._callbacks.filter(d=>!d.updateCb||!d.updateCb(l)||(clearTimeout(d.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(l=>({source:l.source,creationLocation:l.creationLocation,data:l.data})):[]}addCallback(l,d,p){let _=-1;d&&d>0&&(_=setTimeout(()=>{this._callbacks=this._callbacks.filter(w=>w.timeoutId!==_),l(this._didWork,this.getPendingTasks())},d)),this._callbacks.push({doneCb:l,timeoutId:_,updateCb:p})}whenStable(l,d,p){if(p&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(l,d,p),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(l){this.registry.registerApplication(l,this)}unregisterApplication(l){this.registry.unregisterApplication(l)}findProviders(l,d,p){return[]}}return(s=o).\u0275fac=function(l){return new(l||s)(dt(Pn),dt(Mx),dt(Sx))},s.\u0275prov=_t({token:s,factory:s.\u0275fac}),o})(),Mx=(()=>{var s;class o{constructor(){this._applications=new Map}registerApplication(l,d){this._applications.set(l,d)}unregisterApplication(l){this._applications.delete(l)}unregisterAllApplications(){this._applications.clear()}getTestability(l){return this._applications.get(l)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(l,d=!0){return X0?.findTestabilityInTree(this,l,d)??null}}return(s=o).\u0275fac=function(l){return new(l||s)},s.\u0275prov=_t({token:s,factory:s.\u0275fac,providedIn:"platform"}),o})(),Uu=null;const Nx=new qt("AllowMultipleToken"),ew=new qt("PlatformDestroyListeners"),xC=new qt("appBootstrapListener");class Hk{constructor(o,u){this.name=o,this.token=u}}function RC(s,o,u=[]){const l=`Platform: ${o}`,d=new qt(l);return(p=[])=>{let _=Fm();if(!_||_.injector.get(Nx,!1)){const w=[...u,...p,{provide:d,useValue:!0}];s?s(w):function Ox(s){if(Uu&&!Uu.get(Nx,!1))throw new K(400,!1);(function Rx(){!function Of(s){ud=s}(()=>{throw new K(600,!1)})})(),Uu=s;const o=s.get(Fx);(function NC(s){s.get(bI,null)?.forEach(u=>u())})(s)}(function OC(s=[],o){return ds.create({name:o,providers:[{provide:L_,useValue:"platform"},{provide:ew,useValue:new Set([()=>Uu=null])},...s]})}(w,l))}return function kx(s){const o=Fm();if(!o)throw new K(401,!1);return o}()}}function Fm(){return Uu?.get(Fx)??null}let Fx=(()=>{var s;class o{constructor(l){this._injector=l,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(l,d){const p=function kC(s="zone.js",o){return"noop"===s?new LI:"zone.js"===s?new Pn(o):s}(d?.ngZone,function PC(s){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:s?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:s?.runCoalescing??!1}}({eventCoalescing:d?.ngZoneEventCoalescing,runCoalescing:d?.ngZoneRunCoalescing}));return p.run(()=>{const _=function Cb(s,o,u){return new A0(s,o,u)}(l.moduleType,this.injector,function VC(s){return[{provide:Pn,useFactory:s},{provide:qd,multi:!0,useFactory:()=>{const o=Vt(Vx,{optional:!0});return()=>o.initialize()}},{provide:LC,useFactory:Lx},{provide:VI,useFactory:Y_}]}(()=>p)),w=_.injector.get(Ea,null);return p.runOutsideAngular(()=>{const D=p.onError.subscribe({next:C=>{w.handleError(C)}});_.onDestroy(()=>{gl(this._modules,_),D.unsubscribe()})}),function Lm(s,o,u){try{const l=u();return bh(l)?l.catch(d=>{throw o.runOutsideAngular(()=>s.handleError(d)),d}):l}catch(l){throw o.runOutsideAngular(()=>s.handleError(l)),l}}(w,p,()=>{const D=_.injector.get(Rm);return D.runInitializers(),D.donePromise.then(()=>(function Yg(s){Ct(s,"Expected localeId to be defined"),"string"==typeof s&&(Kg=s.toLowerCase().replace(/_/g,"-"))}(_.injector.get(Po,al)||al),this._moduleDoBootstrap(_),_))})})}bootstrapModule(l,d=[]){const p=tw({},d);return function jk(s,o,u){const l=new Nh(u);return Promise.resolve(l)}(0,0,l).then(_=>this.bootstrapModuleFactory(_,p))}_moduleDoBootstrap(l){const d=l.injector.get(Bh);if(l._bootstrapComponents.length>0)l._bootstrapComponents.forEach(p=>d.bootstrap(p));else{if(!l.instance.ngDoBootstrap)throw new K(-403,!1);l.instance.ngDoBootstrap(d)}this._modules.push(l)}onDestroy(l){this._destroyListeners.push(l)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new K(404,!1);this._modules.slice().forEach(d=>d.destroy()),this._destroyListeners.forEach(d=>d());const l=this._injector.get(ew,null);l&&(l.forEach(d=>d()),l.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return(s=o).\u0275fac=function(l){return new(l||s)(dt(ds))},s.\u0275prov=_t({token:s,factory:s.\u0275fac,providedIn:"platform"}),o})();function tw(s,o){return Array.isArray(o)?o.reduce(tw,s):{...s,...o}}let Bh=(()=>{var s;class o{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=Vt(LC),this.zoneIsStable=Vt(VI),this.componentTypes=[],this.components=[],this.isStable=Vt(DC).hasPendingTasks.pipe((0,ze.w)(l=>l?(0,me.of)(!1):this.zoneIsStable),function ne(s,o=xe.y){return s=s??ke,(0,L.e)((u,l)=>{let d,p=!0;u.subscribe((0,U.x)(l,_=>{const w=o(_);(p||!s(d,w))&&(p=!1,d=w,l.next(_))}))})}(),(0,Pe.B)()),this._injector=Vt(So)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(l,d){const p=l instanceof DA;if(!this._injector.get(Rm).done)throw!p&&ns(l),new K(405,!1);let w;w=p?l:this._injector.get(eh).resolveComponentFactory(l),this.componentTypes.push(w.componentType);const D=function $k(s){return s.isBoundToModule}(w)?void 0:this._injector.get(Sa),A=w.create(ds.NULL,[],d||w.selector,D),x=A.location.nativeElement,V=A.injector.get(km,null);return V?.registerApplication(x),A.onDestroy(()=>{this.detachView(A.hostView),gl(this.components,A),V?.unregisterApplication(x)}),this._loadComponent(A),A}tick(){if(this._runningTick)throw new K(101,!1);try{this._runningTick=!0;for(let l of this._views)l.detectChanges()}catch(l){this.internalErrorHandler(l)}finally{this._runningTick=!1}}attachView(l){const d=l;this._views.push(d),d.attachToAppRef(this)}detachView(l){const d=l;gl(this._views,d),d.detachFromAppRef()}_loadComponent(l){this.attachView(l.hostView),this.tick(),this.components.push(l);const d=this._injector.get(xC,[]);d.push(...this._bootstrapListeners),d.forEach(p=>p(l))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(l=>l()),this._views.slice().forEach(l=>l.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(l){return this._destroyListeners.push(l),()=>gl(this._destroyListeners,l)}destroy(){if(this._destroyed)throw new K(406,!1);const l=this._injector;l.destroy&&!l.destroyed&&l.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return(s=o).\u0275fac=function(l){return new(l||s)},s.\u0275prov=_t({token:s,factory:s.\u0275fac,providedIn:"root"}),o})();function gl(s,o){const u=s.indexOf(o);u>-1&&s.splice(u,1)}const LC=new qt("",{providedIn:"root",factory:()=>Vt(Ea).handleError.bind(void 0)});function Lx(){const s=Vt(Pn),o=Vt(Ea);return u=>s.runOutsideAngular(()=>o.handleError(u))}let Vx=(()=>{var s;class o{constructor(){this.zone=Vt(Pn),this.applicationRef=Vt(Bh)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}}return(s=o).\u0275fac=function(l){return new(l||s)},s.\u0275prov=_t({token:s,factory:s.\u0275fac,providedIn:"root"}),o})();function Zk(){return!1}let Kk=(()=>{class o{}return o.__NG_ELEMENT_ID__=Yk,o})();function Yk(s){return function Qk(s,o,u){if(Ds(s)&&!u){const l=mi(s.index,o);return new hg(l,l)}return 47&s.type?new hg(o[cn],o):null}(Tn(),ge(),16==(16&s))}class $x{constructor(){}supports(o){return _v(o)}create(o){return new iF(o)}}const rF=(s,o)=>o;class iF{constructor(o){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=o||rF}forEachItem(o){let u;for(u=this._itHead;null!==u;u=u._next)o(u)}forEachOperation(o){let u=this._itHead,l=this._removalsHead,d=0,p=null;for(;u||l;){const _=!l||u&&u.currentIndex<zx(l,d,p)?u:l,w=zx(_,d,p),D=_.currentIndex;if(_===l)d--,l=l._nextRemoved;else if(u=u._next,null==_.previousIndex)d++;else{p||(p=[]);const C=w-d,A=D-d;if(C!=A){for(let V=0;V<C;V++){const H=V<p.length?p[V]:p[V]=0,oe=H+V;A<=oe&&oe<C&&(p[V]=H+1)}p[_.previousIndex]=A-C}}w!==D&&o(_,w,D)}}forEachPreviousItem(o){let u;for(u=this._previousItHead;null!==u;u=u._nextPrevious)o(u)}forEachAddedItem(o){let u;for(u=this._additionsHead;null!==u;u=u._nextAdded)o(u)}forEachMovedItem(o){let u;for(u=this._movesHead;null!==u;u=u._nextMoved)o(u)}forEachRemovedItem(o){let u;for(u=this._removalsHead;null!==u;u=u._nextRemoved)o(u)}forEachIdentityChange(o){let u;for(u=this._identityChangesHead;null!==u;u=u._nextIdentityChange)o(u)}diff(o){if(null==o&&(o=[]),!_v(o))throw new K(900,!1);return this.check(o)?this:null}onDestroy(){}check(o){this._reset();let d,p,_,u=this._itHead,l=!1;if(Array.isArray(o)){this.length=o.length;for(let w=0;w<this.length;w++)p=o[w],_=this._trackByFn(w,p),null!==u&&Object.is(u.trackById,_)?(l&&(u=this._verifyReinsertion(u,p,_,w)),Object.is(u.item,p)||this._addIdentityChange(u,p)):(u=this._mismatch(u,p,_,w),l=!0),u=u._next}else d=0,function nk(s,o){if(Array.isArray(s))for(let u=0;u<s.length;u++)o(s[u]);else{const u=s[Symbol.iterator]();let l;for(;!(l=u.next()).done;)o(l.value)}}(o,w=>{_=this._trackByFn(d,w),null!==u&&Object.is(u.trackById,_)?(l&&(u=this._verifyReinsertion(u,w,_,d)),Object.is(u.item,w)||this._addIdentityChange(u,w)):(u=this._mismatch(u,w,_,d),l=!0),u=u._next,d++}),this.length=d;return this._truncate(u),this.collection=o,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let o;for(o=this._previousItHead=this._itHead;null!==o;o=o._next)o._nextPrevious=o._next;for(o=this._additionsHead;null!==o;o=o._nextAdded)o.previousIndex=o.currentIndex;for(this._additionsHead=this._additionsTail=null,o=this._movesHead;null!==o;o=o._nextMoved)o.previousIndex=o.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(o,u,l,d){let p;return null===o?p=this._itTail:(p=o._prev,this._remove(o)),null!==(o=null===this._unlinkedRecords?null:this._unlinkedRecords.get(l,null))?(Object.is(o.item,u)||this._addIdentityChange(o,u),this._reinsertAfter(o,p,d)):null!==(o=null===this._linkedRecords?null:this._linkedRecords.get(l,d))?(Object.is(o.item,u)||this._addIdentityChange(o,u),this._moveAfter(o,p,d)):o=this._addAfter(new sF(u,l),p,d),o}_verifyReinsertion(o,u,l,d){let p=null===this._unlinkedRecords?null:this._unlinkedRecords.get(l,null);return null!==p?o=this._reinsertAfter(p,o._prev,d):o.currentIndex!=d&&(o.currentIndex=d,this._addToMoves(o,d)),o}_truncate(o){for(;null!==o;){const u=o._next;this._addToRemovals(this._unlink(o)),o=u}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(o,u,l){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(o);const d=o._prevRemoved,p=o._nextRemoved;return null===d?this._removalsHead=p:d._nextRemoved=p,null===p?this._removalsTail=d:p._prevRemoved=d,this._insertAfter(o,u,l),this._addToMoves(o,l),o}_moveAfter(o,u,l){return this._unlink(o),this._insertAfter(o,u,l),this._addToMoves(o,l),o}_addAfter(o,u,l){return this._insertAfter(o,u,l),this._additionsTail=null===this._additionsTail?this._additionsHead=o:this._additionsTail._nextAdded=o,o}_insertAfter(o,u,l){const d=null===u?this._itHead:u._next;return o._next=d,o._prev=u,null===d?this._itTail=o:d._prev=o,null===u?this._itHead=o:u._next=o,null===this._linkedRecords&&(this._linkedRecords=new Hx),this._linkedRecords.put(o),o.currentIndex=l,o}_remove(o){return this._addToRemovals(this._unlink(o))}_unlink(o){null!==this._linkedRecords&&this._linkedRecords.remove(o);const u=o._prev,l=o._next;return null===u?this._itHead=l:u._next=l,null===l?this._itTail=u:l._prev=u,o}_addToMoves(o,u){return o.previousIndex===u||(this._movesTail=null===this._movesTail?this._movesHead=o:this._movesTail._nextMoved=o),o}_addToRemovals(o){return null===this._unlinkedRecords&&(this._unlinkedRecords=new Hx),this._unlinkedRecords.put(o),o.currentIndex=null,o._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=o,o._prevRemoved=null):(o._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=o),o}_addIdentityChange(o,u){return o.item=u,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=o:this._identityChangesTail._nextIdentityChange=o,o}}class sF{constructor(o,u){this.item=o,this.trackById=u,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class oF{constructor(){this._head=null,this._tail=null}add(o){null===this._head?(this._head=this._tail=o,o._nextDup=null,o._prevDup=null):(this._tail._nextDup=o,o._prevDup=this._tail,o._nextDup=null,this._tail=o)}get(o,u){let l;for(l=this._head;null!==l;l=l._nextDup)if((null===u||u<=l.currentIndex)&&Object.is(l.trackById,o))return l;return null}remove(o){const u=o._prevDup,l=o._nextDup;return null===u?this._head=l:u._nextDup=l,null===l?this._tail=u:l._prevDup=u,null===this._head}}class Hx{constructor(){this.map=new Map}put(o){const u=o.trackById;let l=this.map.get(u);l||(l=new oF,this.map.set(u,l)),l.add(o)}get(o,u){const d=this.map.get(o);return d?d.get(o,u):null}remove(o){const u=o.trackById;return this.map.get(u).remove(o)&&this.map.delete(u),o}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function zx(s,o,u){const l=s.previousIndex;if(null===l)return l;let d=0;return u&&l<u.length&&(d=u[l]),l+o+d}class Gx{constructor(){}supports(o){return o instanceof Map||gD(o)}create(){return new aF}}class aF{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(o){let u;for(u=this._mapHead;null!==u;u=u._next)o(u)}forEachPreviousItem(o){let u;for(u=this._previousMapHead;null!==u;u=u._nextPrevious)o(u)}forEachChangedItem(o){let u;for(u=this._changesHead;null!==u;u=u._nextChanged)o(u)}forEachAddedItem(o){let u;for(u=this._additionsHead;null!==u;u=u._nextAdded)o(u)}forEachRemovedItem(o){let u;for(u=this._removalsHead;null!==u;u=u._nextRemoved)o(u)}diff(o){if(o){if(!(o instanceof Map||gD(o)))throw new K(900,!1)}else o=new Map;return this.check(o)?this:null}onDestroy(){}check(o){this._reset();let u=this._mapHead;if(this._appendAfter=null,this._forEach(o,(l,d)=>{if(u&&u.key===d)this._maybeAddToChanges(u,l),this._appendAfter=u,u=u._next;else{const p=this._getOrCreateRecordForKey(d,l);u=this._insertBeforeOrAppend(u,p)}}),u){u._prev&&(u._prev._next=null),this._removalsHead=u;for(let l=u;null!==l;l=l._nextRemoved)l===this._mapHead&&(this._mapHead=null),this._records.delete(l.key),l._nextRemoved=l._next,l.previousValue=l.currentValue,l.currentValue=null,l._prev=null,l._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(o,u){if(o){const l=o._prev;return u._next=o,u._prev=l,o._prev=u,l&&(l._next=u),o===this._mapHead&&(this._mapHead=u),this._appendAfter=o,o}return this._appendAfter?(this._appendAfter._next=u,u._prev=this._appendAfter):this._mapHead=u,this._appendAfter=u,null}_getOrCreateRecordForKey(o,u){if(this._records.has(o)){const d=this._records.get(o);this._maybeAddToChanges(d,u);const p=d._prev,_=d._next;return p&&(p._next=_),_&&(_._prev=p),d._next=null,d._prev=null,d}const l=new uF(o);return this._records.set(o,l),l.currentValue=u,this._addToAdditions(l),l}_reset(){if(this.isDirty){let o;for(this._previousMapHead=this._mapHead,o=this._previousMapHead;null!==o;o=o._next)o._nextPrevious=o._next;for(o=this._changesHead;null!==o;o=o._nextChanged)o.previousValue=o.currentValue;for(o=this._additionsHead;null!=o;o=o._nextAdded)o.previousValue=o.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(o,u){Object.is(u,o.currentValue)||(o.previousValue=o.currentValue,o.currentValue=u,this._addToChanges(o))}_addToAdditions(o){null===this._additionsHead?this._additionsHead=this._additionsTail=o:(this._additionsTail._nextAdded=o,this._additionsTail=o)}_addToChanges(o){null===this._changesHead?this._changesHead=this._changesTail=o:(this._changesTail._nextChanged=o,this._changesTail=o)}_forEach(o,u){o instanceof Map?o.forEach(u):Object.keys(o).forEach(l=>u(o[l],l))}}class uF{constructor(o){this.key=o,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function qx(){return new HC([new $x])}let HC=(()=>{var s;class o{constructor(l){this.factories=l}static create(l,d){if(null!=d){const p=d.factories.slice();l=l.concat(p)}return new o(l)}static extend(l){return{provide:o,useFactory:d=>o.create(l,d||qx()),deps:[[o,new xc,new iu]]}}find(l){const d=this.factories.find(p=>p.supports(l));if(null!=d)return d;throw new K(901,!1)}}return(s=o).\u0275prov=_t({token:s,providedIn:"root",factory:qx}),o})();function Wx(){return new zC([new Gx])}let zC=(()=>{var s;class o{constructor(l){this.factories=l}static create(l,d){if(d){const p=d.factories.slice();l=l.concat(p)}return new o(l)}static extend(l){return{provide:o,useFactory:d=>o.create(l,d||Wx()),deps:[[o,new xc,new iu]]}}find(l){const d=this.factories.find(p=>p.supports(l));if(d)return d;throw new K(901,!1)}}return(s=o).\u0275prov=_t({token:s,providedIn:"root",factory:Wx}),o})();const dF=RC(null,"core",[]);let hF=(()=>{var s;class o{constructor(l){}}return(s=o).\u0275fac=function(l){return new(l||s)(dt(Bh))},s.\u0275mod=Ha({type:s}),s.\u0275inj=Dr({}),o})();function $h(s){return"boolean"==typeof s?s:null!=s&&"false"!==s}function ow(s){const o=jt(s);if(!o)return null;const u=new mh(o);return{get selector(){return u.selector},get type(){return u.componentType},get inputs(){return u.inputs},get outputs(){return u.outputs},get ngContentSelectors(){return u.ngContentSelectors},get isStandalone(){return o.standalone},get isSignal(){return o.signals}}}},3106:(st,Ee,R)=>{R.d(Ee,{Z:()=>Ze});var h=R(9058),k=R(4537),re=R(534),se=R(7879);class fe{constructor(Te,Re){this._delegate=Te,this.firebase=Re,(0,re._addComponent)(Te,new k.wA("app-compat",()=>this,"PUBLIC")),this.container=Te.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Te){this._delegate.automaticDataCollectionEnabled=Te}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(Te=>{this._delegate.checkDestroyed(),Te()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,re.deleteApp)(this._delegate)))}_getService(Te,Re=re._DEFAULT_ENTRY_NAME){var Xe;this._delegate.checkDestroyed();const De=this._delegate.container.getProvider(Te);return!De.isInitialized()&&"EXPLICIT"===(null===(Xe=De.getComponent())||void 0===Xe?void 0:Xe.instantiationMode)&&De.initialize(),De.getImmediate({identifier:Re})}_removeServiceInstance(Te,Re=re._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(Te).clearInstance(Re)}_addComponent(Te){(0,re._addComponent)(this._delegate,Te)}_addOrOverwriteComponent(Te){(0,re._addOrOverwriteComponent)(this._delegate,Te)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const Pe=new h.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),L=function xe(){const Be=function ze(Be){const Te={},Re={__esModule:!0,initializeApp:function ye(K,z={}){const ve=re.initializeApp(K,z);if((0,h.r3)(Te,ve.name))return Te[ve.name];const Fe=new Be(ve,Re);return Te[ve.name]=Fe,Fe},app:De,registerVersion:re.registerVersion,setLogLevel:re.setLogLevel,onLog:re.onLog,apps:null,SDK_VERSION:re.SDK_VERSION,INTERNAL:{registerComponent:function _e(K){const z=K.name,ve=z.replace("-compat","");if(re._registerComponent(K)&&"PUBLIC"===K.type){const Fe=(_n=De())=>{if("function"!=typeof _n[ve])throw Pe.create("invalid-app-argument",{appName:z});return _n[ve]()};void 0!==K.serviceProps&&(0,h.ZB)(Fe,K.serviceProps),Re[ve]=Fe,Be.prototype[ve]=function(..._n){return this._getService.bind(this,z).apply(this,K.multipleInstances?_n:[])}}return"PUBLIC"===K.type?Re[ve]:null},removeApp:function Xe(K){delete Te[K]},useAsService:function Oe(K,z){return"serverAuth"===z?null:z},modularAPIs:re}};function De(K){if(!(0,h.r3)(Te,K=K||re._DEFAULT_ENTRY_NAME))throw Pe.create("no-app",{appName:K});return Te[K]}return Re.default=Re,Object.defineProperty(Re,"apps",{get:function le(){return Object.keys(Te).map(K=>Te[K])}}),De.App=Be,Re}(fe);return Be.INTERNAL=Object.assign(Object.assign({},Be.INTERNAL),{createFirebaseNamespace:xe,extendNamespace:function Te(Re){(0,h.ZB)(Be,Re)},createSubscribe:h.ne,ErrorFactory:h.LL,deepExtend:h.ZB}),Be}(),U=new se.Yd("@firebase/app-compat");if((0,h.jU)()&&void 0!==self.firebase){U.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const Be=self.firebase.SDK_VERSION;Be&&Be.indexOf("LITE")>=0&&U.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const Ze=L;!function ce(Be){(0,re.registerVersion)("@firebase/app-compat","0.2.13",Be)}()},534:(st,Ee,R)=>{R.r(Ee),R.d(Ee,{FirebaseError:()=>se.ZR,SDK_VERSION:()=>vs,_DEFAULT_ENTRY_NAME:()=>vn,_addComponent:()=>mt,_addOrOverwriteComponent:()=>br,_apps:()=>Tt,_clearComponents:()=>nn,_components:()=>Zn,_getProvider:()=>zt,_registerComponent:()=>ui,_removeServiceInstance:()=>_s,deleteApp:()=>jr,getApp:()=>es,getApps:()=>Ri,initializeApp:()=>lo,onLog:()=>mr,registerVersion:()=>Oi,setLogLevel:()=>_f});var h=R(5861),k=R(4537),re=R(7879),se=R(9058);const fe=(ie,G)=>G.some(be=>ie instanceof be);let me,Pe;const L=new WeakMap,U=new WeakMap,ne=new WeakMap,ke=new WeakMap,ce=new WeakMap;let Te={get(ie,G,be){if(ie instanceof IDBTransaction){if("done"===G)return U.get(ie);if("objectStoreNames"===G)return ie.objectStoreNames||ne.get(ie);if("store"===G)return be.objectStoreNames[1]?void 0:be.objectStore(be.objectStoreNames[0])}return ye(ie[G])},set:(ie,G,be)=>(ie[G]=be,!0),has:(ie,G)=>ie instanceof IDBTransaction&&("done"===G||"store"===G)||G in ie};function De(ie){return"function"==typeof ie?function Xe(ie){return ie!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function xe(){return Pe||(Pe=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(ie)?function(...G){return ie.apply(le(this),G),ye(L.get(this))}:function(...G){return ye(ie.apply(le(this),G))}:function(G,...be){const et=ie.call(le(this),G,...be);return ne.set(et,G.sort?G.sort():[G]),ye(et)}}(ie):(ie instanceof IDBTransaction&&function Be(ie){if(U.has(ie))return;const G=new Promise((be,et)=>{const ot=()=>{ie.removeEventListener("complete",Et),ie.removeEventListener("error",Ft),ie.removeEventListener("abort",Ft)},Et=()=>{be(),ot()},Ft=()=>{et(ie.error||new DOMException("AbortError","AbortError")),ot()};ie.addEventListener("complete",Et),ie.addEventListener("error",Ft),ie.addEventListener("abort",Ft)});U.set(ie,G)}(ie),fe(ie,function ze(){return me||(me=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(ie,Te):ie)}function ye(ie){if(ie instanceof IDBRequest)return function Ze(ie){const G=new Promise((be,et)=>{const ot=()=>{ie.removeEventListener("success",Et),ie.removeEventListener("error",Ft)},Et=()=>{be(ye(ie.result)),ot()},Ft=()=>{et(ie.error),ot()};ie.addEventListener("success",Et),ie.addEventListener("error",Ft)});return G.then(be=>{be instanceof IDBCursor&&L.set(be,ie)}).catch(()=>{}),ce.set(G,ie),G}(ie);if(ke.has(ie))return ke.get(ie);const G=De(ie);return G!==ie&&(ke.set(ie,G),ce.set(G,ie)),G}const le=ie=>ce.get(ie),K=["get","getKey","getAll","getAllKeys","count"],z=["put","add","delete","clear"],ve=new Map;function Fe(ie,G){if(!(ie instanceof IDBDatabase)||G in ie||"string"!=typeof G)return;if(ve.get(G))return ve.get(G);const be=G.replace(/FromIndex$/,""),et=G!==be,ot=z.includes(be);if(!(be in(et?IDBIndex:IDBObjectStore).prototype)||!ot&&!K.includes(be))return;const Et=function(){var Ft=(0,h.Z)(function*(on,...at){const Pi=this.transaction(on,ot?"readwrite":"readonly");let fo=Pi.store;return et&&(fo=fo.index(at.shift())),(yield Promise.all([fo[be](...at),ot&&Pi.done]))[0]});return function(at){return Ft.apply(this,arguments)}}();return ve.set(G,Et),Et}!function Re(ie){Te=ie(Te)}(ie=>({...ie,get:(G,be,et)=>Fe(G,be)||ie.get(G,be,et),has:(G,be)=>!!Fe(G,be)||ie.has(G,be)}));class _n{constructor(G){this.container=G}getPlatformInfoString(){return this.container.getProviders().map(be=>{if(function ai(ie){const G=ie.getComponent();return"VERSION"===G?.type}(be)){const et=be.getImmediate();return`${et.library}/${et.version}`}return null}).filter(be=>be).join(" ")}}const gs="@firebase/app",hn=new re.Yd("@firebase/app"),vn="[DEFAULT]",xt={[gs]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},Tt=new Map,Zn=new Map;function mt(ie,G){try{ie.container.addComponent(G)}catch(be){hn.debug(`Component ${G.name} failed to register with FirebaseApp ${ie.name}`,be)}}function br(ie,G){ie.container.addOrOverwriteComponent(G)}function ui(ie){const G=ie.name;if(Zn.has(G))return hn.debug(`There were multiple attempts to register component ${G}.`),!1;Zn.set(G,ie);for(const be of Tt.values())mt(be,ie);return!0}function zt(ie,G){const be=ie.container.getProvider("heartbeat").getImmediate({optional:!0});return be&&be.triggerHeartbeat(),ie.container.getProvider(G)}function _s(ie,G,be=vn){zt(ie,G).clearInstance(be)}function nn(){Zn.clear()}const kt=new se.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class Ul{constructor(G,be,et){this._isDeleted=!1,this._options=Object.assign({},G),this._config=Object.assign({},be),this._name=be.name,this._automaticDataCollectionEnabled=be.automaticDataCollectionEnabled,this._container=et,this.container.addComponent(new k.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(G){this.checkDestroyed(),this._automaticDataCollectionEnabled=G}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(G){this._isDeleted=G}checkDestroyed(){if(this.isDeleted)throw kt.create("app-deleted",{appName:this._name})}}const vs="9.23.0";function lo(ie,G={}){let be=ie;"object"!=typeof G&&(G={name:G});const et=Object.assign({name:vn,automaticDataCollectionEnabled:!1},G),ot=et.name;if("string"!=typeof ot||!ot)throw kt.create("bad-app-name",{appName:String(ot)});if(be||(be=(0,se.aH)()),!be)throw kt.create("no-options");const Et=Tt.get(ot);if(Et){if((0,se.vZ)(be,Et.options)&&(0,se.vZ)(et,Et.config))return Et;throw kt.create("duplicate-app",{appName:ot})}const Ft=new k.H0(ot);for(const at of Zn.values())Ft.addComponent(at);const on=new Ul(be,et,Ft);return Tt.set(ot,on),on}function es(ie=vn){const G=Tt.get(ie);if(!G&&ie===vn&&(0,se.aH)())return lo();if(!G)throw kt.create("no-app",{appName:ie});return G}function Ri(){return Array.from(Tt.values())}function jr(ie){return Kn.apply(this,arguments)}function Kn(){return(Kn=(0,h.Z)(function*(ie){const G=ie.name;Tt.has(G)&&(Tt.delete(G),yield Promise.all(ie.container.getProviders().map(be=>be.delete())),ie.isDeleted=!0)})).apply(this,arguments)}function Oi(ie,G,be){var et;let ot=null!==(et=xt[ie])&&void 0!==et?et:ie;be&&(ot+=`-${be}`);const Et=ot.match(/\s|\//),Ft=G.match(/\s|\//);if(Et||Ft){const on=[`Unable to register library "${ot}" with version "${G}":`];return Et&&on.push(`library name "${ot}" contains illegal characters (whitespace or "/")`),Et&&Ft&&on.push("and"),Ft&&on.push(`version name "${G}" contains illegal characters (whitespace or "/")`),void hn.warn(on.join(" "))}ui(new k.wA(`${ot}-version`,()=>({library:ot,version:G}),"VERSION"))}function mr(ie,G){if(null!==ie&&"function"!=typeof ie)throw kt.create("invalid-log-argument");(0,re.Am)(ie,G)}function _f(ie){(0,re.Ub)(ie)}const ho="firebase-heartbeat-database",Hs=1,F="firebase-heartbeat-store";let P=null;function j(){return P||(P=function _e(ie,G,{blocked:be,upgrade:et,blocking:ot,terminated:Et}={}){const Ft=indexedDB.open(ie,G),on=ye(Ft);return et&&Ft.addEventListener("upgradeneeded",at=>{et(ye(Ft.result),at.oldVersion,at.newVersion,ye(Ft.transaction),at)}),be&&Ft.addEventListener("blocked",at=>be(at.oldVersion,at.newVersion,at)),on.then(at=>{Et&&at.addEventListener("close",()=>Et()),ot&&at.addEventListener("versionchange",Pi=>ot(Pi.oldVersion,Pi.newVersion,Pi))}).catch(()=>{}),on}(ho,Hs,{upgrade:(ie,G)=>{0===G&&ie.createObjectStore(F)}}).catch(ie=>{throw kt.create("idb-open",{originalErrorMessage:ie.message})})),P}function W(){return(W=(0,h.Z)(function*(ie){try{return yield(yield j()).transaction(F).objectStore(F).get(Bt(ie))}catch(G){if(G instanceof se.ZR)hn.warn(G.message);else{const be=kt.create("idb-get",{originalErrorMessage:G?.message});hn.warn(be.message)}}})).apply(this,arguments)}function Ke(ie,G){return ct.apply(this,arguments)}function ct(){return(ct=(0,h.Z)(function*(ie,G){try{const et=(yield j()).transaction(F,"readwrite");yield et.objectStore(F).put(G,Bt(ie)),yield et.done}catch(be){if(be instanceof se.ZR)hn.warn(be.message);else{const et=kt.create("idb-set",{originalErrorMessage:be?.message});hn.warn(et.message)}}})).apply(this,arguments)}function Bt(ie){return`${ie.name}!${ie.options.appId}`}class Cr{constructor(G){this.container=G,this._heartbeatsCache=null;const be=this.container.getProvider("app").getImmediate();this._storage=new Vt(be),this._heartbeatsCachePromise=this._storage.read().then(et=>(this._heartbeatsCache=et,et))}triggerHeartbeat(){var G=this;return(0,h.Z)(function*(){const et=G.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),ot=dt();if(null===G._heartbeatsCache&&(G._heartbeatsCache=yield G._heartbeatsCachePromise),G._heartbeatsCache.lastSentHeartbeatDate!==ot&&!G._heartbeatsCache.heartbeats.some(Et=>Et.date===ot))return G._heartbeatsCache.heartbeats.push({date:ot,agent:et}),G._heartbeatsCache.heartbeats=G._heartbeatsCache.heartbeats.filter(Et=>{const Ft=new Date(Et.date).valueOf();return Date.now()-Ft<=2592e6}),G._storage.overwrite(G._heartbeatsCache)})()}getHeartbeatsHeader(){var G=this;return(0,h.Z)(function*(){if(null===G._heartbeatsCache&&(yield G._heartbeatsCachePromise),null===G._heartbeatsCache||0===G._heartbeatsCache.heartbeats.length)return"";const be=dt(),{heartbeatsToSend:et,unsentEntries:ot}=function Tr(ie,G=1024){const be=[];let et=ie.slice();for(const ot of ie){const Et=be.find(Ft=>Ft.agent===ot.agent);if(Et){if(Et.dates.push(ot.date),ws(be)>G){Et.dates.pop();break}}else if(be.push({agent:ot.agent,dates:[ot.date]}),ws(be)>G){be.pop();break}et=et.slice(1)}return{heartbeatsToSend:be,unsentEntries:et}}(G._heartbeatsCache.heartbeats),Et=(0,se.L)(JSON.stringify({version:2,heartbeats:et}));return G._heartbeatsCache.lastSentHeartbeatDate=be,ot.length>0?(G._heartbeatsCache.heartbeats=ot,yield G._storage.overwrite(G._heartbeatsCache)):(G._heartbeatsCache.heartbeats=[],G._storage.overwrite(G._heartbeatsCache)),Et})()}}function dt(){return(new Date).toISOString().substring(0,10)}class Vt{constructor(G){this.app=G,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,h.Z)(function*(){return!!(0,se.hl)()&&(0,se.eu)().then(()=>!0).catch(()=>!1)})()}read(){var G=this;return(0,h.Z)(function*(){return(yield G._canUseIndexedDBPromise)&&(yield function de(ie){return W.apply(this,arguments)}(G.app))||{heartbeats:[]}})()}overwrite(G){var be=this;return(0,h.Z)(function*(){var et;if(yield be._canUseIndexedDBPromise){const Et=yield be.read();return Ke(be.app,{lastSentHeartbeatDate:null!==(et=G.lastSentHeartbeatDate)&&void 0!==et?et:Et.lastSentHeartbeatDate,heartbeats:G.heartbeats})}})()}add(G){var be=this;return(0,h.Z)(function*(){var et;if(yield be._canUseIndexedDBPromise){const Et=yield be.read();return Ke(be.app,{lastSentHeartbeatDate:null!==(et=G.lastSentHeartbeatDate)&&void 0!==et?et:Et.lastSentHeartbeatDate,heartbeats:[...Et.heartbeats,...G.heartbeats]})}})()}}function ws(ie){return(0,se.L)(JSON.stringify({version:2,heartbeats:ie})).length}!function Ho(ie){ui(new k.wA("platform-logger",G=>new _n(G),"PRIVATE")),ui(new k.wA("heartbeat",G=>new Cr(G),"PRIVATE")),Oi(gs,"0.9.13",ie),Oi(gs,"0.9.13","esm2017"),Oi("fire-js","")}("")},4537:(st,Ee,R)=>{R.d(Ee,{H0:()=>ze,wA:()=>re});var h=R(5861),k=R(9058);class re{constructor(L,U,ne){this.name=L,this.instanceFactory=U,this.type=ne,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(L){return this.instantiationMode=L,this}setMultipleInstances(L){return this.multipleInstances=L,this}setServiceProps(L){return this.serviceProps=L,this}setInstanceCreatedCallback(L){return this.onInstanceCreated=L,this}}const se="[DEFAULT]";class fe{constructor(L,U){this.name=L,this.container=U,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(L){const U=this.normalizeInstanceIdentifier(L);if(!this.instancesDeferred.has(U)){const ne=new k.BH;if(this.instancesDeferred.set(U,ne),this.isInitialized(U)||this.shouldAutoInitialize())try{const ke=this.getOrInitializeService({instanceIdentifier:U});ke&&ne.resolve(ke)}catch{}}return this.instancesDeferred.get(U).promise}getImmediate(L){var U;const ne=this.normalizeInstanceIdentifier(L?.identifier),ke=null!==(U=L?.optional)&&void 0!==U&&U;if(!this.isInitialized(ne)&&!this.shouldAutoInitialize()){if(ke)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:ne})}catch(ce){if(ke)return null;throw ce}}getComponent(){return this.component}setComponent(L){if(L.name!==this.name)throw Error(`Mismatching Component ${L.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=L,this.shouldAutoInitialize()){if(function Pe(xe){return"EAGER"===xe.instantiationMode}(L))try{this.getOrInitializeService({instanceIdentifier:se})}catch{}for(const[U,ne]of this.instancesDeferred.entries()){const ke=this.normalizeInstanceIdentifier(U);try{const ce=this.getOrInitializeService({instanceIdentifier:ke});ne.resolve(ce)}catch{}}}}clearInstance(L=se){this.instancesDeferred.delete(L),this.instancesOptions.delete(L),this.instances.delete(L)}delete(){var L=this;return(0,h.Z)(function*(){const U=Array.from(L.instances.values());yield Promise.all([...U.filter(ne=>"INTERNAL"in ne).map(ne=>ne.INTERNAL.delete()),...U.filter(ne=>"_delete"in ne).map(ne=>ne._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(L=se){return this.instances.has(L)}getOptions(L=se){return this.instancesOptions.get(L)||{}}initialize(L={}){const{options:U={}}=L,ne=this.normalizeInstanceIdentifier(L.instanceIdentifier);if(this.isInitialized(ne))throw Error(`${this.name}(${ne}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const ke=this.getOrInitializeService({instanceIdentifier:ne,options:U});for(const[ce,Ze]of this.instancesDeferred.entries())ne===this.normalizeInstanceIdentifier(ce)&&Ze.resolve(ke);return ke}onInit(L,U){var ne;const ke=this.normalizeInstanceIdentifier(U),ce=null!==(ne=this.onInitCallbacks.get(ke))&&void 0!==ne?ne:new Set;ce.add(L),this.onInitCallbacks.set(ke,ce);const Ze=this.instances.get(ke);return Ze&&L(Ze,ke),()=>{ce.delete(L)}}invokeOnInitCallbacks(L,U){const ne=this.onInitCallbacks.get(U);if(ne)for(const ke of ne)try{ke(L,U)}catch{}}getOrInitializeService({instanceIdentifier:L,options:U={}}){let ne=this.instances.get(L);if(!ne&&this.component&&(ne=this.component.instanceFactory(this.container,{instanceIdentifier:(xe=L,xe===se?void 0:xe),options:U}),this.instances.set(L,ne),this.instancesOptions.set(L,U),this.invokeOnInitCallbacks(ne,L),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,L,ne)}catch{}var xe;return ne||null}normalizeInstanceIdentifier(L=se){return this.component?this.component.multipleInstances?L:se:L}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class ze{constructor(L){this.name=L,this.providers=new Map}addComponent(L){const U=this.getProvider(L.name);if(U.isComponentSet())throw new Error(`Component ${L.name} has already been registered with ${this.name}`);U.setComponent(L)}addOrOverwriteComponent(L){this.getProvider(L.name).isComponentSet()&&this.providers.delete(L.name),this.addComponent(L)}getProvider(L){if(this.providers.has(L))return this.providers.get(L);const U=new fe(L,this);return this.providers.set(L,U),U}getProviders(){return Array.from(this.providers.values())}}},7879:(st,Ee,R)=>{R.d(Ee,{Am:()=>xe,Ub:()=>ze,Yd:()=>Pe,in:()=>k});const h=[];var k=function(L){return L[L.DEBUG=0]="DEBUG",L[L.VERBOSE=1]="VERBOSE",L[L.INFO=2]="INFO",L[L.WARN=3]="WARN",L[L.ERROR=4]="ERROR",L[L.SILENT=5]="SILENT",L}(k||{});const re={debug:k.DEBUG,verbose:k.VERBOSE,info:k.INFO,warn:k.WARN,error:k.ERROR,silent:k.SILENT},se=k.INFO,fe={[k.DEBUG]:"log",[k.VERBOSE]:"log",[k.INFO]:"info",[k.WARN]:"warn",[k.ERROR]:"error"},me=(L,U,...ne)=>{if(U<L.logLevel)return;const ke=(new Date).toISOString(),ce=fe[U];if(!ce)throw new Error(`Attempted to log a message with an invalid logType (value: ${U})`);console[ce](`[${ke}]  ${L.name}:`,...ne)};class Pe{constructor(U){this.name=U,this._logLevel=se,this._logHandler=me,this._userLogHandler=null,h.push(this)}get logLevel(){return this._logLevel}set logLevel(U){if(!(U in k))throw new TypeError(`Invalid value "${U}" assigned to \`logLevel\``);this._logLevel=U}setLogLevel(U){this._logLevel="string"==typeof U?re[U]:U}get logHandler(){return this._logHandler}set logHandler(U){if("function"!=typeof U)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=U}get userLogHandler(){return this._userLogHandler}set userLogHandler(U){this._userLogHandler=U}debug(...U){this._userLogHandler&&this._userLogHandler(this,k.DEBUG,...U),this._logHandler(this,k.DEBUG,...U)}log(...U){this._userLogHandler&&this._userLogHandler(this,k.VERBOSE,...U),this._logHandler(this,k.VERBOSE,...U)}info(...U){this._userLogHandler&&this._userLogHandler(this,k.INFO,...U),this._logHandler(this,k.INFO,...U)}warn(...U){this._userLogHandler&&this._userLogHandler(this,k.WARN,...U),this._logHandler(this,k.WARN,...U)}error(...U){this._userLogHandler&&this._userLogHandler(this,k.ERROR,...U),this._logHandler(this,k.ERROR,...U)}}function ze(L){h.forEach(U=>{U.setLogLevel(L)})}function xe(L,U){for(const ne of h){let ke=null;U&&U.level&&(ke=re[U.level]),ne.userLogHandler=null===L?null:(ce,Ze,...Be)=>{const Te=Be.map(Re=>{if(null==Re)return null;if("string"==typeof Re)return Re;if("number"==typeof Re||"boolean"==typeof Re)return Re.toString();if(Re instanceof Error)return Re.message;try{return JSON.stringify(Re)}catch{return null}}).filter(Re=>Re).join(" ");Ze>=(ke??ce.logLevel)&&L({level:k[Ze].toLowerCase(),message:Te,args:Be,type:ce.name})}}}},7142:(st,Ee,R)=>{R.d(Ee,{Z:()=>h.Z});var h=R(3106);h.Z.registerVersion("firebase","9.23.0","app-compat")},5861:(st,Ee,R)=>{function h(re,se,fe,me,Pe,ze,xe){try{var L=re[ze](xe),U=L.value}catch(ne){return void fe(ne)}L.done?se(U):Promise.resolve(U).then(me,Pe)}function k(re){return function(){var se=this,fe=arguments;return new Promise(function(me,Pe){var ze=re.apply(se,fe);function xe(U){h(ze,me,Pe,xe,L,"next",U)}function L(U){h(ze,me,Pe,xe,L,"throw",U)}xe(void 0)})}}R.d(Ee,{Z:()=>k})},7582:(st,Ee,R)=>{function se(te,J){var ue={};for(var X in te)Object.prototype.hasOwnProperty.call(te,X)&&J.indexOf(X)<0&&(ue[X]=te[X]);if(null!=te&&"function"==typeof Object.getOwnPropertySymbols){var he=0;for(X=Object.getOwnPropertySymbols(te);he<X.length;he++)J.indexOf(X[he])<0&&Object.prototype.propertyIsEnumerable.call(te,X[he])&&(ue[X[he]]=te[X[he]])}return ue}function ne(te,J,ue,X){return new(ue||(ue=Promise))(function(Se,ut){function Ht(Ct){try{pt(X.next(Ct))}catch(qe){ut(qe)}}function sn(Ct){try{pt(X.throw(Ct))}catch(qe){ut(qe)}}function pt(Ct){Ct.done?Se(Ct.value):function he(Se){return Se instanceof ue?Se:new ue(function(ut){ut(Se)})}(Ct.value).then(Ht,sn)}pt((X=X.apply(te,J||[])).next())})}function ye(te){return this instanceof ye?(this.v=te,this):new ye(te)}function le(te,J,ue){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var he,X=ue.apply(te,J||[]),Se=[];return he={},ut("next"),ut("throw"),ut("return"),he[Symbol.asyncIterator]=function(){return this},he;function ut(tn){X[tn]&&(he[tn]=function(Ir){return new Promise(function(Br,_t){Se.push([tn,Ir,Br,_t])>1||Ht(tn,Ir)})})}function Ht(tn,Ir){try{!function sn(tn){tn.value instanceof ye?Promise.resolve(tn.value.v).then(pt,Ct):qe(Se[0][2],tn)}(X[tn](Ir))}catch(Br){qe(Se[0][3],Br)}}function pt(tn){Ht("next",tn)}function Ct(tn){Ht("throw",tn)}function qe(tn,Ir){tn(Ir),Se.shift(),Se.length&&Ht(Se[0][0],Se[0][1])}}function Oe(te){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var ue,J=te[Symbol.asyncIterator];return J?J.call(te):(te=function Be(te){var J="function"==typeof Symbol&&Symbol.iterator,ue=J&&te[J],X=0;if(ue)return ue.call(te);if(te&&"number"==typeof te.length)return{next:function(){return te&&X>=te.length&&(te=void 0),{value:te&&te[X++],done:!te}}};throw new TypeError(J?"Object is not iterable.":"Symbol.iterator is not defined.")}(te),ue={},X("next"),X("throw"),X("return"),ue[Symbol.asyncIterator]=function(){return this},ue);function X(Se){ue[Se]=te[Se]&&function(ut){return new Promise(function(Ht,sn){!function he(Se,ut,Ht,sn){Promise.resolve(sn).then(function(pt){Se({value:pt,done:Ht})},ut)}(Ht,sn,(ut=te[Se](ut)).done,ut.value)})}}}R.d(Ee,{FC:()=>le,KL:()=>Oe,_T:()=>se,mG:()=>ne,qq:()=>ye}),"function"==typeof SuppressedError&&SuppressedError}},st=>{st(st.s=5739)}]);